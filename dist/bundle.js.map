<<<<<<< HEAD
{"version":3,"sources":["webpack://innovation/./src/js/app.js","webpack://innovation/./src/js/cards/getCard.js","webpack://innovation/./src/js/cards/parseCards.js","webpack://innovation/./src/js/cards/renderCard.js","webpack://innovation/./src/js/components/Game.js","webpack://innovation/./src/js/components/GameField.js","webpack://innovation/./src/js/components/GameUI.js","webpack://innovation/./src/js/components/Intro.js","webpack://innovation/./src/js/components/Player.js","webpack://innovation/./src/js/components/mainMenu.js","webpack://innovation/./src/js/display/displayNewTurnModal.js","webpack://innovation/./src/js/display/displayNextTurnBtn.js","webpack://innovation/./src/js/display/playerTable/displayActiveZone.js","webpack://innovation/./src/js/display/playerTable/displayAside.js","webpack://innovation/./src/js/display/playerTable/displayHand.js","webpack://innovation/./src/js/display/playerTable/displayHeader.js","webpack://innovation/./src/js/display/playerTable/displayPlayerTable.js","webpack://innovation/./src/js/utility/initHotSeatGame.js","webpack://innovation/./src/js/utility/setAsideControls.js","webpack://innovation/./src/js/utility/setHandControls.js","webpack://innovation/./src/js/utility/shuffle.js","webpack://innovation/./node_modules/@animxyz/core/dist/animxyz.css","webpack://innovation/./src/scss/style.scss","webpack://innovation/webpack/bootstrap","webpack://innovation/webpack/runtime/define property getters","webpack://innovation/webpack/runtime/hasOwnProperty shorthand","webpack://innovation/webpack/runtime/make namespace object","webpack://innovation/webpack/startup"],"names":["document","body","prepend","displayPlayerTable","setHandControls","setAsideControls","initHotSeatGame","getCard","frontSide","cardObj","divCard","createElement","classList","add","style","background","cardImg","appendChild","getCardHeader","getCardMain","getCardFooter","setObjByPosition","age","color","card","divHeader","posTopLeft","title","textContent","innovation","divMain","dogma","forEach","item","divDogma","setAttribute","dogmaType","icon","dogmaIcon","dogmaColor","innerHTML","dogmaEffect","divFooter","posBottomLeft","posBottomCenter","posBottomRight","agePos","querySelector","agePosition","resourses","res","pos","resoursePosition","resourseType","resourseColor","parseCards","cardsJSON","resultArr","setOfCards","cards","cardObject","Object","assign","push","getRenderCard","hand","activeStacks","renderCard","initObject","querySelectorAll","toHand","cardElement","setTimeout","remove","append","toActive","targetStack","stack","children","contains","id","Game","gameUI","gameField","players","player","game","currentPlayer","currentDeck","domElement","ageDecks","age1","cardsArray","turnPoints","setCurrentPlayer","displayNewTurnModal","name","removeActiveDeck","setActiveDeck","renderHand","renderActiveZone","updateInfoTable","disableHandEvents","displayNextTurnBtn","newTurn","bind","i","length","keys","ageDeckKey","currentAge","onclick","takeCard","updateCurrentDeckBlock","cloneCurrentDeck","Array","from","pop","playCard","setCurrentAge","header","actionDone","infoTable","innerText","actionPoints","prevDeckClone","cloneNode","GameField","arrOfCardObjects","age2","age3","age4","age5","age6","age7","age8","age9","age10","leadershipDeck","specialDeck","setDeckArrays","cardsObj","e","Error","GameUI","getAgeDecks","getActiveStacks","getInfoTable","ageDecksElements","getElementsByClassName","ageDeck","activeStacksElements","activeStack","currentPlayerNameBlock","currentPlayerActionPoints","Intro","divIntro","introContainer","introTop","introCenter","introCenterTitle","introBottom","introBottomLamps","introBottomLamp","introGear","introGear1","introGear2","img","Image","src","addEventListener","menu","Menu","render","Player","playerName","blue","shift","red","green","purple","yellow","tree","tower","crown","bulb","factory","clock","ownedLeadership","influence","currentStack","highestCard","resourceName","lastTakenCard","stackName","splice","position","stackCards","stackShift","stackElement","stackDefWidth","offsetWidth","cardShiftValue","cardDefHeight","offsetHeight","stackDefHeight","child","bottom","left","width","right","scrollIntoView","calculateResources","usersInfo","validation","userObj","names","every","parent","text","createMenuItem","renderPdfRules","target","tagName","className","includes","createChoosePlayersItems","rulesWrraper","hidden","dataset","createNameInputField","preventDefault","writeNamesToObject","intro","parentElement","toggle","numberOfFields","createInputs","num","inputHTML","inputs","playerNames","value","displayModal","modalBg","modalBlock","modalText","modalBtn","newTurnFunction","nextTurnBtn","excistedNextTurnBtn","displayActiveZone","wrapper","init","cardsBlock","cardsBlockWrapper","cardsBlockOverlay","stacksNames","controlsBlock","displayAside","getInfoBlock","getCurrentDeckBlock","getExtraCardsBlock","getLogBlock","ageDecksBlock","getAgeDecksBlock","leadershipCardsBlock","getLeadershipCardsBlock","specialCardsBlock","getSpecialCardsBlock","infoBlock","currentPlayerBlock","currentPlayerText","currentPlayerName","actionPointsBlock","actionPointsText","actionPointsValue","currentDeckTitle","currentDeckCards","hoverBtn","extraCards","specialCards","specialCardsTitle","specialCardsCards","hoverBtnSpecial","leadershipCards","leadershipCardsTitle","leadershipCardsCards","hoverBtnLeadership","logBlock","spreadBtn","agesNumber","firstLine","secondLine","thirdLine","btnLine","deck","backgroundImage","button","numOfLeadershipCards","leadershipCard","numOfSpecialCards","specialCard","displayHand","arrowTop","disabled","arrowBottom","displayHeader","headRowNames","leadership","resourcesNames","player1","container","player2","player3","player4","initPlayerStats","headRow","iconContainer","activeZoneRow","recourcesRow","changePlayerStats","playerId","aside","activeZone","wrapperMain","arrOfCards","shuffle","arguments","opacity","buttons","animation","parentBlock","childLines","childBlocks","map","line","flat","removeEventListener","split","disableBtn","btnElement","enableBtn","setGameControls","btnTop","btnBottom","html","documentElement","window","getComputedStyle","getPropertyValue","fontSize","parseFloat","cardsLineHeight","timeoutTime","onwheel","disableScroll","scrollTop","scrollHeight","array","j","Math","floor","random"],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;CAGA;;AACA;AACA;AACA;CAGA;AACA;AAEA;;AACAA,QAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsBC,iFAAA,EAAtB,E,CAEA;;AACAC,iEAAe,G,CAEf;;AACAC,kEAAgB,G,CAEhB;;AACA;AACAC,iEAAe,CAAC,SAAD,EAAY,SAAZ,CAAf,C;;;;;;;;;;;;;;ACxBA;AACA,IAAMC,OAAO,GAAG;AACd;AACAC,WAFc,qBAEJC,OAFI,EAEK;AACjB,QAAMC,OAAO,GAAGV,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACAD,WAAO,CAACE,SAAR,CAAkBC,GAAlB,CAAsB,MAAtB;AACAH,WAAO,CAACI,KAAR,CAAcC,UAAd,mBAAmCN,OAAO,CAACO,OAA3C;AAEAN,WAAO,CAACO,WAAR,CAAoB,KAAKC,aAAL,CAAmBT,OAAnB,CAApB;AACAC,WAAO,CAACO,WAAR,CAAoB,KAAKE,WAAL,CAAiBV,OAAjB,CAApB;AACAC,WAAO,CAACO,WAAR,CAAoB,KAAKG,aAAL,EAApB;AACA,SAAKC,gBAAL,CAAsBX,OAAtB,EAA+BD,OAA/B,EAAwCA,OAAO,CAACa,GAAhD,EAAqDb,OAAO,CAACc,KAA7D;AAEA,WAAOb,OAAP;AACD,GAba;AAed;AACAQ,eAhBc,yBAgBAM,IAhBA,EAgBM;AAClB,QAAMC,SAAS,GAAGzB,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAc,aAAS,CAACb,SAAV,CAAoBC,GAApB,CAAwB,mBAAxB,yBAA6DW,IAAI,CAACD,KAAlE;AAEA,QAAMG,UAAU,GAAG1B,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACAe,cAAU,CAACd,SAAX,CAAqBC,GAArB,CAAyB,eAAzB;AAEA,QAAMc,KAAK,GAAG3B,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAd;AACAgB,SAAK,CAACf,SAAN,CAAgBC,GAAhB,CAAoB,oBAApB;AACAc,SAAK,CAACC,WAAN,GAAoBJ,IAAI,CAACK,UAAzB;AAEAJ,aAAS,CAACR,WAAV,CAAsBS,UAAtB;AACAD,aAAS,CAACR,WAAV,CAAsBU,KAAtB;AAEA,WAAOF,SAAP;AACD,GA/Ba;AAiCd;AACAN,aAlCc,uBAkCFK,IAlCE,EAkCI;AAChB,QAAMM,OAAO,GAAG9B,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACAmB,WAAO,CAAClB,SAAR,CAAkBC,GAAlB,CAAsB,iBAAtB,yBAAyDW,IAAI,CAACD,KAA9D;AAEAC,QAAI,CAACO,KAAL,CAAWC,OAAX,CAAmB,UAACC,IAAD,EAAU;AAC3B,UAAMC,QAAQ,GAAGlC,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAjB;AACAuB,cAAQ,CAACtB,SAAT,CAAmBC,GAAnB,CAAuB,aAAvB;AACAqB,cAAQ,CAACC,YAAT,CAAsB,gBAAtB,EAAwCF,IAAI,CAACG,SAA7C;AAEA,UAAMC,IAAI,GAAGrC,QAAQ,CAACW,aAAT,CAAuB,GAAvB,CAAb;AACA0B,UAAI,CAACzB,SAAL,CAAeC,GAAf,CAAmBoB,IAAI,CAACK,SAAL,CAAe,CAAf,CAAnB,EAAsCL,IAAI,CAACK,SAAL,CAAe,CAAf,CAAtC,EAAyD,YAAzD,8BAA4FL,IAAI,CAACM,UAAjG;AACAL,cAAQ,CAACjB,WAAT,CAAqBoB,IAArB;AAEA,UAAMN,KAAK,GAAG/B,QAAQ,CAACW,aAAT,CAAuB,MAAvB,CAAd;AACAoB,WAAK,CAACnB,SAAN,CAAgBC,GAAhB,CAAoB,eAApB;AACAkB,WAAK,CAACS,SAAN,GAAkBP,IAAI,CAACQ,WAAvB;AACAP,cAAQ,CAACjB,WAAT,CAAqBc,KAArB;AAEAD,aAAO,CAACb,WAAR,CAAoBiB,QAApB;AACD,KAfD;AAiBA,WAAOJ,OAAP;AACD,GAxDa;AA0Dd;AACAV,eA3Dc,2BA2DE;AACd,QAAMsB,SAAS,GAAG1C,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA+B,aAAS,CAAC9B,SAAV,CAAoBC,GAApB,CAAwB,mBAAxB;AAEA,QAAM8B,aAAa,GAAG3C,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACAgC,iBAAa,CAAC/B,SAAd,CAAwBC,GAAxB,CAA4B,kBAA5B;AACA6B,aAAS,CAACzB,WAAV,CAAsB0B,aAAtB;AAEA,QAAMC,eAAe,GAAG5C,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAxB;AACAiC,mBAAe,CAAChC,SAAhB,CAA0BC,GAA1B,CAA8B,oBAA9B;AACA6B,aAAS,CAACzB,WAAV,CAAsB2B,eAAtB;AAEA,QAAMC,cAAc,GAAG7C,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAvB;AACAkC,kBAAc,CAACjC,SAAf,CAAyBC,GAAzB,CAA6B,mBAA7B;AACA6B,aAAS,CAACzB,WAAV,CAAsB4B,cAAtB;AAEA,WAAOH,SAAP;AACD,GA5Ea;AA8Ed;AACArB,kBA/Ec,4BA+EGX,OA/EH,EA+EYc,IA/EZ,EA+EkB;AAC9B,QAAMsB,MAAM,GAAGpC,OAAO,CAACqC,aAAR,kBAAgCvB,IAAI,CAACwB,WAArC,EAAf;AACAF,UAAM,CAAClC,SAAP,CAAiBC,GAAjB,wBAAqCW,IAAI,CAACD,KAA1C,GAAmD,mBAAnD;AACAuB,UAAM,CAAClB,WAAP,GAAqBJ,IAAI,CAACF,GAA1B;AAEAE,QAAI,CAACyB,SAAL,CAAejB,OAAf,CAAuB,UAACkB,GAAD,EAAS;AAC9B,UAAMC,GAAG,GAAGzC,OAAO,CAACqC,aAAR,kBAAgCG,GAAG,CAACE,gBAApC,EAAZ;AACAD,SAAG,CAACvC,SAAJ,CAAcC,GAAd,WAAqBqC,GAAG,CAACG,YAAJ,CAAiB,CAAjB,CAArB,aAA+CH,GAAG,CAACG,YAAJ,CAAiB,CAAjB,CAA/C,+BACuBH,GAAG,CAACI,aAD3B,gCACkE9B,IAAI,CAACD,KADvE;AAED,KAJD;AAKD;AAzFa,CAAhB;AA4FA,iEAAehB,OAAf,E;;;;;;;;;;;;;;AC7FA;AACe,SAASgD,UAAT,CAAoBC,SAApB,EAA+B;AAC5C,MAAMC,SAAS,GAAG,EAAlB;AAEAD,WAAS,CAACxB,OAAV,CAAkB,UAAC0B,UAAD,EAAgB;AAChCA,cAAU,CAACC,KAAX,CAAiB3B,OAAjB,CAAyB,UAACR,IAAD,EAAU;AACjC,UAAMoC,UAAU,GAAG,EAAnB;AACAC,YAAM,CAACC,MAAP,CAAcF,UAAd,EAA0BF,UAA1B,EAAsClC,IAAtC;AACA,aAAOoC,UAAU,CAACD,KAAlB,CAHiC,CAGR;;AACzBF,eAAS,CAACM,IAAV,CAAeH,UAAf;AACD,KALD;AAMD,GAPD;AASA,SAAOH,SAAP;AACD,C;;;;;;;;;;;;;;ACdD,SAASO,aAAT,GAAyB;AACvB,MAAIC,IAAI,GAAG,IAAX;AACA,MAAIC,YAAY,GAAG,IAAnB;AAEA,MAAMC,UAAU,GAAG;AACjBC,cADiB,wBACJ;AACXH,UAAI,GAAGjE,QAAQ,CAAC+C,aAAT,CAAuB,cAAvB,CAAP;AACAmB,kBAAY,GAAGlE,QAAQ,CAACqE,gBAAT,CAA0B,qBAA1B,CAAf;AACD,KAJgB;AAMjBC,UANiB,kBAMVC,WANU,EAMG;AAClB,UAAIN,IAAI,KAAK,IAAT,IAAiBC,YAAY,KAAK,IAAtC,EAA4C,KAAKE,UAAL;AAC5CG,iBAAW,CAACpC,YAAZ,CAAyB,KAAzB,EAAgC,qCAAhC;AACAoC,iBAAW,CAAC3D,SAAZ,CAAsBC,GAAtB,CAA0B,QAA1B;AACA2D,gBAAU,CAAC,YAAM;AACfD,mBAAW,CAAC3D,SAAZ,CAAsB6D,MAAtB,CAA6B,QAA7B;AACD,OAFS,EAEP,GAFO,CAAV;AAGAR,UAAI,CAACS,MAAL,CAAYH,WAAZ;AACD,KAdgB;AAgBjBI,YAhBiB,oBAgBRJ,WAhBQ,EAgBK;AACpB,UAAIN,IAAI,KAAK,IAAT,IAAiBC,YAAY,KAAK,IAAtC,EAA4C,KAAKE,UAAL;AAC5C,UAAIQ,WAAW,GAAG,IAAlB;AACAV,kBAAY,CAAClC,OAAb,CAAqB,UAAC6C,KAAD,EAAW;AAC9B,YAAIN,WAAW,CAACO,QAAZ,CAAqB,CAArB,EAAwBlE,SAAxB,CAAkCmE,QAAlC,wBAA2DF,KAAK,CAACG,EAAjE,EAAJ,EAA4EJ,WAAW,GAAGC,KAAd;AAC7E,OAFD;AAID;AAvBgB,GAAnB;AA0BAV,YAAU,CAACC,UAAX;AACA,SAAOD,UAAP;AACD;;AAED,IAAMA,UAAU,GAAGH,aAAa,EAAhC;;;;;;;;;;;;;;;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAGA;;AACA;AACA;;IAEqBiB,I;AACnB,gBAAYC,MAAZ,EAAoBC,SAApB,EAA+BC,OAA/B,EAAwC;AAAA;;AAAA;;AACtC;AACA,SAAKA,OAAL,GAAeA,OAAf;AACA,SAAKD,SAAL,GAAiBA,SAAjB;AACA,SAAKD,MAAL,GAAcA,MAAd,CAJsC,CAMtC;;AACA,SAAKE,OAAL,CAAapD,OAAb,CAAqB,UAACqD,MAAD,EAAY;AAC/BA,YAAM,CAACC,IAAP,GAAc,KAAd;AACD,KAFD,EAPsC,CAWtC;;AACA,SAAKC,aAAL,GAAqB,IAArB;AACA,SAAKC,WAAL,GAAmB;AACjBC,gBAAU,EAAEP,MAAM,CAACQ,QAAP,CAAgBC,IADX;AAEjBC,gBAAU,EAAET,SAAS,CAACO,QAAV,CAAmBC;AAFd,KAAnB;AAIA,SAAKE,UAAL,GAAkB,CAAlB;AACD;;;;8BAES;AAAA;;AACR,WAAKC,gBAAL;AACAC,2EAAmB,CAAC,KAAKR,aAAL,CAAmBS,IAApB,CAAnB;AACA,WAAKH,UAAL,GAAkB,GAAlB,CAHQ,CAIR;;AACArB,gBAAU,CAAC,YAAM;AACf,cAAI,CAACyB,gBAAL;;AACA,cAAI,CAACC,aAAL,CAAmB,MAAI,CAACX,aAAxB;;AACA,cAAI,CAACA,aAAL,CAAmBY,UAAnB;;AACA,cAAI,CAACZ,aAAL,CAAmBa,gBAAnB;;AACA,cAAI,CAACC,eAAL;AACD,OANS,EAMP,GANO,CAAV;AAOD,K,CAED;;;;iCACa;AACX,WAAKR,UAAL,IAAmB,CAAnB;AACA,WAAKQ,eAAL;AACA,WAAKJ,gBAAL;;AACA,UAAI,KAAKJ,UAAL,GAAkB,CAAtB,EAAyB;AACvB,aAAKK,aAAL,CAAmB,KAAKX,aAAxB;AACD,OAFD,MAEO;AACL,aAAKe,iBAAL;AACAC,4EAAkB,CAAC,KAAKC,OAAL,CAAaC,IAAb,CAAkB,IAAlB,CAAD,CAAlB;AACD;AACF,K,CAED;;;;uCACmB;AACjB,UAAI,KAAKlB,aAAL,KAAuB,IAA3B,EAAiC;AAC/B,aAAKA,aAAL,GAAqB,KAAKH,OAAL,CAAa,CAAb,CAArB;AACD,OAFD,MAEO;AACL,aAAK,IAAIsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKtB,OAAL,CAAauB,MAAjC,EAAyCD,CAAC,IAAI,CAA9C,EAAiD;AAC/C,cAAI,KAAKnB,aAAL,KAAuB,KAAKH,OAAL,CAAasB,CAAb,CAA3B,EAA4C;AAC1CA,aAAC,IAAI,CAAL;AACA,gBAAIA,CAAC,KAAK,KAAKtB,OAAL,CAAauB,MAAvB,EAA+BD,CAAC,GAAG,CAAJ;AAC/B,iBAAKnB,aAAL,GAAqB,KAAKH,OAAL,CAAasB,CAAb,CAArB;AACA;AACD;AACF;AACF;AACF,K,CAED;;;;kCACcnB,a,EAAe;AAAA;;AAC3B1B,YAAM,CAAC+C,IAAP,CAAY,KAAKzB,SAAL,CAAeO,QAA3B,EAAqC1D,OAArC,CAA6C,UAAC6E,UAAD,EAAgB;AAC3D,YAAIA,UAAU,kBAAWtB,aAAa,CAACuB,UAAzB,CAAd,EAAqD;AACnD;AACA,gBAAI,CAACtB,WAAL,CAAiBC,UAAjB,GAA8B,MAAI,CAACP,MAAL,CAAYQ,QAAZ,cAA2BH,aAAa,CAACuB,UAAzC,EAA9B,CAFmD,CAGnD;;AACA,gBAAI,CAACtB,WAAL,CAAiBI,UAAjB,GAA8B,MAAI,CAACT,SAAL,CAAeO,QAAf,CAAwBmB,UAAxB,CAA9B,CAJmD,CAKnD;AACA;;AACA,cAAI,MAAI,CAACrB,WAAL,CAAiBI,UAAjB,CAA4Be,MAA5B,KAAuC,CAA3C,EAA8C;AAC5C,kBAAI,CAACpB,aAAL,CAAmBuB,UAAnB,IAAiC,CAAjC;AACD;AACF;AACF,OAZD,EAD2B,CAc3B;;AACA,WAAKtB,WAAL,CAAiBC,UAAjB,CAA4B7E,SAA5B,CAAsCC,GAAtC,CAA0C,kBAA1C,EAf2B,CAgB3B;;AACA,WAAK2E,WAAL,CAAiBC,UAAjB,CAA4BsB,OAA5B,GAAsC,KAAKC,QAAL,CAAcP,IAAd,CAAmB,IAAnB,CAAtC,CAjB2B,CAmB3B;;AACA,WAAKQ,sBAAL;AACD,K,CAED;AACA;;;;uCACmB;AACjB,UAAMC,gBAAgB,GAAGlH,QAAQ,CAAC+C,aAAT,CAAuB,mBAAvB,CAAzB;AACA,UAAImE,gBAAgB,KAAK,IAAzB,EAA+BA,gBAAgB,CAACH,OAAjB,GAA2B,EAA3B;AAE/B,WAAKvB,WAAL,CAAiBC,UAAjB,CAA4B7E,SAA5B,CAAsC6D,MAAtC,CAA6C,kBAA7C;AACA,WAAKe,WAAL,CAAiBC,UAAjB,CAA4BsB,OAA5B,GAAsC,EAAtC;AACD;;;wCAEmB;AAClB,UAAMpD,KAAK,GAAGwD,KAAK,CAACC,IAAN,CAAWpH,QAAQ,CAACqE,gBAAT,CAA0B,OAA1B,CAAX,CAAd;AACAV,WAAK,CAAC3B,OAAN,CAAc,UAACR,IAAD,EAAU;AACtBA,YAAI,CAACuF,OAAL,GAAe,EAAf;AACD,OAFD;AAGD,K,CAED;;;;+BACW;AAAA;;AACT,UAAMnD,UAAU,GAAG,KAAK4B,WAAL,CAAiBI,UAAjB,CAA4ByB,GAA5B,EAAnB;AACA,WAAK9B,aAAL,CAAmBtB,IAAnB,CAAwBF,IAAxB,CAA6BH,UAA7B;AAEA,UAAMW,WAAW,GAAGhE,6DAAA,CAAkBqD,UAAlB,CAApB;;AAEAW,iBAAW,CAACwC,OAAZ,GAAsB,YAAM;AAAE,cAAI,CAACxB,aAAL,CAAmB+B,QAAnB,CAA4B1D,UAA5B,EAAwCW,WAAxC;AAAuD,OAArF,CANS,CAM8E;;;AAEvFJ,wEAAA,CAAoBI,WAApB;AAEA,WAAKgB,aAAL,CAAmBgC,aAAnB;AACAC,+FAAA,CAAyB,KAAKjC,aAA9B;AAEA,WAAKkC,UAAL;AACD,K,CAED;;;;sCACkB;AAChB,WAAKvC,MAAL,CAAYwC,SAAZ,CAAsB1B,IAAtB,CAA2B2B,SAA3B,GAAuC,KAAKpC,aAAL,CAAmBS,IAA1D;AACA,WAAKd,MAAL,CAAYwC,SAAZ,CAAsBE,YAAtB,CAAmCD,SAAnC,GAA+C,KAAK9B,UAApD;AACD,K,CAED;;;;6CACyB;AACvB;AACA,UAAMgC,aAAa,GAAG7H,QAAQ,CAAC+C,aAAT,CAAuB,mBAAvB,CAAtB;AACA,UAAI8E,aAAa,KAAK,IAAtB,EAA4BA,aAAa,CAACpD,MAAd,GAHL,CAKvB;;AACA,UAAMyC,gBAAgB,GAAG,KAAK1B,WAAL,CAAiBC,UAAjB,CAA4BqC,SAA5B,EAAzB;AACAZ,sBAAgB,CAACS,SAAjB,GAA6B,KAAKnC,WAAL,CAAiBC,UAAjB,CAA4BkC,SAAzD;AACAT,sBAAgB,CAAClC,EAAjB,GAAsB,kBAAtB;AACAkC,sBAAgB,CAACH,OAAjB,GAA2B,KAAKC,QAAL,CAAcP,IAAd,CAAmB,IAAnB,CAA3B,CATuB,CAWvB;;AACAS,sBAAgB,CAACtG,SAAjB,CAA2B6D,MAA3B,CAAkC,QAAlC,EAZuB,CAcvB;;AACA,WAAKS,MAAL,CAAYM,WAAZ,CAAwBd,MAAxB,CAA+BwC,gBAA/B;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;ACjKH;AACA;AACA;AACA;AACA;AACA;IACqBa,S;AACnB,qBAAYC,gBAAZ,EAA8B;AAAA;;AAC5B;AACA,SAAKtC,QAAL,GAAgB;AACdC,UAAI,EAAE,EADQ;AAEdsC,UAAI,EAAE,EAFQ;AAGdC,UAAI,EAAE,EAHQ;AAIdC,UAAI,EAAE,EAJQ;AAKdC,UAAI,EAAE,EALQ;AAMdC,UAAI,EAAE,EANQ;AAOdC,UAAI,EAAE,EAPQ;AAQdC,UAAI,EAAE,EARQ;AASdC,UAAI,EAAE,EATQ;AAUdC,WAAK,EAAE;AAVO,KAAhB,CAF4B,CAe5B;AACA;;AACA,SAAKC,cAAL,GAAsB,EAAtB,CAjB4B,CAkB5B;AACA;;AACA,SAAKC,WAAL,GAAmB,EAAnB,CApB4B,CAsB5B;;AACA,SAAKC,aAAL,CAAmBZ,gBAAnB;AACD,G,CAED;AACA;;;;;kCACca,Q,EAAU;AAAA;;AACtBA,cAAQ,CAAC7G,OAAT,CAAiB,UAAC8G,CAAD,EAAO;AACtB,gBAAQ,CAACA,CAAC,CAACxH,GAAX;AACE,eAAK,CAAL;AACE,iBAAI,CAACoE,QAAL,CAAcC,IAAd,CAAmB5B,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAcuC,IAAd,CAAmBlE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAcwC,IAAd,CAAmBnE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAcyC,IAAd,CAAmBpE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAc0C,IAAd,CAAmBrE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAc2C,IAAd,CAAmBtE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAc4C,IAAd,CAAmBvE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAc6C,IAAd,CAAmBxE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,CAAL;AACE,iBAAI,CAACpD,QAAL,CAAc8C,IAAd,CAAmBzE,IAAnB,CAAwB+E,CAAxB;;AACA;;AACF,eAAK,EAAL;AACE,iBAAI,CAACpD,QAAL,CAAc+C,KAAd,CAAoB1E,IAApB,CAAyB+E,CAAzB;;AACA;;AACF;AACE,kBAAM,IAAIC,KAAJ,wCAA0CD,CAA1C,EAAN;AAhCJ;AAkCD,OAnCD;AAoCD;;;;;;;;;;;;;;;;;;;;;;;;;;ACxEH;AACA;AACA;AACA;IACqBE,M;AACnB,oBAAc;AAAA;;AACZ,SAAKtD,QAAL,GAAgB,EAAhB;AACA,SAAKuD,WAAL;AAEA,SAAK/E,YAAL,GAAoB,EAApB;AACA,SAAKgF,eAAL;AAEA,SAAKxB,SAAL,GAAiB,EAAjB;AACA,SAAKyB,YAAL;AAEA,SAAK3D,WAAL,GAAmBxF,QAAQ,CAAC+C,aAAT,CAAuB,sBAAvB,CAAnB;AACA,SAAKkB,IAAL,GAAYjE,QAAQ,CAAC+C,aAAT,CAAuB,cAAvB,CAAZ;AACD;;;;kCAEa;AAAA;;AACZ,UAAMqG,gBAAgB,GAAGjC,KAAK,CAACC,IAAN,CAAWpH,QAAQ,CAACqJ,sBAAT,CAAgC,UAAhC,CAAX,CAAzB;AACAD,sBAAgB,CAACpH,OAAjB,CAAyB,UAACsH,OAAD,EAAU5C,CAAV,EAAgB;AACvC,aAAI,CAAChB,QAAL,cAAoBgB,CAAC,GAAG,CAAxB,KAA+B0C,gBAAgB,CAAC1C,CAAD,CAA/C;AACD,OAFD;AAGD;;;sCAEiB;AAAA;;AAChB,UAAM6C,oBAAoB,GAAGpC,KAAK,CAACC,IAAN,CAAWpH,QAAQ,CAACqJ,sBAAT,CAAgC,oBAAhC,CAAX,CAA7B;AACAE,0BAAoB,CAACvH,OAArB,CAA6B,UAACwH,WAAD,EAAiB;AAC5C,cAAI,CAACtF,YAAL,CAAkBsF,WAAW,CAACxE,EAA9B,IAAoCwE,WAApC;AACD,OAFD;AAGD;;;mCAEc;AACb,UAAMC,sBAAsB,GAAGzJ,QAAQ,CAAC+C,aAAT,CAAuB,0BAAvB,CAA/B;AACA,WAAK2E,SAAL,CAAe1B,IAAf,GAAsByD,sBAAtB;AACA,UAAMC,yBAAyB,GAAG1J,QAAQ,CAAC+C,aAAT,CAAuB,4BAAvB,CAAlC;AACA,WAAK2E,SAAL,CAAeE,YAAf,GAA8B8B,yBAA9B;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCH;;IAEqBC,K;;;;;;;2BACL;AACZ,UAAMC,QAAQ,GAAG5J,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAjB;AACAiJ,cAAQ,CAAChJ,SAAT,CAAmBC,GAAnB,CAAuB,OAAvB;AAEA,UAAMgJ,cAAc,GAAG7J,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAvB;AACAkJ,oBAAc,CAACjJ,SAAf,CAAyBC,GAAzB,CAA6B,kBAA7B;AAEA,UAAMiJ,QAAQ,GAAG9J,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAjB;AACAmJ,cAAQ,CAAClJ,SAAT,CAAmBC,GAAnB,CAAuB,YAAvB,EARY,CAUZ;;AACA,UAAMkJ,WAAW,GAAG/J,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACAoJ,iBAAW,CAACnJ,SAAZ,CAAsBC,GAAtB,CAA0B,eAA1B;AACAkJ,iBAAW,CAACvH,SAAZ;AAuEA,UAAMwH,gBAAgB,GAAGhK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACAqJ,sBAAgB,CAACpJ,SAAjB,CAA2BC,GAA3B,CAA+B,eAA/B;AACAkJ,iBAAW,CAAC9I,WAAZ,CAAwB+I,gBAAxB;AAEA,UAAMC,WAAW,GAAGjK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACAsJ,iBAAW,CAACrJ,SAAZ,CAAsBC,GAAtB,CAA0B,eAA1B;AACA,UAAMqJ,gBAAgB,GAAGlK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACAuJ,sBAAgB,CAACtJ,SAAjB,CAA2BC,GAA3B,CAA+B,cAA/B;;AACA,WAAK,IAAI6F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,IAAI,CAA5B,EAA+B;AAC7B,YAAMyD,eAAe,GAAGnK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAxB;AACAwJ,uBAAe,CAACvJ,SAAhB,CAA0BC,GAA1B,yBAA+C6F,CAAC,GAAG,CAAnD;AACAwD,wBAAgB,CAACjJ,WAAjB,CAA6BkJ,eAA7B;AACD;;AACDF,iBAAW,CAAChJ,WAAZ,CAAwBiJ,gBAAxB;AAEA,UAAME,SAAS,GAAGpK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAyJ,eAAS,CAACxJ,SAAV,CAAoBC,GAApB,CAAwB,aAAxB;AACA,UAAMwJ,UAAU,GAAGrK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA0J,gBAAU,CAACzJ,SAAX,CAAqBC,GAArB,CAAyB,cAAzB;AACA,UAAMyJ,UAAU,GAAGtK,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA2J,gBAAU,CAAC1J,SAAX,CAAqBC,GAArB,CAAyB,cAAzB;AACAuJ,eAAS,CAACnJ,WAAV,CAAsBoJ,UAAtB;AACAD,eAAS,CAACnJ,WAAV,CAAsBqJ,UAAtB;AAEAT,oBAAc,CAAC5I,WAAf,CAA2B6I,QAA3B;AACAD,oBAAc,CAAC5I,WAAf,CAA2B8I,WAA3B;AACAF,oBAAc,CAAC5I,WAAf,CAA2BgJ,WAA3B;AACAJ,oBAAc,CAAC5I,WAAf,CAA2BmJ,SAA3B;AACAR,cAAQ,CAAC3I,WAAT,CAAqB4I,cAArB;AACA7J,cAAQ,CAACC,IAAT,CAAcgB,WAAd,CAA0B2I,QAA1B;AAEA,UAAMW,GAAG,GAAG,IAAIC,KAAJ,EAAZ;AACAD,SAAG,CAACE,GAAJ,GAAU,+BAAV;AAEAF,SAAG,CAACG,gBAAJ,CAAqB,MAArB,EAA6B,YAAM;AACjCT,mBAAW,CAACrJ,SAAZ,CAAsBC,GAAtB,CAA0B,MAA1B,EADiC,CAEjC;;AACA,YAAM8J,IAAI,GAAG,IAAIC,8CAAJ,CAASd,QAAT,CAAb;AACAa,YAAI,CAACE,MAAL;AACD,OALD;AAMD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HH;AACA;AAEA;AACA;AACA;AACA;;IACqBC,M;AACnB,kBAAY5F,MAAZ,EAAoB6F,UAApB,EAAgC/F,EAAhC,EAAoC;AAAA;;AAClC;AACA,SAAKgB,IAAL,GAAY+E,UAAZ;AACA,SAAK/F,EAAL,GAAUA,EAAV;AACA,SAAKE,MAAL,GAAcA,MAAd,CAJkC,CAMlC;;AACA,SAAKI,IAAL,GAAY,IAAZ,CAPkC,CAOhB;;AAClB,SAAKwB,UAAL,GAAkB,CAAlB;AACA,SAAK7C,IAAL,GAAY,EAAZ,CATkC,CAWlC;;AACA,SAAKC,YAAL,GAAoB;AAClB8G,UAAI,EAAE;AACJrH,aAAK,EAAE,EADH;AAEJsH,aAAK,EAAE,OAFH,CAEY;;AAFZ,OADY;AAKlBC,SAAG,EAAE;AACHvH,aAAK,EAAE,EADJ;AAEHsH,aAAK,EAAE,KAFJ,CAEW;;AAFX,OALa;AASlBE,WAAK,EAAE;AACLxH,aAAK,EAAE,EADF;AAELsH,aAAK,EAAE,IAFF,CAEQ;;AAFR,OATW;AAalBG,YAAM,EAAE;AACNzH,aAAK,EAAE,EADD;AAENsH,aAAK,EAAE,MAFD,CAES;;AAFT,OAbU;AAiBlBI,YAAM,EAAE;AACN1H,aAAK,EAAE,EADD;AAENsH,aAAK,EAAE,KAFD,CAEQ;;AAFR;AAjBU,KAApB,CAZkC,CAmClC;;AACA,SAAKK,IAAL,GAAY,CAAZ;AACA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,IAAL,GAAY,CAAZ;AACA,SAAKC,OAAL,GAAe,CAAf;AACA,SAAKC,KAAL,GAAa,CAAb,CAzCkC,CA2ClC;AACA;;AACA,SAAKC,eAAL,GAAuB;AACrBnG,gBAAU,EAAE,IADS;AACH;AAClBG,gBAAU,EAAE;AAFS,KAAvB,CA7CkC,CAiDlC;;AACA,SAAKiG,SAAL,GAAiB;AACfpG,gBAAU,EAAE,IADG;AACG;AAClBG,gBAAU,EAAE;AAFG,KAAjB;AAID,G,CAED;;;;;yCACqB;AAAA;;AACnB,WAAK0F,IAAL,GAAY,CAAZ;AACA,WAAKC,KAAL,GAAa,CAAb;AACA,WAAKC,KAAL,GAAa,CAAb;AACA,WAAKC,IAAL,GAAY,CAAZ;AACA,WAAKC,OAAL,GAAe,CAAf;AACA,WAAKC,KAAL,GAAa,CAAb;AACA9H,YAAM,CAAC+C,IAAP,CAAY,KAAK1C,YAAjB,EAA+BlC,OAA/B,CAAuC,UAAC6C,KAAD,EAAW;AAChD,YAAMiH,YAAY,GAAG,KAAI,CAAC5H,YAAL,CAAkBW,KAAlB,CAArB;;AACA,YAAIiH,YAAY,CAACnI,KAAb,CAAmBgD,MAAnB,GAA4B,CAAhC,EAAmC;AACjC,cAAMoF,WAAW,GAAGD,YAAY,CAACnI,KAAb,CAAmBmI,YAAY,CAACnI,KAAb,CAAmBgD,MAAnB,GAA4B,CAA/C,CAApB;AACAoF,qBAAW,CAAC9I,SAAZ,CAAsBjB,OAAtB,CAA8B,UAAC8G,CAAD,EAAO;AACnC,iBAAI,CAACA,CAAC,CAACkD,YAAH,CAAJ,IAAwB,CAAxB;AACD,WAFD;AAGD;AACF,OARD;AASD,K,CAED;AACA;;;;oCACgB;AAAA;;AACdnI,YAAM,CAAC+C,IAAP,CAAY,KAAK1C,YAAjB,EAA+BlC,OAA/B,CAAuC,UAAC6C,KAAD,EAAW;AAChD,cAAI,CAACX,YAAL,CAAkBW,KAAlB,EAAyBlB,KAAzB,CAA+B3B,OAA/B,CAAuC,UAACR,IAAD,EAAU;AAC/C,cAAI,CAACA,IAAI,CAACF,GAAN,GAAY,MAAI,CAACwF,UAArB,EAAiC;AAC/B,kBAAI,CAACA,UAAL,GAAkB,CAACtF,IAAI,CAACF,GAAxB;AACD;AACF,SAJD;AAKD,OAND;AAOD,K,CAED;;;;0CACsB;AAAA;;AACpB,UAAM2K,aAAa,GAAG,KAAKhI,IAAL,CAAU,KAAKA,IAAL,CAAU0C,MAAV,GAAmB,CAA7B,CAAtB;AACA,UAAMpC,WAAW,GAAGhE,6DAAA,CAAkB0L,aAAlB,CAApB,CAFoB,CAIpB;;AACA1H,iBAAW,CAACpC,YAAZ,CAAyB,KAAzB,EAAgC,qCAAhC;AACAoC,iBAAW,CAAC3D,SAAZ,CAAsBC,GAAtB,CAA0B,QAA1B;;AAEA0D,iBAAW,CAACwC,OAAZ,GAAsB,YAAM;AAAE,cAAI,CAACO,QAAL,CAAc2E,aAAd,EAA6B1H,WAA7B;AAA4C,OAA1E;;AACA,WAAKW,MAAL,CAAYjB,IAAZ,CAAiBS,MAAjB,CAAwBH,WAAxB,EAToB,CAWpB;;AACAC,gBAAU,CAAC,YAAM;AACf;AACAD,mBAAW,CAAC3D,SAAZ,CAAsB6D,MAAtB,CAA6B,QAA7B;AACD,OAHS,EAGP,GAHO,CAAV;AAID,K,CAED;;;;iCACa;AAAA;;AACX,WAAKS,MAAL,CAAYjB,IAAZ,CAAiBzB,SAAjB,GAA6B,EAA7B,CADW,CACsB;;AAEjC,WAAKyB,IAAL,CAAUjC,OAAV,CAAkB,UAACR,IAAD,EAAU;AAC1B,YAAM+C,WAAW,GAAGhE,6DAAA,CAAkBiB,IAAlB,CAApB;;AACA+C,mBAAW,CAACwC,OAAZ,GAAsB,YAAM;AAC1B,gBAAI,CAACO,QAAL,CAAc9F,IAAd,EAAoB+C,WAApB;AACD,SAFD;;AAGA,cAAI,CAACW,MAAL,CAAYjB,IAAZ,CAAiBS,MAAjB,CAAwBH,WAAxB;AACD,OAND;AAOD,K,CAED;;;;uCACmB;AAAA;;AACjBV,YAAM,CAAC+C,IAAP,CAAY,KAAK1C,YAAjB,EAA+BlC,OAA/B,CAAuC,UAACkK,SAAD,EAAe;AACpD,cAAI,CAAChH,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,EAAoC1J,SAApC,GAAgD,EAAhD,CADoD,CACA;;AACpD,cAAI,CAAC0B,YAAL,CAAkBgI,SAAlB,EAA6BvI,KAA7B,CAAmC3B,OAAnC,CAA2C,UAACR,IAAD,EAAU;AACnD,gBAAI,CAAC0D,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,EAAoCxH,MAApC,CAA2CnE,6DAAA,CAAkBiB,IAAlB,CAA3C;AACD,SAFD;AAGD,OALD;AAMD,K,CAED;AACA;;;;6BACSf,O,EAAS8D,W,EAAa;AAAA;;AAC7BV,YAAM,CAAC+C,IAAP,CAAY,KAAK1C,YAAjB,EAA+BlC,OAA/B,CAAuC,UAACkK,SAAD,EAAe;AACpD,YAAIA,SAAS,KAAKzL,OAAO,CAACc,KAA1B,EAAiC;AAC/B,gBAAI,CAAC0C,IAAL,CAAUjC,OAAV,CAAkB,UAAC8G,CAAD,EAAIpC,CAAJ,EAAU;AAC1B,gBAAIoC,CAAC,KAAKrI,OAAV,EAAmB;AACjB,oBAAI,CAACwD,IAAL,CAAUkI,MAAV,CAAiBzF,CAAjB,EAAoB,CAApB;AACD;AACF,WAJD;;AAKA,cAAI,MAAI,CAACxC,YAAL,CAAkBgI,SAAlB,EAA6BvI,KAA7B,CAAmCgD,MAAnC,KAA8C,CAAlD,EAAqD;AACnD3G,oBAAQ,CAAC+C,aAAT,YAA2BmJ,SAA3B,GAAwCtL,SAAxC,CAAkD6D,MAAlD,CAAyD,2BAAzD;AACD;;AAEDF,qBAAW,CAACzD,KAAZ,CAAkBsL,QAAlB,GAA6B,UAA7B;AACA7H,qBAAW,CAAC3D,SAAZ,CAAsBC,GAAtB,CAA0B,QAA1B;AAEA,cAAMwL,UAAU,GAAG,MAAI,CAACnI,YAAL,CAAkBgI,SAAlB,EAA6BvI,KAAhD;AACA,cAAM2I,UAAU,GAAG,MAAI,CAACpI,YAAL,CAAkBgI,SAAlB,EAA6BjB,KAAhD;AACA,cAAMsB,YAAY,GAAG,MAAI,CAACrH,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,CAArB;AACA,cAAMM,aAAa,GAAG,MAAI,CAACtH,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,EAAoCO,WAA1D;AAEA,cAAIC,cAAc,GAAG,EAArB;AACA,cAAMC,aAAa,GAAGpI,WAAW,CAACqI,YAAlC;AACA,cAAMC,cAAc,GAAG,MAAI,CAAC3H,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,EAAoCU,YAA3D;;AACA,cAAIC,cAAc,GAAGF,aAAa,GAAIN,UAAU,CAAC1F,MAAX,GAAoB+F,cAAtD,IAAyEvF,KAAK,CAACC,IAAN,CAAWmF,YAAY,CAACzH,QAAxB,EAAkC,CAAlC,EAAqChE,KAArC,KAA+C,MAAxH,IAAkIwL,UAAU,KAAK,KAArJ,EAA4J;AAC1JI,0BAAc,GAAG,EAAjB;AACAvF,iBAAK,CAACC,IAAN,CAAWmF,YAAY,CAACzH,QAAxB,EAAkC9C,OAAlC,CAA0C,UAAC8K,KAAD,EAAQpG,CAAR,EAAc;AACtDoG,mBAAK,CAAChM,KAAN,CAAYiM,MAAZ,aAAwBrG,CAAC,GAAGgG,cAA5B;AACD,aAFD;AAGD;;AACD,cAAIG,cAAc,GAAGF,aAAa,GAAIN,UAAU,CAAC1F,MAAX,GAAoB+F,cAAtD,IAAyEvF,KAAK,CAACC,IAAN,CAAWmF,YAAY,CAACzH,QAAxB,EAAkC,CAAlC,EAAqChE,KAArC,KAA+C,MAAxH,IAAkIwL,UAAU,KAAK,KAArJ,EAA4J;AAC1JI,0BAAc,GAAG,EAAjB;AACAvF,iBAAK,CAACC,IAAN,CAAWmF,YAAY,CAACzH,QAAxB,EAAkC9C,OAAlC,CAA0C,UAAC8K,KAAD,EAAQpG,CAAR,EAAc;AACtDoG,mBAAK,CAAChM,KAAN,CAAYiM,MAAZ,aAAwBrG,CAAC,GAAGgG,cAA5B;AACD,aAFD;AAGD;;AACD,cAAIG,cAAc,GAAGF,aAAa,GAAIN,UAAU,CAAC1F,MAAX,GAAoB+F,cAAtD,IAAyEJ,UAAU,KAAK,KAA5F,EAAmG;AACjGI,0BAAc,GAAG,EAAjB;AACAvF,iBAAK,CAACC,IAAN,CAAWmF,YAAY,CAACzH,QAAxB,EAAkC9C,OAAlC,CAA0C,UAAC8K,KAAD,EAAQpG,CAAR,EAAc;AACtDoG,mBAAK,CAAChM,KAAN,CAAYiM,MAAZ,aAAwBrG,CAAC,GAAGgG,cAA5B;AACD,aAFD;AAGD;;AAED,cAAIJ,UAAU,KAAK,KAAnB,EAA0B;AACxB/H,uBAAW,CAACzD,KAAZ,CAAkBiM,MAAlB,aAA8BV,UAAU,CAAC1F,MAAX,GAAoB+F,cAAlD;AACD,WAFD,MAEO,IAAIJ,UAAU,KAAK,OAAf,IAA0BD,UAAU,CAAC1F,MAAX,KAAsB,CAApD,EAAuD;AAC5DpC,uBAAW,CAACzD,KAAZ,CAAkBkM,IAAlB,aAA4BX,UAAU,CAAC1F,MAAX,GAAoB,EAAhD,QAD4D,CAE5D;;AACA4F,wBAAY,CAACzL,KAAb,CAAmBmM,KAAnB,aAA8BT,aAAa,GAAG,EAA9C;AACD,WAJM,MAIA,IAAIF,UAAU,KAAK,MAAnB,EAA2B;AAChC/H,uBAAW,CAACzD,KAAZ,CAAkBoM,KAAlB,aAA6Bb,UAAU,CAAC1F,MAAX,GAAoB,EAAjD,QADgC,CAEhC;;AACA,gBAAI0F,UAAU,CAAC1F,MAAX,KAAsB,CAA1B,EAA6B;AAC3B4F,0BAAY,CAACzL,KAAb,CAAmBmM,KAAnB,aAA8BT,aAAa,GAAG,EAA9C;AACD;AACF;;AAED,gBAAI,CAACtI,YAAL,CAAkBgI,SAAlB,EAA6BvI,KAA7B,CAAmCI,IAAnC,CAAwCtD,OAAxC;;AAEA,gBAAI,CAACyE,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,EAAoCxH,MAApC,CAA2CH,WAA3C;;AAEA,gBAAI,CAACW,MAAL,CAAYhB,YAAZ,CAAyBgI,SAAzB,EAAoCiB,cAApC;AACD;AACF,OA7DD;AA8DA,WAAKC,kBAAL;AACA5F,+FAAA,CAAyB,IAAzB;AACA,WAAKlC,IAAL,CAAUmC,UAAV;AACD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7MH;AAEA,IAAM4F,SAAS,GAAG,EAAlB;;AAEA,SAASC,UAAT,CAAoBC,OAApB,EAA6B;AAC3B,SAAOA,OAAO,CAACC,KAAR,CAAcC,KAAd,CAAoB,UAACzH,IAAD;AAAA,WAAUA,IAAI,CAACW,MAAL,GAAc,CAAd,IAAmBX,IAAI,CAACW,MAAL,GAAc,EAA3C;AAAA,GAApB,CAAP;AACD,C,CACD;;;IACMiE,I;AACJ,gBAAY8C,MAAZ,EAAoB;AAAA;;AAClB,SAAKA,MAAL,GAAcA,MAAd;AACD;;;;mCAEcC,I,EAAmB;AAChC;AAAO;AAAP,mDAAmD,sDAAe,EAAlE,gBAAyE,sDAAe,EAAxF,sBACIA,IADJ;AAAA;AAMD;;;6BAEQ;AAAA;;AACP,WAAKhD,IAAL,GAAY3K,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAZ;AACA,WAAKgK,IAAL,CAAU/J,SAAV,CAAoBC,GAApB,CAAwB,MAAxB;AACA,WAAK8J,IAAL,CAAUnI,SAAV,mBACE,KAAKoL,cAAL,CAAoB,YAApB,EAAkC,OAAlC,CADF,mBAEE,KAAKA,cAAL,CAAoB,YAApB,CAFF,mBAGE,KAAKA,cAAL,CAAoB,gBAApB,CAHF,mBAIE,KAAKA,cAAL,CAAoB,cAApB,EAAoC,OAApC,CAJF,mBAKE,KAAKA,cAAL,CAAoB,YAApB,CALF;AAQA,WAAKF,MAAL,CAAYhJ,MAAZ,CAAmB,KAAKiG,IAAxB;AACA,WAAKkD,cAAL;AAEA,WAAKlD,IAAL,CAAUD,gBAAV,CAA2B,OAA3B,EAAoC,UAAC5B,CAAD,EAAO;AACzC,YAAIA,CAAC,CAACgF,MAAF,CAASC,OAAT,KAAqB,GAArB,IAA4BjF,CAAC,CAACgF,MAAF,CAASC,OAAT,KAAqB,MAAjD,IAA2DjF,CAAC,CAACgF,MAAF,KAAa,KAAI,CAACnD,IAAL,CAAU5H,aAAV,CAAwB,QAAxB,CAA5E,EAA+G;AAC7G;AACD;;AAED,YAAI+F,CAAC,CAACgF,MAAF,CAASE,SAAT,CAAmBC,QAAnB,CAA4B,OAA5B,CAAJ,EAA0C;AACxC,eAAI,CAACC,wBAAL;AACD,SAFD,MAEO,IAAIpF,CAAC,CAACgF,MAAF,CAASE,SAAT,CAAmBC,QAAnB,CAA4B,OAA5B,CAAJ,EAA0C;AAC/C,eAAI,CAACE,YAAL,CAAkBC,MAAlB,GAA2B,KAA3B;AACD,SAFM,MAEA,IAAItF,CAAC,CAACgF,MAAF,CAASE,SAAT,CAAmBC,QAAnB,CAA4B,OAA5B,CAAJ,EAA0C;AAC/C,eAAI,CAACE,YAAL,CAAkBC,MAAlB,GAA2B,IAA3B;AACD,SAFM,MAEA,IAAItF,CAAC,CAACgF,MAAF,CAASO,OAAT,CAAiBjJ,OAArB,EAA8B;AACnC,eAAI,CAACkJ,oBAAL,CAA0BxF,CAAC,CAACgF,MAAF,CAASO,OAAT,CAAiBjJ,OAA3C;AACD,SAFM,MAEA,IAAI0D,CAAC,CAACgF,MAAF,CAASE,SAAT,CAAmBC,QAAnB,CAA4B,WAA5B,CAAJ,EAA8C;AACnDnF,WAAC,CAACyF,cAAF;;AACA,eAAI,CAACC,kBAAL;;AACA,cAAIlB,UAAU,CAACD,SAAD,CAAV,IAAyBA,SAAS,CAACG,KAAV,CAAgB7G,MAA7C,EAAqD;AACnD,gBAAM8H,KAAK,GAAG,KAAI,CAAC9D,IAAL,CAAU+D,aAAV,CAAwBA,aAAxB,CAAsCA,aAApD;AACAD,iBAAK,CAAC7N,SAAN,CAAgB+N,MAAhB,CAAuB,aAAvB;AACArO,6EAAe,CAAC,SAAD,EAAY,SAAZ,CAAf,CAHmD,CAGZ;AACxC;AACF,SARM,MAQA,IAAIwI,CAAC,CAACgF,MAAF,CAASE,SAAT,CAAmBC,QAAnB,CAA4B,MAA5B,CAAJ,EAAyC;AAC9C,eAAI,CAACtD,IAAL,CAAUlG,MAAV;;AACA,eAAI,CAACoG,MAAL;;AACA,eAAI,CAACF,IAAL,CAAU/J,SAAV,CAAoBC,GAApB,CAAwB,YAAxB;AACD;AACF,OA1BD;AA2BD;;;qCAEgB;AACf,WAAKsN,YAAL,GAAoBnO,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACA,WAAKwN,YAAL,CAAkBvN,SAAlB,CAA4BC,GAA5B,CAAgC,iBAAhC;AACA,WAAKsN,YAAL,CAAkBC,MAAlB,GAA2B,IAA3B;AACA,WAAKD,YAAL,CAAkB3L,SAAlB;AAA8B;AAA9B;AAKA,WAAKmI,IAAL,CAAUjG,MAAV,CAAiB,KAAKyJ,YAAtB;AACD;;;+CAE0B;AACzB,WAAK,IAAIzH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKiE,IAAL,CAAU7F,QAAV,CAAmB6B,MAAvC,EAA+CD,CAAC,IAAI,CAApD,EAAuD;AACrD,aAAKiE,IAAL,CAAU7F,QAAV,CAAmB4B,CAAnB,EAAsB0H,MAAtB,GAA+B,IAA/B;AACD;;AACD,WAAKzD,IAAL,CAAUnI,SAAV;AAAsB;AAAtB,sBACE,KAAKoL,cAAL,CAAoB,UAApB,EAAgC,EAAhC,EAAoC,gBAApC,CADF,mBAEE,KAAKA,cAAL,CAAoB,UAApB,EAAgC,EAAhC,EAAoC,gBAApC,CAFF,mBAGE,KAAKA,cAAL,CAAoB,UAApB,EAAgC,EAAhC,EAAoC,gBAApC,CAHF,mBAIE,KAAKA,cAAL,CAAoB,cAApB,EAAoC,MAApC,CAJF;AAMD;;;yCAEoBgB,c,EAAgB;AACnCvB,eAAS,CAACjI,OAAV,GAAoBwJ,cAApB;AACA,WAAKjE,IAAL,CAAUnI,SAAV;AAAsB;AAAtB,wCAEM,KAAKqM,YAAL,CAAkBD,cAAlB,CAFN,wJAKI,KAAKhB,cAAL,CAAoB,cAApB,EAAoC,MAApC,CALJ;AAOD;;;iCAEYkB,G,EAAK;AAChB,UAAMC,SAAS,GAAG,EAAlB;;AAEA,WAAK,IAAIrI,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIoI,GAArB,EAA0BpI,CAAC,IAAI,CAA/B,EAAkC;AAChCqI,iBAAS,CAAChL,IAAV;AACE;AADF,+CAEsB2C,CAFtB,0HAEiDA,CAFjD,+DAGiCA,CAHjC;AAMD;;AAED,aAAOqI,SAAP;AACD;;;yCAEoB;AACnB,UAAMC,MAAM,GAAG,KAAKrE,IAAL,CAAUtG,gBAAV,CAA2B,aAA3B,CAAf;AACA,UAAM4K,WAAW,GAAG,EAApB;;AACA,WAAK,IAAIvI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsI,MAAM,CAACrI,MAA3B,EAAmCD,CAAC,IAAI,CAAxC,EAA2C;AACzC,YAAIsI,MAAM,CAACtI,CAAD,CAAN,CAAUwI,KAAd,EAAqB;AACnBD,qBAAW,CAAClL,IAAZ,CAAiBiL,MAAM,CAACtI,CAAD,CAAN,CAAUwI,KAA3B;AACD;AACF;;AACD7B,eAAS,CAACG,KAAV,GAAkByB,WAAlB;AAEA,aAAOA,WAAP;AACD;;;;;;AAEH,iEAAerE,IAAf;;;;;;;;;;;;;;;AChIe,SAASuE,YAAT,CAAsBpE,UAAtB,EAAkC;AAC/C,MAAMqE,OAAO,GAAGpP,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACAyO,SAAO,CAACxO,SAAR,CAAkBC,GAAlB,CAAsB,OAAtB;AACAuO,SAAO,CAACxO,SAAR,CAAkBC,GAAlB,CAAsB,eAAtB;AAEA,MAAMwO,UAAU,GAAGrP,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA0O,YAAU,CAACzO,SAAX,CAAqBC,GAArB,CAAyB,cAAzB;AAEA,MAAMyO,SAAS,GAAGtP,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA2O,WAAS,CAAC1O,SAAV,CAAoBC,GAApB,CAAwB,aAAxB;AACAyO,WAAS,CAAC3H,SAAV,0GAA2CoD,UAA3C;AAEA,MAAMwE,QAAQ,GAAGvP,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAjB;AACA4O,UAAQ,CAAC3O,SAAT,CAAmBC,GAAnB,CAAuB,YAAvB;AACA0O,UAAQ,CAAC5H,SAAT,GAAqB,aAArB;AACA4H,UAAQ,CAAC7E,gBAAT,CAA0B,OAA1B,EAAmC,YAAM;AACvC0E,WAAO,CAACtO,KAAR,GAAgB,EAAhB;AACAsO,WAAO,CAACxO,SAAR,CAAkB+N,MAAlB,CAAyB,eAAzB;AACAnK,cAAU,CAAC,YAAM;AACf4K,aAAO,CAAC3K,MAAR;AACD,KAFS,EAEP,GAFO,CAAV;AAGD,GAND;AAQA4K,YAAU,CAAC3K,MAAX,CAAkB4K,SAAlB,EAA6BC,QAA7B;AACAH,SAAO,CAAC1K,MAAR,CAAe2K,UAAf;AAEArP,UAAQ,CAACC,IAAT,CAAcC,OAAd,CAAsBkP,OAAtB;AACA5K,YAAU,CAAC,YAAM;AACf4K,WAAO,CAACxO,SAAR,CAAkB+N,MAAlB,CAAyB,eAAzB;AACD,GAFS,EAEP,CAFO,CAAV;AAGD,C;;;;;;;;;;;;;;AC9Bc,SAASpI,kBAAT,CAA4BiJ,eAA5B,EAA6C;AAC1D,MAAMC,WAAW,GAAGzP,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACA8O,aAAW,CAAC7O,SAAZ,CAAsBC,GAAtB,CAA0B,2BAA1B;AACA4O,aAAW,CAAC9H,SAAZ,GAAwB,eAAxB;AACA8H,aAAW,CAAC/E,gBAAZ,CAA6B,OAA7B,EAAsC,YAAM;AAC1C8E,mBAAe;AACfhL,cAAU,CAAC,YAAM;AACf,UAAMkL,mBAAmB,GAAG1P,QAAQ,CAAC+C,aAAT,CAAuB,4BAAvB,CAA5B;AACA2M,yBAAmB,CAACjL,MAApB;AACD,KAHS,EAGP,GAHO,CAAV;AAID,GAND;AAOA,MAAMiD,SAAS,GAAG1H,QAAQ,CAAC+C,aAAT,CAAuB,aAAvB,CAAlB;AACA2E,WAAS,CAAChD,MAAV,CAAiB+K,WAAjB;AACD,C;;;;;;;;;;;;;;ACbD,IAAME,iBAAiB,GAAG;AACxBC,SAAO,EAAE,IADe;AAExBC,MAFwB,kBAEjB;AACL,SAAKD,OAAL,GAAe5P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAKiP,OAAL,CAAahP,SAAb,CAAuBC,GAAvB,CAA2B,aAA3B;AAEA,SAAKiP,UAAL,GAAkB9P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA,SAAKmP,UAAL,CAAgBlP,SAAhB,CAA0BC,GAA1B,CAA8B,0BAA9B;AAEA,SAAKkP,iBAAL,GAAyB/P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACA,SAAKoP,iBAAL,CAAuBnP,SAAvB,CAAiCC,GAAjC,CAAqC,4BAArC;AAEA,SAAKiP,UAAL,CAAgBpL,MAAhB,CAAuB,KAAKqL,iBAA5B;AAEA,SAAKC,iBAAL,GAAyBhQ,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACA,SAAKqP,iBAAL,CAAuBpP,SAAvB,CAAiCC,GAAjC,CAAqC,sBAArC,EAbK,CAeL;AACA;;AACA,QAAMoP,WAAW,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,OAAhB,EAAyB,QAAzB,EAAmC,QAAnC,CAApB;;AACA,SAAK,IAAIvJ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGuJ,WAAW,CAACtJ,MAAhC,EAAwCD,CAAC,IAAI,CAA7C,EAAgD;AAC9C,UAAM7B,KAAK,GAAG7E,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAd;AACAkE,WAAK,CAACjE,SAAN,CAAgBC,GAAhB,CAAoB,oBAApB;AACAgE,WAAK,CAACjE,SAAN,CAAgBC,GAAhB,CAAoB,2BAApB;AACAgE,WAAK,CAACG,EAAN,GAAWiL,WAAW,CAACvJ,CAAD,CAAtB,CAJ8C,CAInB;;AAC3B,WAAKqJ,iBAAL,CAAuBrL,MAAvB,CAA8BG,KAA9B;AACD;;AAED,SAAK+K,OAAL,CAAalL,MAAb,CAAoB,KAAKsL,iBAAzB;AACA,SAAKJ,OAAL,CAAalL,MAAb,CAAoB,KAAKoL,UAAzB;AAEA,SAAKI,aAAL,GAAqBlQ,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAKuP,aAAL,CAAmBtP,SAAnB,CAA6BC,GAA7B,CAAiC,uBAAjC;AAEA,SAAK+O,OAAL,CAAalL,MAAb,CAAoB,KAAKwL,aAAzB;AACA,WAAO,KAAKN,OAAZ;AACD;AApCuB,CAA1B;AAuCA,iEAAeD,iBAAf,E;;;;;;;;;;;;;;ACvCA,IAAMQ,YAAY,GAAG;AACnBP,SAAO,EAAE,IADU;AAEnBC,MAFmB,kBAEZ;AACL;AACA,SAAKD,OAAL,GAAe5P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAKiP,OAAL,CAAahP,SAAb,CAAuBC,GAAvB,CAA2B,OAA3B,EAHK,CAKL;;AACA,SAAK+O,OAAL,CAAalL,MAAb,CAAoB,KAAK0L,YAAL,EAApB;AACA,SAAKR,OAAL,CAAalL,MAAb,CAAoB,KAAK2L,mBAAL,EAApB;AACA,SAAKT,OAAL,CAAalL,MAAb,CAAoB,KAAK4L,kBAAL,EAApB;AACA,SAAKV,OAAL,CAAalL,MAAb,CAAoB,KAAK6L,WAAL,EAApB,EATK,CAWL;;AACA,SAAKC,aAAL,GAAqB,KAAKC,gBAAL,EAArB;AACA,SAAKC,oBAAL,GAA4B,KAAKC,uBAAL,EAA5B;AACA,SAAKC,iBAAL,GAAyB,KAAKC,oBAAL,EAAzB,CAdK,CAgBL;;AACA7Q,YAAQ,CAACC,IAAT,CAAcyE,MAAd,CAAqB,KAAK8L,aAA1B;AACAxQ,YAAQ,CAACC,IAAT,CAAcyE,MAAd,CAAqB,KAAKgM,oBAA1B;AACA1Q,YAAQ,CAACC,IAAT,CAAcyE,MAAd,CAAqB,KAAKkM,iBAA1B;AAEA,WAAO,KAAKhB,OAAZ;AACD,GAxBkB;AA0BnBQ,cA1BmB,0BA0BJ;AACb;AACA,QAAMU,SAAS,GAAG9Q,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAmQ,aAAS,CAAClQ,SAAV,CAAoBC,GAApB,CAAwB,YAAxB,EAHa,CAKb;;AACA,QAAMkQ,kBAAkB,GAAG/Q,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA3B;AACAoQ,sBAAkB,CAACnQ,SAAnB,CAA6BC,GAA7B,CAAiC,0BAAjC;AAEA,QAAMmQ,iBAAiB,GAAGhR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACAqQ,qBAAiB,CAACrJ,SAAlB,GAA8B,cAA9B;AAEA,QAAMsJ,iBAAiB,GAAGjR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACAsQ,qBAAiB,CAACrQ,SAAlB,CAA4BC,GAA5B,CAAgC,yBAAhC;AAEAkQ,sBAAkB,CAACrM,MAAnB,CAA0BsM,iBAA1B;AACAD,sBAAkB,CAACrM,MAAnB,CAA0BuM,iBAA1B,EAhBa,CAkBb;;AACA,QAAMC,iBAAiB,GAAGlR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACAuQ,qBAAiB,CAACtQ,SAAlB,CAA4BC,GAA5B,CAAgC,iCAAhC;AAEA,QAAMsQ,gBAAgB,GAAGnR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACAwQ,oBAAgB,CAACxJ,SAAjB,GAA6B,eAA7B;AAEA,QAAMyJ,iBAAiB,GAAGpR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACAyQ,qBAAiB,CAACxQ,SAAlB,CAA4BC,GAA5B,CAAgC,2BAAhC;AAEAqQ,qBAAiB,CAACxM,MAAlB,CAAyByM,gBAAzB;AACAD,qBAAiB,CAACxM,MAAlB,CAAyB0M,iBAAzB,EA7Ba,CA+Bb;;AACAN,aAAS,CAACpM,MAAV,CAAiBqM,kBAAjB;AACAD,aAAS,CAACpM,MAAV,CAAiBwM,iBAAjB;AAEA,WAAOJ,SAAP;AACD,GA9DkB;AAgEnBT,qBAhEmB,iCAgEG;AAAA;;AACpB;AACA,QAAM7K,WAAW,GAAGxF,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACA6E,eAAW,CAAC5E,SAAZ,CAAsBC,GAAtB,CAA0B,cAA1B;AAEA,QAAMwQ,gBAAgB,GAAGrR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACA0Q,oBAAgB,CAACzQ,SAAjB,CAA2BC,GAA3B,CAA+B,qBAA/B;AACAwQ,oBAAgB,CAAC1J,SAAjB,GAA6B,aAA7B;AAEA,QAAM2J,gBAAgB,GAAGtR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACA2Q,oBAAgB,CAAC1Q,SAAjB,CAA2BC,GAA3B,CAA+B,qBAA/B,EAVoB,CAYpB;;AACA,QAAM0Q,QAAQ,GAAGvR,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAjB;AACA4Q,YAAQ,CAAC3Q,SAAT,CAAmBC,GAAnB,CAAuB,WAAvB;AACA0Q,YAAQ,CAAC5J,SAAT,GAAqB,cAArB;AACA4J,YAAQ,CAAC7G,gBAAT,CAA0B,OAA1B,EAAmC,YAAM;AACvC,WAAI,CAAC8F,aAAL,CAAmB5P,SAAnB,CAA6B+N,MAA7B,CAAoC,mBAApC;AACD,KAFD,EAhBoB,CAoBpB;;AACA2C,oBAAgB,CAAC5M,MAAjB,CAAwB6M,QAAxB,EArBoB,CAuBpB;;AACA/L,eAAW,CAACd,MAAZ,CAAmB2M,gBAAnB;AACA7L,eAAW,CAACd,MAAZ,CAAmB4M,gBAAnB;AAEA,WAAO9L,WAAP;AACD,GA5FkB;AA8FnB8K,oBA9FmB,gCA8FE;AAAA;;AACnB;AACA,QAAMkB,UAAU,GAAGxR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA6Q,cAAU,CAAC5Q,SAAX,CAAqBC,GAArB,CAAyB,aAAzB,EAHmB,CAKnB;;AACA,QAAM4Q,YAAY,GAAGzR,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAArB;AACA8Q,gBAAY,CAAC7Q,SAAb,CAAuBC,GAAvB,CAA2B,4BAA3B;AAEA,QAAM6Q,iBAAiB,GAAG1R,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACA+Q,qBAAiB,CAAC9Q,SAAlB,CAA4BC,GAA5B,CAAgC,4BAAhC;AACA6Q,qBAAiB,CAAC/J,SAAlB,GAA8B,aAA9B;AAEA,QAAMgK,iBAAiB,GAAG3R,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACAgR,qBAAiB,CAAC/Q,SAAlB,CAA4BC,GAA5B,CAAgC,4BAAhC,EAdmB,CAgBnB;;AACA,QAAM+Q,eAAe,GAAG5R,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAxB;AACAiR,mBAAe,CAAChR,SAAhB,CAA0BC,GAA1B,CAA8B,WAA9B;AACA+Q,mBAAe,CAACjK,SAAhB,GAA4B,cAA5B;AACAiK,mBAAe,CAAClH,gBAAhB,CAAiC,OAAjC,EAA0C,YAAM;AAC9C,YAAI,CAACkG,iBAAL,CAAuBhQ,SAAvB,CAAiC+N,MAAjC,CAAwC,uBAAxC;AACD,KAFD;AAGAgD,qBAAiB,CAACjN,MAAlB,CAAyBkN,eAAzB,EAvBmB,CAyBnB;;AACAH,gBAAY,CAAC/M,MAAb,CAAoBgN,iBAApB;AACAD,gBAAY,CAAC/M,MAAb,CAAoBiN,iBAApB,EA3BmB,CA6BnB;;AACA,QAAME,eAAe,GAAG7R,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAxB;AACAkR,mBAAe,CAACjR,SAAhB,CAA0BC,GAA1B,CAA8B,+BAA9B;AAEA,QAAMiR,oBAAoB,GAAG9R,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA7B;AACAmR,wBAAoB,CAAClR,SAArB,CAA+BC,GAA/B,CAAmC,+BAAnC;AACAiR,wBAAoB,CAACnK,SAArB,GAAiC,WAAjC;AAEA,QAAMoK,oBAAoB,GAAG/R,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA7B;AACAoR,wBAAoB,CAACnR,SAArB,CAA+BC,GAA/B,CAAmC,+BAAnC,EAtCmB,CAwCnB;;AACA,QAAMmR,kBAAkB,GAAGhS,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAA3B;AACAqR,sBAAkB,CAACpR,SAAnB,CAA6BC,GAA7B,CAAiC,WAAjC;AACAmR,sBAAkB,CAACrK,SAAnB,GAA+B,cAA/B;AACAqK,sBAAkB,CAACtH,gBAAnB,CAAoC,OAApC,EAA6C,YAAM;AACjD,YAAI,CAACgG,oBAAL,CAA0B9P,SAA1B,CAAoC+N,MAApC,CAA2C,0BAA3C;AACD,KAFD;AAGAoD,wBAAoB,CAACrN,MAArB,CAA4BsN,kBAA5B,EA/CmB,CAiDnB;;AACAH,mBAAe,CAACnN,MAAhB,CAAuBoN,oBAAvB;AACAD,mBAAe,CAACnN,MAAhB,CAAuBqN,oBAAvB,EAnDmB,CAqDnB;;AACAP,cAAU,CAAC9M,MAAX,CAAkB+M,YAAlB;AACAD,cAAU,CAAC9M,MAAX,CAAkBmN,eAAlB;AAEA,WAAOL,UAAP;AACD,GAxJkB;AA0JnBjB,aA1JmB,yBA0JL;AACZ;AACA,QAAM0B,QAAQ,GAAGjS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAjB;AACAsR,YAAQ,CAACrR,SAAT,CAAmBC,GAAnB,CAAuB,UAAvB,EAHY,CAKZ;;AACAoR,YAAQ,CAACzP,SAAT,oSANY,CAaZ;;AACAyP,YAAQ,CAACzP,SAAT,0RAdY,CAqBZ;;AACAyP,YAAQ,CAACzP,SAAT,yPAtBY,CA2BZ;;AACA,QAAM0P,SAAS,GAAGlS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAuR,aAAS,CAACtR,SAAV,CAAoBC,GAApB,CAAwB,kBAAxB;AACAoR,YAAQ,CAACvN,MAAT,CAAgBwN,SAAhB;AAEAA,aAAS,CAACxH,gBAAV,CAA2B,OAA3B,EAAoC,YAAM;AACxCuH,cAAQ,CAACrR,SAAT,CAAmB+N,MAAnB,CAA0B,uBAA1B;AACAuD,eAAS,CAACtR,SAAV,CAAoB+N,MAApB,CAA2B,wBAA3B;AACD,KAHD;AAKA,WAAOsD,QAAP;AACD,GAhMkB;AAkMnBxB,kBAlMmB,8BAkMA;AAAA;;AACjB;AACA,QAAM0B,UAAU,GAAG,EAAnB;AACA,QAAM3B,aAAa,GAAGxQ,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACA6P,iBAAa,CAAC5P,SAAd,CAAwBC,GAAxB,CAA4B,WAA5B;AACA2P,iBAAa,CAAC5P,SAAd,CAAwBC,GAAxB,CAA4B,mBAA5B,EALiB,CAOjB;;AACA2P,iBAAa,CAAC5P,SAAd,CAAwBC,GAAxB,CAA4B,QAA5B;AACA2P,iBAAa,CAACrO,YAAd,CAA2B,KAA3B,EAAkC,sBAAlC,EATiB,CAWjB;;AACA,QAAMiQ,SAAS,GAAGpS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAyR,aAAS,CAACxR,SAAV,CAAoBC,GAApB,CAAwB,uBAAxB;AAEA,QAAMwR,UAAU,GAAGrS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA0R,cAAU,CAACzR,SAAX,CAAqBC,GAArB,CAAyB,wBAAzB;AAEA,QAAMyR,SAAS,GAAGtS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA2R,aAAS,CAAC1R,SAAV,CAAoBC,GAApB,CAAwB,uBAAxB;AAEA,QAAM0R,OAAO,GAAGvS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACA4R,WAAO,CAAC3R,SAAR,CAAkBC,GAAlB,CAAsB,qBAAtB,EAtBiB,CAwBjB;;AACA,SAAK,IAAI6F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyL,UAApB,EAAgCzL,CAAC,IAAI,CAArC,EAAwC;AACtC,UAAM8L,IAAI,GAAGxS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAb;AACA6R,UAAI,CAAC5R,SAAL,CAAeC,GAAf,CAAmB,UAAnB;AACA2R,UAAI,CAACxN,EAAL,gBAAgB0B,CAAC,GAAG,CAApB,EAHsC,CAGb;;AACzB8L,UAAI,CAAC7K,SAAL,aAAoBjB,CAAC,GAAG,CAAxB,UAJsC,CAIL;;AACjC8L,UAAI,CAAC1R,KAAL,CAAW2R,eAAX,GAA6B,uCAA7B,CALsC,CAKgC;;AAEtED,UAAI,CAAC9H,gBAAL,CAAsB,OAAtB,EAA+B;AAAA,eAAM,MAAI,CAAC8F,aAAL,CAAmB5P,SAAnB,CAA6B+N,MAA7B,CAAoC,mBAApC,CAAN;AAAA,OAA/B,EAPsC,CAStC;;AACA6D,UAAI,CAAC5R,SAAL,CAAeC,GAAf,CAAmB,QAAnB;AACA2R,UAAI,CAACrQ,YAAL,CAAkB,KAAlB,EAAyB,gDAAzB;;AAEA,UAAIuE,CAAC,GAAG,CAAR,EAAW;AACT0L,iBAAS,CAAC1N,MAAV,CAAiB8N,IAAjB;AACD,OAFD,MAEO,IAAI9L,CAAC,GAAG,CAAR,EAAW;AAChB2L,kBAAU,CAAC3N,MAAX,CAAkB8N,IAAlB;AACD,OAFM,MAEA,IAAI9L,CAAC,GAAG,EAAR,EAAY;AACjB4L,iBAAS,CAAC5N,MAAV,CAAiB8N,IAAjB;AACD;;AACD,UAAI9L,CAAC,KAAK,CAAV,EAAa;AACX;AACA,YAAMgM,MAAM,GAAG1S,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAf;AACA+R,cAAM,CAAC9R,SAAP,CAAiBC,GAAjB,CAAqB,iBAArB;AACA6R,cAAM,CAAC/K,SAAP,GAAmB,SAAnB;AACA4K,eAAO,CAAC7N,MAAR,CAAegO,MAAf;AACD;AACF;;AAEDlC,iBAAa,CAAC9L,MAAd,CAAqB0N,SAArB;AACA5B,iBAAa,CAAC9L,MAAd,CAAqB2N,UAArB;AACA7B,iBAAa,CAAC9L,MAAd,CAAqB4N,SAArB;AACA9B,iBAAa,CAAC9L,MAAd,CAAqB6N,OAArB;AAEA,WAAO/B,aAAP;AACD,GA9PkB;AAgQnBG,yBAhQmB,qCAgQO;AACxB;AACA,QAAMD,oBAAoB,GAAG1Q,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA7B;AACA+P,wBAAoB,CAAC9P,SAArB,CAA+BC,GAA/B,CAAmC,kBAAnC;AACA6P,wBAAoB,CAAC9P,SAArB,CAA+BC,GAA/B,CAAmC,0BAAnC,EAJwB,CAMxB;;AACA6P,wBAAoB,CAAC9P,SAArB,CAA+BC,GAA/B,CAAmC,QAAnC;AACA6P,wBAAoB,CAACvO,YAArB,CAAkC,KAAlC,EAAyC,sBAAzC,EARwB,CAUxB;;AACA,QAAMiQ,SAAS,GAAGpS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAyR,aAAS,CAACxR,SAAV,CAAoBC,GAApB,CAAwB,8BAAxB;AAEA,QAAMwR,UAAU,GAAGrS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA0R,cAAU,CAACzR,SAAX,CAAqBC,GAArB,CAAyB,+BAAzB;AAEA,QAAM0R,OAAO,GAAGvS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACA4R,WAAO,CAAC3R,SAAR,CAAkBC,GAAlB,CAAsB,4BAAtB,EAlBwB,CAoBxB;;AACA,QAAM8R,oBAAoB,GAAG,EAA7B;;AACA,SAAK,IAAIjM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiM,oBAApB,EAA0CjM,CAAC,IAAI,CAA/C,EAAkD;AAChD,UAAMkM,cAAc,GAAG5S,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAvB;AACAiS,oBAAc,CAAChS,SAAf,CAAyBC,GAAzB,CAA6B,wBAA7B;AACA+R,oBAAc,CAACjL,SAAf,aAA8BjB,CAAC,GAAG,CAAlC,EAHgD,CAKhD;;AACAkM,oBAAc,CAAChS,SAAf,CAAyBC,GAAzB,CAA6B,QAA7B;AACA+R,oBAAc,CAACzQ,YAAf,CAA4B,KAA5B,EAAmC,gDAAnC;AAEA,UAAIuE,CAAC,GAAG,CAAR,EAAW0L,SAAS,CAAC1N,MAAV,CAAiBkO,cAAjB,EAAX,KACK,IAAIlM,CAAC,GAAG,EAAR,EAAY2L,UAAU,CAAC3N,MAAX,CAAkBkO,cAAlB;;AAEjB,UAAIlM,CAAC,KAAK,CAAV,EAAa;AACX;AACA,YAAMgM,MAAM,GAAG1S,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAf;AACA+R,cAAM,CAAC9R,SAAP,CAAiBC,GAAjB,CAAqB,iBAArB;AACA6R,cAAM,CAAC/K,SAAP,GAAmB,SAAnB;AACA4K,eAAO,CAAC7N,MAAR,CAAegO,MAAf;AACD;AACF;;AAEDhC,wBAAoB,CAAChM,MAArB,CAA4B0N,SAA5B;AACA1B,wBAAoB,CAAChM,MAArB,CAA4B2N,UAA5B;AACA3B,wBAAoB,CAAChM,MAArB,CAA4B6N,OAA5B;AAEA,WAAO7B,oBAAP;AACD,GAhTkB;AAkTnBG,sBAlTmB,kCAkTI;AACrB;AACA,QAAMD,iBAAiB,GAAG5Q,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAA1B;AACAiQ,qBAAiB,CAAChQ,SAAlB,CAA4BC,GAA5B,CAAgC,eAAhC;AACA+P,qBAAiB,CAAChQ,SAAlB,CAA4BC,GAA5B,CAAgC,uBAAhC,EAJqB,CAMrB;;AACA+P,qBAAiB,CAAChQ,SAAlB,CAA4BC,GAA5B,CAAgC,QAAhC;AACA+P,qBAAiB,CAACzO,YAAlB,CAA+B,KAA/B,EAAsC,sBAAtC,EARqB,CAUrB;;AACA,QAAMiQ,SAAS,GAAGpS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACAyR,aAAS,CAACxR,SAAV,CAAoBC,GAApB,CAAwB,2BAAxB;AAEA,QAAMwR,UAAU,GAAGrS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA0R,cAAU,CAACzR,SAAX,CAAqBC,GAArB,CAAyB,4BAAzB;AAEA,QAAM0R,OAAO,GAAGvS,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACA4R,WAAO,CAAC3R,SAAR,CAAkBC,GAAlB,CAAsB,yBAAtB,EAlBqB,CAoBrB;;AACA,QAAMgS,iBAAiB,GAAG,CAA1B;;AACA,SAAK,IAAInM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmM,iBAApB,EAAuCnM,CAAC,IAAI,CAA5C,EAA+C;AAC7C,UAAMoM,WAAW,GAAG9S,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACAmS,iBAAW,CAAClS,SAAZ,CAAsBC,GAAtB,CAA0B,qBAA1B,EAF6C,CAI7C;;AACAiS,iBAAW,CAAClS,SAAZ,CAAsBC,GAAtB,CAA0B,QAA1B;AACAiS,iBAAW,CAAC3Q,YAAZ,CAAyB,KAAzB,EAAgC,gDAAhC;AAEA,UAAIuE,CAAC,GAAG,CAAR,EAAW0L,SAAS,CAAC1N,MAAV,CAAiBoO,WAAjB,EAAX,KACK,IAAIpM,CAAC,GAAG,CAAR,EAAW2L,UAAU,CAAC3N,MAAX,CAAkBoO,WAAlB,EAT6B,CAW7C;;AACA,UAAIpM,CAAC,KAAK,CAAV,EAAa;AACX,YAAMgM,MAAM,GAAG1S,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAf;AACA+R,cAAM,CAAC9R,SAAP,CAAiBC,GAAjB,CAAqB,iBAArB;AACA6R,cAAM,CAAC/K,SAAP,GAAmB,SAAnB;AACA4K,eAAO,CAAC7N,MAAR,CAAegO,MAAf;AACD;AACF;;AAED9B,qBAAiB,CAAClM,MAAlB,CAAyB0N,SAAzB;AACAxB,qBAAiB,CAAClM,MAAlB,CAAyB2N,UAAzB;AACAzB,qBAAiB,CAAClM,MAAlB,CAAyB6N,OAAzB;AAEA,WAAO3B,iBAAP;AACD;AAjWkB,CAArB;AAoWA,iEAAeT,YAAf,E;;;;;;;;;;;;;;ACpWA,IAAM4C,WAAW,GAAG;AAClBlD,MADkB,kBACX;AACL,SAAKD,OAAL,GAAe5P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAKiP,OAAL,CAAahP,SAAb,CAAuBC,GAAvB,CAA2B,MAA3B;AAEA,SAAKiP,UAAL,GAAkB9P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA,SAAKmP,UAAL,CAAgBlP,SAAhB,CAA0BC,GAA1B,CAA8B,aAA9B;AAEA,SAAKmP,iBAAL,GAAyBhQ,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACA,SAAKqP,iBAAL,CAAuBpP,SAAvB,CAAiCC,GAAjC,CAAqC,eAArC;AAEA,SAAKqP,aAAL,GAAqBlQ,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAKuP,aAAL,CAAmBtP,SAAnB,CAA6BC,GAA7B,CAAiC,gBAAjC,EAXK,CAaL;;AACA,SAAKmS,QAAL,GAAgBhT,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAhB;AACA,SAAKqS,QAAL,CAAcpS,SAAd,CAAwBC,GAAxB,CAA4B,gBAA5B,EAA8C,WAA9C;AACA,SAAKmS,QAAL,CAAcpS,SAAd,CAAwBC,GAAxB,CAA4B,qBAA5B;AACA,SAAKmS,QAAL,CAAcC,QAAd,GAAyB,IAAzB;AACA,SAAKD,QAAL,CAAcxQ,SAAd;AAA0B;AAA1B,8yBAlBK,CA+BL;;AACA,SAAK0Q,WAAL,GAAmBlT,QAAQ,CAACW,aAAT,CAAuB,QAAvB,CAAnB;AACA,SAAKuS,WAAL,CAAiBtS,SAAjB,CAA2BC,GAA3B,CAA+B,mBAA/B,EAAoD,WAApD;AACA,SAAKqS,WAAL,CAAiBtS,SAAjB,CAA2BC,GAA3B,CAA+B,qBAA/B;AACA,SAAKqS,WAAL,CAAiBD,QAAjB,GAA4B,IAA5B;AACA,SAAKC,WAAL,CAAiB1Q,SAAjB;AAA6B;AAA7B;AAaA,SAAK0N,aAAL,CAAmBxL,MAAnB,CAA0B,KAAKsO,QAA/B;AACA,SAAK9C,aAAL,CAAmBxL,MAAnB,CAA0B,KAAKwO,WAA/B;AAEA,SAAKtD,OAAL,CAAalL,MAAb,CAAoB,KAAKsL,iBAAzB;AACA,SAAKJ,OAAL,CAAalL,MAAb,CAAoB,KAAKoL,UAAzB;AACA,SAAKF,OAAL,CAAalL,MAAb,CAAoB,KAAKwL,aAAzB;AACA,WAAO,KAAKN,OAAZ;AACD;AAzDiB,CAApB;AA4DA,iEAAemD,WAAf,E;;;;;;;;;;;;;;AC5DA,IAAMI,aAAa,GAAG;AACpBvD,SAAO,EAAE,IADW;AAEpBwD,cAAY,EAAE,CAAC;AAAEnP,QAAI,EAAE,CAAC,KAAD,EAAQ,eAAR,EAAyB,QAAzB;AAAR,GAAD,EAA+C;AAAE4H,aAAS,EAAE,CAAC,KAAD,EAAQ,eAAR,EAAyB,KAAzB;AAAb,GAA/C,EAA+F;AAAEwH,cAAU,EAAE,CAAC,KAAD,EAAQ,WAAR,EAAqB,QAArB;AAAd,GAA/F,CAFM;AAGpBC,gBAAc,EAAE,CAAC;AAAEhI,QAAI,EAAE,CAAC,KAAD,EAAQ,cAAR,EAAwB,OAAxB;AAAR,GAAD,EAA6C;AAAEC,SAAK,EAAE,CAAC,KAAD,EAAQ,iBAAR,EAA2B,MAA3B;AAAT,GAA7C,EAA4F;AAAEC,SAAK,EAAE,CAAC,KAAD,EAAQ,UAAR,EAAoB,QAApB;AAAT,GAA5F,EAAsI;AAAEC,QAAI,EAAE,CAAC,KAAD,EAAQ,cAAR,EAAwB,QAAxB;AAAR,GAAtI,EAAmL;AAAEC,WAAO,EAAE,CAAC,KAAD,EAAQ,aAAR,EAAuB,KAAvB;AAAX,GAAnL,EAA+N;AAAEC,SAAK,EAAE,CAAC,KAAD,EAAQ,UAAR,EAAoB,MAApB;AAAT,GAA/N,CAHI;AAIpB4H,SAAO,EAAE;AACPC,aAAS,EAAE,IADJ;AAEPxN,QAAI,EAAE,IAFC;AAGP/B,QAAI,EAAE,IAHC;AAIP4H,aAAS,EAAE,IAJJ;AAKPwH,cAAU,EAAE,IALL;AAMPnI,OAAG,EAAE,IANE;AAOPC,SAAK,EAAE,IAPA;AAQPH,QAAI,EAAE,IARC;AASPI,UAAM,EAAE,IATD;AAUPC,UAAM,EAAE,IAVD;AAWPC,QAAI,EAAE,IAXC;AAYPC,SAAK,EAAE,IAZA;AAaPC,SAAK,EAAE,IAbA;AAcPC,QAAI,EAAE,IAdC;AAePC,WAAO,EAAE,IAfF;AAgBPC,SAAK,EAAE;AAhBA,GAJW;AAsBpB8H,SAAO,EAAE;AACPD,aAAS,EAAE,IADJ;AAEPxN,QAAI,EAAE,IAFC;AAGP/B,QAAI,EAAE,IAHC;AAIP4H,aAAS,EAAE,IAJJ;AAKPwH,cAAU,EAAE,IALL;AAMPnI,OAAG,EAAE,IANE;AAOPC,SAAK,EAAE,IAPA;AAQPH,QAAI,EAAE,IARC;AASPI,UAAM,EAAE,IATD;AAUPC,UAAM,EAAE,IAVD;AAWPC,QAAI,EAAE,IAXC;AAYPC,SAAK,EAAE,IAZA;AAaPC,SAAK,EAAE,IAbA;AAcPC,QAAI,EAAE,IAdC;AAePC,WAAO,EAAE,IAfF;AAgBPC,SAAK,EAAE;AAhBA,GAtBW;AAwCpB+H,SAAO,EAAE;AACPF,aAAS,EAAE,IADJ;AAEPxN,QAAI,EAAE,IAFC;AAGP/B,QAAI,EAAE,IAHC;AAIP4H,aAAS,EAAE,IAJJ;AAKPwH,cAAU,EAAE,IALL;AAMPnI,OAAG,EAAE,IANE;AAOPC,SAAK,EAAE,IAPA;AAQPH,QAAI,EAAE,IARC;AASPI,UAAM,EAAE,IATD;AAUPC,UAAM,EAAE,IAVD;AAWPC,QAAI,EAAE,IAXC;AAYPC,SAAK,EAAE,IAZA;AAaPC,SAAK,EAAE,IAbA;AAcPC,QAAI,EAAE,IAdC;AAePC,WAAO,EAAE,IAfF;AAgBPC,SAAK,EAAE;AAhBA,GAxCW;AA0DpBgI,SAAO,EAAE;AACPH,aAAS,EAAE,IADJ;AAEPxN,QAAI,EAAE,IAFC;AAGP/B,QAAI,EAAE,IAHC;AAIP4H,aAAS,EAAE,IAJJ;AAKPwH,cAAU,EAAE,IALL;AAMPnI,OAAG,EAAE,IANE;AAOPC,SAAK,EAAE,IAPA;AAQPH,QAAI,EAAE,IARC;AASPI,UAAM,EAAE,IATD;AAUPC,UAAM,EAAE,IAVD;AAWPC,QAAI,EAAE,IAXC;AAYPC,SAAK,EAAE,IAZA;AAaPC,SAAK,EAAE,IAbA;AAcPC,QAAI,EAAE,IAdC;AAePC,WAAO,EAAE,IAfF;AAgBPC,SAAK,EAAE;AAhBA,GA1DW;AA6EpBiI,iBA7EoB,2BA6EJ5O,EA7EI,EA6EA;AAAA;;AAClB,QAAMK,MAAM,mBAAYL,EAAZ,CAAZ;AAEA,SAAKK,MAAL,EAAamO,SAAb,GAAyBxT,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAzB;AACA,SAAK0E,MAAL,EAAamO,SAAb,CAAuB5S,SAAvB,CAAiCC,GAAjC,CAAqC,kBAArC;AAEA,QAAMgT,OAAO,GAAG7T,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAhB;AACAkT,WAAO,CAACjT,SAAR,CAAkBC,GAAlB,CAAsB,UAAtB;AACA,SAAKwE,MAAL,EAAaW,IAAb,GAAoBhG,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACA,SAAK0E,MAAL,EAAaW,IAAb,CAAkBpF,SAAlB,CAA4BC,GAA5B,CAAgC,gBAAhC;AACA,SAAKwE,MAAL,EAAaW,IAAb,CAAkBpE,WAAlB,mBAAyCoD,EAAzC;AACA6O,WAAO,CAAC5S,WAAR,CAAoB,KAAKoE,MAAL,EAAaW,IAAjC;AAEA,SAAKoN,YAAL,CAAkBpR,OAAlB,CAA0B,UAAC8G,CAAD,EAAO;AAC/B,UAAMpC,CAAC,GAAG7C,MAAM,CAAC+C,IAAP,CAAYkC,CAAZ,EAAe,CAAf,CAAV;AACA,UAAM0K,SAAS,GAAGxT,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA6S,eAAS,CAAC5S,SAAV,CAAoBC,GAApB,CAAwB,iBAAxB;AACA,UAAMiT,aAAa,GAAG9T,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACAmT,mBAAa,CAAClT,SAAd,CAAwBC,GAAxB,WAA+BiI,CAAC,CAACpC,CAAD,CAAD,CAAK,CAAL,CAA/B,aAA6CoC,CAAC,CAACpC,CAAD,CAAD,CAAK,CAAL,CAA7C,GAAwD,uBAAxD,8BAAsGoC,CAAC,CAACpC,CAAD,CAAD,CAAK,CAAL,CAAtG;AACA8M,eAAS,CAACvS,WAAV,CAAsB6S,aAAtB;AACA,WAAI,CAACzO,MAAD,CAAJ,CAAaqB,CAAb,IAAkB1G,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;;AACA,WAAI,CAAC0E,MAAD,CAAJ,CAAaqB,CAAb,EAAgB9F,SAAhB,CAA0BC,GAA1B,CAA8B,0BAA9B;;AACA,WAAI,CAACwE,MAAD,CAAJ,CAAaqB,CAAb,EAAgB9E,WAAhB,GAA8B,CAA9B;AACA4R,eAAS,CAACvS,WAAV,CAAsB,KAAI,CAACoE,MAAD,CAAJ,CAAaqB,CAAb,CAAtB;AACAmN,aAAO,CAAC5S,WAAR,CAAoBuS,SAApB;AACD,KAZD;AAcA,SAAKnO,MAAL,EAAamO,SAAb,CAAuBvS,WAAvB,CAAmC4S,OAAnC;AAEA,QAAME,aAAa,GAAG/T,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACAoT,iBAAa,CAACnT,SAAd,CAAwBC,GAAxB,CAA4B,iBAA5B;AAEA,SAAKwE,MAAL,EAAa6F,GAAb,GAAmBlL,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA,SAAK0E,MAAL,EAAa6F,GAAb,CAAiBtK,SAAjB,CAA2BC,GAA3B,CAA+B,sBAA/B;AACA,SAAKwE,MAAL,EAAa6F,GAAb,CAAiBtJ,WAAjB,GAA+B,CAA/B;AACAmS,iBAAa,CAAC9S,WAAd,CAA0B,KAAKoE,MAAL,EAAa6F,GAAvC;AAEA,SAAK7F,MAAL,EAAa8F,KAAb,GAAqBnL,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAArB;AACA,SAAK0E,MAAL,EAAa8F,KAAb,CAAmBvK,SAAnB,CAA6BC,GAA7B,CAAiC,wBAAjC;AACA,SAAKwE,MAAL,EAAa8F,KAAb,CAAmBvJ,WAAnB,GAAiC,CAAjC;AACAmS,iBAAa,CAAC9S,WAAd,CAA0B,KAAKoE,MAAL,EAAa8F,KAAvC;AAEA,SAAK9F,MAAL,EAAa2F,IAAb,GAAoBhL,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAApB;AACA,SAAK0E,MAAL,EAAa2F,IAAb,CAAkBpK,SAAlB,CAA4BC,GAA5B,CAAgC,uBAAhC;AACA,SAAKwE,MAAL,EAAa2F,IAAb,CAAkBpJ,WAAlB,GAAgC,CAAhC;AACAmS,iBAAa,CAAC9S,WAAd,CAA0B,KAAKoE,MAAL,EAAa2F,IAAvC;AAEA,SAAK3F,MAAL,EAAa+F,MAAb,GAAsBpL,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACA,SAAK0E,MAAL,EAAa+F,MAAb,CAAoBxK,SAApB,CAA8BC,GAA9B,CAAkC,yBAAlC;AACA,SAAKwE,MAAL,EAAa+F,MAAb,CAAoBxJ,WAApB,GAAkC,CAAlC;AACAmS,iBAAa,CAAC9S,WAAd,CAA0B,KAAKoE,MAAL,EAAa+F,MAAvC;AAEA,SAAK/F,MAAL,EAAagG,MAAb,GAAsBrL,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACA,SAAK0E,MAAL,EAAagG,MAAb,CAAoBzK,SAApB,CAA8BC,GAA9B,CAAkC,yBAAlC;AACA,SAAKwE,MAAL,EAAagG,MAAb,CAAoBzJ,WAApB,GAAkC,CAAlC;AACAmS,iBAAa,CAAC9S,WAAd,CAA0B,KAAKoE,MAAL,EAAagG,MAAvC;AAEA,SAAKhG,MAAL,EAAamO,SAAb,CAAuBvS,WAAvB,CAAmC8S,aAAnC;AAEA,QAAMC,YAAY,GAAGhU,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAArB;AACAqT,gBAAY,CAACpT,SAAb,CAAuBC,GAAvB,CAA2B,eAA3B;AACA,SAAKyS,cAAL,CAAoBtR,OAApB,CAA4B,UAAC8G,CAAD,EAAO;AACjC,UAAMpC,CAAC,GAAG7C,MAAM,CAAC+C,IAAP,CAAYkC,CAAZ,EAAe,CAAf,CAAV,CADiC,CAEjC;;AACA,UAAM0K,SAAS,GAAGxT,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;AACA6S,eAAS,CAAC5S,SAAV,CAAoBC,GAApB,CAAwB,oBAAxB;AACA,UAAMiT,aAAa,GAAG9T,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAtB;AACAmT,mBAAa,CAAClT,SAAd,CAAwBC,GAAxB,WAA+BiI,CAAC,CAACpC,CAAD,CAAD,CAAK,CAAL,CAA/B,aAA6CoC,CAAC,CAACpC,CAAD,CAAD,CAAK,CAAL,CAA7C,GAAwD,0BAAxD,8BAAyGoC,CAAC,CAACpC,CAAD,CAAD,CAAK,CAAL,CAAzG;AACA8M,eAAS,CAACvS,WAAV,CAAsB6S,aAAtB;AACA,WAAI,CAACzO,MAAD,CAAJ,CAAaqB,CAAb,IAAkB1G,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAlB;;AACA,WAAI,CAAC0E,MAAD,CAAJ,CAAaqB,CAAb,EAAgB9F,SAAhB,CAA0BC,GAA1B,CAA8B,6BAA9B;;AACA,WAAI,CAACwE,MAAD,CAAJ,CAAaqB,CAAb,EAAgB9E,WAAhB,GAA8B,CAA9B;AACA4R,eAAS,CAACvS,WAAV,CAAsB,KAAI,CAACoE,MAAD,CAAJ,CAAaqB,CAAb,CAAtB;AACAsN,kBAAY,CAAC/S,WAAb,CAAyBuS,SAAzB;AACD,KAbD;AAeA,SAAKnO,MAAL,EAAamO,SAAb,CAAuBvS,WAAvB,CAAmC+S,YAAnC;AACA,SAAKpE,OAAL,CAAa3O,WAAb,CAAyB,KAAKoE,MAAL,EAAamO,SAAtC;AACD,GA3JmB;AA6JpBS,mBA7JoB,6BA6JF5O,MA7JE,EA6JM;AACxB,QAAM6O,QAAQ,mBAAY7O,MAAM,CAACL,EAAnB,CAAd;AAEA,SAAKkP,QAAL,EAAejQ,IAAf,CAAoBrC,WAApB,GAAkCyD,MAAM,CAACpB,IAAP,CAAY0C,MAA9C;AACA,SAAKuN,QAAL,EAAehJ,GAAf,CAAmBtJ,WAAnB,GAAiCyD,MAAM,CAACnB,YAAP,CAAoBgH,GAApB,CAAwBvH,KAAxB,CAA8BgD,MAA/D;AACA,SAAKuN,QAAL,EAAe/I,KAAf,CAAqBvJ,WAArB,GAAmCyD,MAAM,CAACnB,YAAP,CAAoBiH,KAApB,CAA0BxH,KAA1B,CAAgCgD,MAAnE;AACA,SAAKuN,QAAL,EAAelJ,IAAf,CAAoBpJ,WAApB,GAAkCyD,MAAM,CAACnB,YAAP,CAAoB8G,IAApB,CAAyBrH,KAAzB,CAA+BgD,MAAjE;AACA,SAAKuN,QAAL,EAAe9I,MAAf,CAAsBxJ,WAAtB,GAAoCyD,MAAM,CAACnB,YAAP,CAAoBkH,MAApB,CAA2BzH,KAA3B,CAAiCgD,MAArE;AACA,SAAKuN,QAAL,EAAe7I,MAAf,CAAsBzJ,WAAtB,GAAoCyD,MAAM,CAACnB,YAAP,CAAoBmH,MAApB,CAA2B1H,KAA3B,CAAiCgD,MAArE;AACA,SAAKuN,QAAL,EAAe5I,IAAf,CAAoB1J,WAApB,GAAkCyD,MAAM,CAACiG,IAAzC;AACA,SAAK4I,QAAL,EAAe3I,KAAf,CAAqB3J,WAArB,GAAmCyD,MAAM,CAACkG,KAA1C;AACA,SAAK2I,QAAL,EAAe1I,KAAf,CAAqB5J,WAArB,GAAmCyD,MAAM,CAACmG,KAA1C;AACA,SAAK0I,QAAL,EAAezI,IAAf,CAAoB7J,WAApB,GAAkCyD,MAAM,CAACoG,IAAzC;AACA,SAAKyI,QAAL,EAAexI,OAAf,CAAuB9J,WAAvB,GAAqCyD,MAAM,CAACqG,OAA5C;AACA,SAAKwI,QAAL,EAAevI,KAAf,CAAqB/J,WAArB,GAAmCyD,MAAM,CAACsG,KAA1C;AACD,GA5KmB;AA8KpBkE,MA9KoB,kBA8Kb;AACL,SAAKD,OAAL,GAAe5P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAKiP,OAAL,CAAahP,SAAb,CAAuBC,GAAvB,CAA2B,QAA3B;AACA,SAAK+S,eAAL,CAAqB,CAArB;AACA,SAAKA,eAAL,CAAqB,CAArB;AACA;AACJ;;AACI,WAAO,KAAKhE,OAAZ;AACD;AAtLmB,CAAtB;AAyLA,iEAAeuD,aAAf;AAEA,kD;;;;;;;;;;;;;;;;;;AC3LA;AACA;AACA;AACA;AAEA,IAAMhT,kBAAkB,GAAG;AACzByP,SAAO,EAAE,IADgB;AAEzBpI,QAAM,EAAE,IAFiB;AAGzB2M,OAAK,EAAE,IAHkB;AAIzBC,YAAU,EAAE,IAJa;AAKzBnQ,MAAI,EAAE,IALmB;AAMzB4L,MANyB,kBAMlB;AACL,SAAKD,OAAL,GAAe5P,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAf;AACA,SAAKiP,OAAL,CAAahP,SAAb,CAAuBC,GAAvB,CAA2B,SAA3B;AAEA,SAAKwT,WAAL,GAAmBrU,QAAQ,CAACW,aAAT,CAAuB,KAAvB,CAAnB;AACA,SAAK0T,WAAL,CAAiBzT,SAAjB,CAA2BC,GAA3B,CAA+B,eAA/B;AAEA,SAAK2G,MAAL,GAAc2L,wDAAA,EAAd;AACA,SAAKkB,WAAL,CAAiBpT,WAAjB,CAA6B,KAAKuG,MAAlC;AAEA,SAAK4M,UAAL,GAAkBzE,4DAAA,EAAlB;AACA,SAAK0E,WAAL,CAAiBpT,WAAjB,CAA6B,KAAKmT,UAAlC;AAEA,SAAKnQ,IAAL,GAAY8O,sDAAA,EAAZ;AACA,SAAKsB,WAAL,CAAiBpT,WAAjB,CAA6B,KAAKgD,IAAlC;AAEA,SAAKkQ,KAAL,GAAahE,uDAAA,EAAb;AAEA,SAAKP,OAAL,CAAa3O,WAAb,CAAyB,KAAKoT,WAA9B;AACA,SAAKzE,OAAL,CAAa3O,WAAb,CAAyB,KAAKkT,KAA9B;AAEA,WAAO,KAAKvE,OAAZ;AACD;AA5BwB,CAA3B;AAgCA,iEAAezP,kBAAf,E;;;;;;;;;;;;;;;;;;;;;ACrCA;AACA;AACA;AACA;AACA;CAEA;;AACA;AAEe,SAASG,eAAT,GAA2B;AACxC;AACA,MAAM4E,MAAM,GAAG,IAAI8D,uDAAJ,EAAf,CAFwC,CAIxC;;AACA,MAAMsL,UAAU,GAAG/Q,0DAAU,CAACC,8CAAD,CAA7B,CALwC,CAOxC;;AACA+Q,mDAAO,CAACD,UAAD,CAAP,CARwC,CAUxC;;AACA,MAAMnP,SAAS,GAAG,IAAI4C,0DAAJ,CAAcuM,UAAd,CAAlB,CAXwC,CAaxC;;AACA,MAAMlP,OAAO,GAAG,EAAhB;;AACA,OAAK,IAAIsB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG8N,SAAS,CAAC7N,MAA9B,EAAsCD,CAAC,IAAI,CAA3C,EAA8C;AAC5C,QAAMrB,MAAM,GAAG,IAAIyF,uDAAJ,CAAW5F,MAAX,EAAmBsP,SAAS,CAAC9N,CAAD,CAA5B,EAAiCA,CAAC,GAAG,CAArC,CAAf;AACAtB,WAAO,CAACrB,IAAR,CAAasB,MAAb;AACD,GAlBuC,CAoBxC;;;AACA,MAAMC,IAAI,GAAG,IAAIL,qDAAJ,CAASC,MAAT,EAAiBC,SAAjB,EAA4BC,OAA5B,CAAb;AACAE,MAAI,CAACkB,OAAL,GAtBwC,CAuBxC;;AACAxG,UAAQ,CAAC+C,aAAT,CAAuB,QAAvB,EAAiCjC,KAAjC,CAAuC2T,OAAvC,GAAiD,GAAjD,CAxBwC,CA0BxC;AACA;AACD,C;;;;;;;;;;;;;;ACrCc,SAASpU,gBAAT,GAA4B;AACzC,MAAMqU,OAAO,GAAGvN,KAAK,CAACC,IAAN,CAAWpH,QAAQ,CAACqE,gBAAT,CAA0B,kBAA1B,CAAX,CAAhB;;AAEA,WAASsQ,SAAT,CAAmB7L,CAAnB,EAAsB;AACpB,QAAM4J,MAAM,GAAG5J,CAAC,CAACgF,MAAjB;AACA,QAAM8G,WAAW,GAAG9L,CAAC,CAACgF,MAAF,CAASY,aAAT,CAAuBA,aAA3C;AACA,QAAMmG,UAAU,GAAG1N,KAAK,CAACC,IAAN,CAAWwN,WAAW,CAAC9P,QAAvB,CAAnB;AACA,QAAMgQ,WAAW,GAAGD,UAAU,CAACE,GAAX,CAAe,UAACC,IAAD;AAAA,aAAU7N,KAAK,CAACC,IAAN,CAAW4N,IAAI,CAAClQ,QAAhB,CAAV;AAAA,KAAf,EAAoDmQ,IAApD,EAApB;AAEAvC,UAAM,CAACwC,mBAAP,CAA2B,OAA3B,EAAoCP,SAApC;AACAC,eAAW,CAAChU,SAAZ,CAAsB6D,MAAtB,CAA6B,QAA7B;AACAmQ,eAAW,CAAChU,SAAZ,CAAsBC,GAAtB,CAA0B,SAA1B;AAEAiU,eAAW,CAAC9S,OAAZ,CAAoB,UAAC8K,KAAD,EAAW;AAC7BA,WAAK,CAAClM,SAAN,CAAgB6D,MAAhB,CAAuB,QAAvB;AACAqI,WAAK,CAAClM,SAAN,CAAgBC,GAAhB,CAAoB,SAApB;AACD,KAHD;AAKA2D,cAAU,CAAC,YAAM;AACfoQ,iBAAW,CAAChU,SAAZ,CAAsB+N,MAAtB,WAAgCiG,WAAW,CAAC5G,SAAZ,CAAsBmH,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAhC;AACAL,iBAAW,CAAC9S,OAAZ,CAAoB,UAAC8K,KAAD,EAAW;AAC7BA,aAAK,CAAClM,SAAN,CAAgB6D,MAAhB,CAAuB,SAAvB;AACAqI,aAAK,CAAClM,SAAN,CAAgBC,GAAhB,CAAoB,QAApB;AACA+T,mBAAW,CAAChU,SAAZ,CAAsB6D,MAAtB,CAA6B,SAA7B;AACAmQ,mBAAW,CAAChU,SAAZ,CAAsBC,GAAtB,CAA0B,QAA1B;AACD,OALD;AAMA6R,YAAM,CAAChI,gBAAP,CAAwB,OAAxB,EAAiCiK,SAAjC;AACD,KATS,EASP,GATO,CAAV;AAUD;;AAEDD,SAAO,CAAC1S,OAAR,CAAgB,UAAC0Q,MAAD,EAAY;AAC1BA,UAAM,CAAChI,gBAAP,CAAwB,OAAxB,EAAiCiK,SAAjC;AACD,GAFD;AAGD,C;;;;;;;;;;;;;;ACjCD;AACA,SAASS,UAAT,CAAoBC,UAApB,EAAgC;AAC9BA,YAAU,CAACpC,QAAX,GAAsB,IAAtB;AACAoC,YAAU,CAACzU,SAAX,CAAqBC,GAArB,CAAyB,qBAAzB;AACD,C,CAED;;;AACA,SAASyU,SAAT,CAAmBD,UAAnB,EAA+B;AAC7BA,YAAU,CAACpC,QAAX,GAAsB,KAAtB;AACAoC,YAAU,CAACzU,SAAX,CAAqB6D,MAArB,CAA4B,qBAA5B;AACD;;AAEc,SAAS8Q,eAAT,GAA2B;AACxC;AACA,MAAMC,MAAM,GAAGxV,QAAQ,CAAC+C,aAAT,CAAuB,iBAAvB,CAAf;AACA,MAAM0S,SAAS,GAAGzV,QAAQ,CAAC+C,aAAT,CAAuB,oBAAvB,CAAlB;AACA,MAAMkB,IAAI,GAAGjE,QAAQ,CAAC+C,aAAT,CAAuB,cAAvB,CAAb,CAJwC,CAMxC;AACA;;AACA,MAAM2S,IAAI,GAAG1V,QAAQ,CAAC2V,eAAtB;AACA,MAAM7U,KAAK,GAAG8U,MAAM,CAACC,gBAAP,CAAwBH,IAAxB,EAA8B,IAA9B,EAAoCI,gBAApC,CAAqD,WAArD,CAAd;AACA,MAAMC,QAAQ,GAAGC,UAAU,CAAClV,KAAD,CAA3B;AAEA,MAAMmV,eAAe,GAAGF,QAAQ,GAAG,EAAnC,CAZwC,CAaxC;;AACA,MAAMG,WAAW,GAAG,GAApB,CAdwC,CAgBxC;;AACAjS,MAAI,CAACkS,OAAL,GAAe,SAASC,aAAT,GAAyB;AAAE,WAAO,KAAP;AAAe,GAAzD,CAjBwC,CAmBxC;;;AACAnS,MAAI,CAACyG,gBAAL,CAAsB,iBAAtB,EAAyC,YAAM;AAC7C;AACAzG,QAAI,CAACoS,SAAL,GAAiBpS,IAAI,CAACqS,YAAL,GAAoBL,eAArC;AACAb,cAAU,CAACK,SAAD,CAAV,CAH6C,CAI7C;;AACA,QAAIxR,IAAI,CAACqS,YAAL,GAAoBL,eAAxB,EAAyC;AACvCX,eAAS,CAACE,MAAD,CAAT;AACD;AACF,GARD,EApBwC,CA8BxC;;AACAvR,MAAI,CAACyG,gBAAL,CAAsB,gBAAtB,EAAwC,YAAM;AAC5ClG,cAAU,CAAC,YAAM;AACf;AACA,UAAIP,IAAI,CAACqS,YAAL,KAAsBL,eAA1B,EAA2C;AACzCb,kBAAU,CAACK,SAAD,CAAV;AACAL,kBAAU,CAACI,MAAD,CAAV,CAFyC,CAG3C;AACA;AACC,OALD,MAKO,IAAIvR,IAAI,CAACqS,YAAL,GAAoBrS,IAAI,CAACoS,SAAzB,GAAqCJ,eAAe,GAAG,CAA3D,EAA8D;AACnEb,kBAAU,CAACK,SAAD,CAAV;AACD;AACF,KAVS,EAUPS,WAVO,CAAV;AAWD,GAZD,EA/BwC,CA6CxC;;AACAV,QAAM,CAAC9K,gBAAP,CAAwB,OAAxB,EAAiC,YAAM;AACrC;AACA8K,UAAM,CAACvC,QAAP,GAAkB,IAAlB,CAFqC,CAIrC;;AACAhP,QAAI,CAACoS,SAAL,IAAkBJ,eAAlB,CALqC,CAOrC;AACA;;AACAzR,cAAU,CAAC,YAAM;AACf;AACA,UAAIP,IAAI,CAACoS,SAAL,KAAmB,CAAvB,EAA0B;AACxBjB,kBAAU,CAACI,MAAD,CAAV;AACAF,iBAAS,CAACG,SAAD,CAAT;AACD,OALc,CAMf;;;AACA,UAAIxR,IAAI,CAACoS,SAAL,KAAmB,CAAvB,EAA0B;AACxBf,iBAAS,CAACG,SAAD,CAAT,CADwB,CAExB;;AACAD,cAAM,CAACvC,QAAP,GAAkB,KAAlB;AACD;AACF,KAZS,EAYPiD,WAZO,CAAV;AAaD,GAtBD,EA9CwC,CAsExC;;AACAT,WAAS,CAAC/K,gBAAV,CAA2B,OAA3B,EAAoC,YAAM;AACxC;AACA+K,aAAS,CAACxC,QAAV,GAAqB,IAArB,CAFwC,CAIxC;;AACAhP,QAAI,CAACoS,SAAL,IAAkBJ,eAAlB,CALwC,CAOxC;;AACAzR,cAAU,CAAC,YAAM;AACf;AACA,UAAIP,IAAI,CAACoS,SAAL,KAAmB,CAAvB,EAA0B;AACxBf,iBAAS,CAACE,MAAD,CAAT,CADwB,CAExB;;AACAC,iBAAS,CAACxC,QAAV,GAAqB,KAArB;AACD,OANc,CAOf;AACA;;;AACA,UAAIhP,IAAI,CAACqS,YAAL,GAAoBrS,IAAI,CAACoS,SAAzB,GAAqCJ,eAAe,GAAG,CAAvD,IAA4DhS,IAAI,CAACoS,SAAL,KAAmB,CAAnF,EAAsF;AACpFjB,kBAAU,CAACK,SAAD,CAAV;AACD;AACF,KAZS,EAYPS,WAZO,CAAV;AAaD,GArBD;AAsBD,C;;;;;;;;;;;;;;ACzGc,SAAS3B,OAAT,CAAiBgC,KAAjB,EAAwB;AACrC,OAAK,IAAI7P,CAAC,GAAG6P,KAAK,CAAC5P,MAAN,GAAe,CAA5B,EAA+BD,CAAC,GAAG,CAAnC,EAAsCA,CAAC,IAAI,CAA3C,EAA8C;AAC5C,QAAM8P,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBjQ,CAAC,GAAG,CAArB,CAAX,CAAV;AAD4C,eAErB,CAAC6P,KAAK,CAACC,CAAD,CAAN,EAAWD,KAAK,CAAC7P,CAAD,CAAhB,CAFqB;AAE3C6P,SAAK,CAAC7P,CAAD,CAFsC;AAEjC6P,SAAK,CAACC,CAAD,CAF4B;AAG7C;AACF,C;;;;;;;;;;;ACLD;;;;;;;;;;;;ACAA;;;;;;;;;;;;;;;;;UCAA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCrBA;WACA;WACA;WACA;WACA,wCAAwC,yCAAyC;WACjF;WACA;WACA,E;;;;;WCPA,sF;;;;;WCAA;WACA;WACA;WACA,sDAAsD,kBAAkB;WACxE;WACA,+CAA+C,cAAc;WAC7D,E;;;;UCNA;UACA;UACA;UACA","file":"bundle.js","sourcesContent":["// import styles\r\nimport '../scss/style.scss';\r\nimport '@animxyz/core';\r\n\r\n// import js modules\r\nimport displayPlayerTable from './display/playerTable/displayPlayerTable';\r\nimport setHandControls from './utility/setHandControls';\r\nimport setAsideControls from './utility/setAsideControls';\r\nimport Intro from './components/Intro';\r\n\r\n// display intro & menu\r\n// Intro.init();\r\n\r\n// display game UI\r\ndocument.body.prepend(displayPlayerTable.init());\r\n\r\n// add event listeners to hand controls\r\nsetHandControls();\r\n\r\n// add event listeners and animations to aside buttons\r\nsetAsideControls();\r\n\r\n//! Added for testing! Uncomment next 2 lines and comment line 12 with Intro.init()\r\nimport initHotSeatGame from './utility/initHotSeatGame';\r\ninitHotSeatGame('Player1', 'Player2');\r\n","// take card object and return builded card DOM element\r\nconst getCard = {\r\n  // get playing card\r\n  frontSide(cardObj) {\r\n    const divCard = document.createElement('div');\r\n    divCard.classList.add('card');\r\n    divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n\r\n    divCard.appendChild(this.getCardHeader(cardObj));\r\n    divCard.appendChild(this.getCardMain(cardObj));\r\n    divCard.appendChild(this.getCardFooter());\r\n    this.setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n    return divCard;\r\n  },\r\n\r\n  // get card header\r\n  getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  },\r\n\r\n  // get card body\r\n  getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-dogmatype', item.dogmaType);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.dogmaIcon[0], item.dogmaIcon[1], 'card__icon', `card__icon-color--${item.dogmaColor}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.dogmaEffect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divMain.appendChild(divDogma);\r\n    });\r\n\r\n    return divMain;\r\n  },\r\n\r\n  // get card footer\r\n  getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  },\r\n\r\n  // place age number and resourses by card position\r\n  setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.resoursePosition}`);\r\n      pos.classList.add(`${res.resourseType[0]}`, `${res.resourseType[1]}`,\r\n        `card__icon-color--${res.resourseColor}`, `card__icon-border--${card.color}`);\r\n    });\r\n  },\r\n};\r\n\r\nexport default getCard;\r\n","// get JSON and return array of card objects\r\nexport default function parseCards(cardsJSON) {\r\n  const resultArr = [];\r\n\r\n  cardsJSON.forEach((setOfCards) => {\r\n    setOfCards.cards.forEach((card) => {\r\n      const cardObject = {};\r\n      Object.assign(cardObject, setOfCards, card);\r\n      delete cardObject.cards; // remove duplicated field\r\n      resultArr.push(cardObject);\r\n    });\r\n  });\r\n\r\n  return resultArr;\r\n}\r\n","function getRenderCard() {\r\n  let hand = null;\r\n  let activeStacks = null;\r\n\r\n  const renderCard = {\r\n    initObject() {\r\n      hand = document.querySelector('.hand__cards');\r\n      activeStacks = document.querySelectorAll('.active-zone__stack');\r\n    },\r\n\r\n    toHand(cardElement) {\r\n      if (hand === null || activeStacks === null) this.initObject();\r\n      cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n      cardElement.classList.add('xyz-in');\r\n      setTimeout(() => {\r\n        cardElement.classList.remove('xyz-in');\r\n      }, 450);\r\n      hand.append(cardElement);\r\n    },\r\n\r\n    toActive(cardElement) {\r\n      if (hand === null || activeStacks === null) this.initObject();\r\n      let targetStack = null;\r\n      activeStacks.forEach((stack) => {\r\n        if (cardElement.children[0].classList.contains(`card__color--${stack.id}`)) targetStack = stack;\r\n      });\r\n      \r\n    }\r\n  };\r\n\r\n  renderCard.initObject();\r\n  return renderCard;\r\n}\r\n\r\nconst renderCard = getRenderCard();\r\n\r\nexport { renderCard };\r\n","/*\r\n* all game action happens here\r\n* take gameUI obj which contains all dom elements\r\n* take gameField obj which contains all cards avaiable for all players (ages/leadership/special)\r\n* take players objects which contains all cards avaible for players (hand/table/lead/influence)\r\n* count avaible actions per turn, reduce on each action\r\n* when avaible ections ends - turn passed to next player\r\n*/\r\nimport header from '../display/playerTable/displayHeader';\r\nimport displayNewTurnModal from '../display/displayNewTurnModal';\r\nimport displayNextTurnBtn from '../display/displayNextTurnBtn';\r\n\r\n//!! TEST\r\nimport { renderCard } from '../cards/renderCard';\r\nimport getCard from '../cards/getCard';\r\n\r\nexport default class Game {\r\n  constructor(gameUI, gameField, players) {\r\n    // store passed objects\r\n    this.players = players;\r\n    this.gameField = gameField;\r\n    this.gameUI = gameUI;\r\n\r\n    // initialize game field in players objects\r\n    this.players.forEach((player) => {\r\n      player.game = this;\r\n    });\r\n\r\n    // set default values\r\n    this.currentPlayer = null;\r\n    this.currentDeck = {\r\n      domElement: gameUI.ageDecks.age1,\r\n      cardsArray: gameField.ageDecks.age1,\r\n    };\r\n    this.turnPoints = 0;\r\n  }\r\n\r\n  newTurn() {\r\n    this.setCurrentPlayer();\r\n    displayNewTurnModal(this.currentPlayer.name);\r\n    this.turnPoints = 100;\r\n    // timeout to display modal\r\n    setTimeout(() => {\r\n      this.removeActiveDeck();\r\n      this.setActiveDeck(this.currentPlayer);\r\n      this.currentPlayer.renderHand();\r\n      this.currentPlayer.renderActiveZone();\r\n      this.updateInfoTable();\r\n    }, 450);\r\n  }\r\n\r\n  // use this after each action\r\n  actionDone() {\r\n    this.turnPoints -= 1;\r\n    this.updateInfoTable();\r\n    this.removeActiveDeck();\r\n    if (this.turnPoints > 0) {\r\n      this.setActiveDeck(this.currentPlayer);\r\n    } else {\r\n      this.disableHandEvents();\r\n      displayNextTurnBtn(this.newTurn.bind(this));\r\n    }\r\n  }\r\n\r\n  // set current players depends on previous player\r\n  setCurrentPlayer() {\r\n    if (this.currentPlayer === null) {\r\n      this.currentPlayer = this.players[0];\r\n    } else {\r\n      for (let i = 0; i < this.players.length; i += 1) {\r\n        if (this.currentPlayer === this.players[i]) {\r\n          i += 1;\r\n          if (i === this.players.length) i = 0;\r\n          this.currentPlayer = this.players[i];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // set active deck for current player\r\n  setActiveDeck(currentPlayer) {\r\n    Object.keys(this.gameField.ageDecks).forEach((ageDeckKey) => {\r\n      if (ageDeckKey === `age${currentPlayer.currentAge}`) {\r\n        // store active deck dom element\r\n        this.currentDeck.domElement = this.gameUI.ageDecks[`age${currentPlayer.currentAge}`];\r\n        // store active deck cards array\r\n        this.currentDeck.cardsArray = this.gameField.ageDecks[ageDeckKey];\r\n        //! Change current players currentAge if needed deck empty to go for the next deck\r\n        //! Need recalcualte current age after each action, done by players method setCurrentAge\r\n        if (this.currentDeck.cardsArray.length === 0) {\r\n          this.currentPlayer.currentAge += 1;\r\n        }\r\n      }\r\n    });\r\n    // set style and event listener of active deck when all calculations finished\r\n    this.currentDeck.domElement.classList.add('age-deck--active');\r\n    //! USED onclick because got bug with AddEvenListener - cant remove listener\r\n    this.currentDeck.domElement.onclick = this.takeCard.bind(this);\r\n\r\n    // update current active deck displayed in aside\r\n    this.updateCurrentDeckBlock();\r\n  }\r\n\r\n  // remove active deck class and eventlistener\r\n  //! should use before each setActiveDeck method\r\n  removeActiveDeck() {\r\n    const cloneCurrentDeck = document.querySelector('#cloneCurrentDeck');\r\n    if (cloneCurrentDeck !== null) cloneCurrentDeck.onclick = '';\r\n\r\n    this.currentDeck.domElement.classList.remove('age-deck--active');\r\n    this.currentDeck.domElement.onclick = '';\r\n  }\r\n\r\n  disableHandEvents() {\r\n    const cards = Array.from(document.querySelectorAll('.card'));\r\n    cards.forEach((card) => {\r\n      card.onclick = '';\r\n    });\r\n  }\r\n\r\n  // get card and render it in hand\r\n  takeCard() {\r\n    const cardObject = this.currentDeck.cardsArray.pop();\r\n    this.currentPlayer.hand.push(cardObject);\r\n\r\n    const cardElement = getCard.frontSide(cardObject);\r\n\r\n    cardElement.onclick = () => { this.currentPlayer.playCard(cardObject, cardElement); }; //! TEMP\r\n\r\n    renderCard.toActive(cardElement);\r\n\r\n    this.currentPlayer.setCurrentAge();\r\n    header.changePlayerStats(this.currentPlayer);\r\n\r\n    this.actionDone();\r\n  }\r\n\r\n  // update info table in aside, use after each action done in newTurn method\r\n  updateInfoTable() {\r\n    this.gameUI.infoTable.name.innerText = this.currentPlayer.name;\r\n    this.gameUI.infoTable.actionPoints.innerText = this.turnPoints;\r\n  }\r\n\r\n  // update current active deck displayed in aside, use after each time when setActiveDeck run\r\n  updateCurrentDeckBlock() {\r\n    // remove previous active deck if exists\r\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\r\n    if (prevDeckClone !== null) prevDeckClone.remove();\r\n\r\n    // clone current active deck\r\n    const cloneCurrentDeck = this.currentDeck.domElement.cloneNode();\r\n    cloneCurrentDeck.innerText = this.currentDeck.domElement.innerText;\r\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\r\n    cloneCurrentDeck.onclick = this.takeCard.bind(this);\r\n\r\n    // remove animation on each update of aside current deck\r\n    cloneCurrentDeck.classList.remove('xyz-in');\r\n\r\n    // display cloned deck in currentDeck block\r\n    this.gameUI.currentDeck.append(cloneCurrentDeck);\r\n  }\r\n}\r\n","/*\r\n* take cards objects and sort them to separate decks\r\n* store all cards avaible for all players (ages/leadership/special)\r\n* store cards as objects\r\n* this object passed as argument to Game constructor\r\n*/\r\nexport default class GameField {\r\n  constructor(arrOfCardObjects) {\r\n    // create empty decks for each age\r\n    this.ageDecks = {\r\n      age1: [],\r\n      age2: [],\r\n      age3: [],\r\n      age4: [],\r\n      age5: [],\r\n      age6: [],\r\n      age7: [],\r\n      age8: [],\r\n      age9: [],\r\n      age10: [],\r\n    };\r\n\r\n    // TODO leadership later\r\n    // create empty leadership deck\r\n    this.leadershipDeck = [];\r\n    // TODO special deck later\r\n    // create empty special deck\r\n    this.specialDeck = [];\r\n\r\n    // fill age decks with card objects\r\n    this.setDeckArrays(arrOfCardObjects);\r\n  }\r\n\r\n  // TODO add shuffle later\r\n  // fill deck arays depends on card age field\r\n  setDeckArrays(cardsObj) {\r\n    cardsObj.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          this.ageDecks.age1.push(e);\r\n          break;\r\n        case 2:\r\n          this.ageDecks.age2.push(e);\r\n          break;\r\n        case 3:\r\n          this.ageDecks.age3.push(e);\r\n          break;\r\n        case 4:\r\n          this.ageDecks.age4.push(e);\r\n          break;\r\n        case 5:\r\n          this.ageDecks.age5.push(e);\r\n          break;\r\n        case 6:\r\n          this.ageDecks.age6.push(e);\r\n          break;\r\n        case 7:\r\n          this.ageDecks.age7.push(e);\r\n          break;\r\n        case 8:\r\n          this.ageDecks.age8.push(e);\r\n          break;\r\n        case 9:\r\n          this.ageDecks.age9.push(e);\r\n          break;\r\n        case 10:\r\n          this.ageDecks.age10.push(e);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n  }\r\n}\r\n","/*\r\n* store all game UI dom elements\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class GameUI {\r\n  constructor() {\r\n    this.ageDecks = {};\r\n    this.getAgeDecks();\r\n\r\n    this.activeStacks = {};\r\n    this.getActiveStacks();\r\n\r\n    this.infoTable = {};\r\n    this.getInfoTable();\r\n\r\n    this.currentDeck = document.querySelector('.current-deck__cards');\r\n    this.hand = document.querySelector('.hand__cards');\r\n  }\r\n\r\n  getAgeDecks() {\r\n    const ageDecksElements = Array.from(document.getElementsByClassName('age-deck'));\r\n    ageDecksElements.forEach((ageDeck, i) => {\r\n      this.ageDecks[`age${i + 1}`] = ageDecksElements[i];\r\n    });\r\n  }\r\n\r\n  getActiveStacks() {\r\n    const activeStacksElements = Array.from(document.getElementsByClassName('active-zone__stack'));\r\n    activeStacksElements.forEach((activeStack) => {\r\n      this.activeStacks[activeStack.id] = activeStack;\r\n    });\r\n  }\r\n\r\n  getInfoTable() {\r\n    const currentPlayerNameBlock = document.querySelector('.info-table__player-name');\r\n    this.infoTable.name = currentPlayerNameBlock;\r\n    const currentPlayerActionPoints = document.querySelector('.info-table__action-points');\r\n    this.infoTable.actionPoints = currentPlayerActionPoints;\r\n  }\r\n}\r\n","import Menu from './mainMenu';\r\n\r\nexport default class Intro {\r\n  static init() {\r\n    const divIntro = document.createElement('div');\r\n    divIntro.classList.add('intro');\r\n\r\n    const introContainer = document.createElement('div');\r\n    introContainer.classList.add('intro__container');\r\n\r\n    const introTop = document.createElement('div');\r\n    introTop.classList.add('intro__top');\r\n\r\n    // svg title letters - I n n o v a t i o n\r\n    const introCenter = document.createElement('div');\r\n    introCenter.classList.add('intro__center');\r\n    introCenter.innerHTML = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\nwidth=\"500px\" height=\"120px\" viewBox=\"0 0 500 120\" enable-background=\"new 0 0 500 120\" xml:space=\"preserve\">\r\n<path class=\"letter-1\" d=\"M27.346,80.317c3.604,1.819,7.755,0.485,7.755,2.67c0,0.728-0.656,1.334-2.075,1.334c-0.983,0-6.117-0.606-15.292-0.606\r\nS3.536,84.321,2.553,84.321c-1.42,0-2.184-0.606-2.184-1.334c0-2.185,4.259-0.851,7.863-2.67c3.386-1.698,3.932-4.49,3.932-9.829\r\nv-54.61c0-5.218-0.546-8.01-3.604-9.587C5.721,4.835,0.369,5.685,0.369,3.985c0-0.728,1.857-1.213,3.167-1.213\r\nc1.202,0,5.898,0.485,14.199,0.485c8.628,0,13.544-0.485,14.417-0.485c1.201,0,2.949,0.364,2.949,1.092\r\nc0,1.457-3.604,0.971-7.208,2.063s-4.478,4.125-4.478,9.951v54.61C23.415,75.949,24.07,78.739,27.346,80.317z\"/>\r\n<path class=\"letter-2\" d=\"M49.627,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.242-0.354-5.242-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.075,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.375,0,16.165,5.674,16.165,15.724v27.546c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.419,0-5.133-0.709-11.031-0.709c-5.898,0-9.502,0.709-10.922,0.709\r\nc-1.092,0-1.748-0.473-1.748-1.3c0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994\r\nc0-8.394-3.386-12.532-10.267-12.532c-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.84,1.419,5.243,0.709,5.243,2.6c0,0.592-0.655,1.064-1.748,1.064c-1.42,0-5.024-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.092,0-1.638-0.473-1.638-1.3c0-1.655,2.512-1.064,5.242-2.364\r\nc2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-3\" d=\"M116.135,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.076-1.183-5.243-0.354-5.243-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.076,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.376,0,16.165,5.674,16.165,15.724v62.068c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.42,0-5.134-0.709-11.032-0.709s-9.501,0.709-10.921,0.709c-1.092,0-1.748-0.473-1.748-1.3\r\nc0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994c0-8.394-3.386-12.532-10.267-12.532\r\nc-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.11,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.655,1.064-1.748,1.064c-1.419,0-5.024-0.709-10.922-0.709s-9.611,0.709-11.032,0.709c-1.092,0-1.638-0.473-1.638-1.3\r\nc0-1.655,2.513-1.064,5.243-2.364c2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-4\" d=\"M189.871,31.561c6.881,0,12.779,2.72,17.584,7.803c5.025,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.073,0-26.322-11.467-26.322-27.545C163.22,43.383,175.016,31.561,189.871,31.561z\r\n  M188.996,84.171c10.267,0,15.728-8.631,15.728-25.417c0-16.197-6.007-24.946-15.728-24.946c-8.737,0-15.181,9.339-15.181,25.418\r\nC173.815,75.305,179.385,84.171,188.996,84.171z\"/>\r\n<path class=\"letter-5\" d=\"M254.752,48.939c0-5.218-6.116-3.761-6.116-5.825c0-0.85,0.437-1.092,1.638-1.092c1.53,0,3.715,0.486,6.443,0.486\r\nc2.841,0,4.807-0.364,6.008-0.364c1.311,0,1.967,0.364,1.967,1.092c0,1.214-1.748,0.971-3.277,2.427\r\nc-1.747,1.699-3.387,5.583-5.68,11.892l-12.125,26.524c-0.438,1.214-0.983,1.699-1.857,1.699c-1.748,0-1.857-1.821-3.167-5.34\r\nl-20.852-51.993c-1.201-3.034-2.402-4.976-3.386-5.461c-3.058-1.456-4.697-0.849-4.697-2.548c0-0.85,0.656-1.092,1.857-1.092\r\nc2.075,0,5.679,0.485,11.031,0.485c4.37,0,7.209-0.364,8.52-0.364c1.529,0,2.293,0.243,2.293,1.092c0,1.335-1.856,0.971-4.15,1.578\r\nc-1.529,0.364-2.403,1.457-2.403,3.156c0,1.456,6.434,15.95,8.291,20.683l10.267,26.333\r\nC252.346,52.285,254.752,52.217,254.752,48.939z\"/>\r\n<path class=\"letter-6\" d=\"M269.073,82.822c-6.989,0-11.14-4.368-11.14-11.043c0-10.316,9.938-15.655,30.146-23.786v-9.587\r\nc0-6.433-3.276-9.466-10.486-9.466c-5.461,0-8.956,2.184-9.393,5.825c-0.547,3.883-0.982,6.311-4.696,6.311\r\nc-2.293,0-3.823-1.82-3.823-4.49c0-5.34,6.553-10.073,18.896-10.073c12.779,0,18.786,4.369,18.786,13.956v30.825\r\nc0,4.246,1.311,6.553,3.605,6.553c2.074,0,3.385-2.307,4.477-2.307c0.654,0,0.983,0.364,0.983,1.093c0,2.063-3.933,6.31-8.847,6.31\r\nc-5.134,0-8.848-3.276-9.83-8.494C282.509,79.91,275.845,82.822,269.073,82.822z M268.091,69.23c0,5.581,2.839,8.979,7.318,8.979\r\nc5.68,0,12.67-5.097,12.67-10.557V50.663C274.534,56.488,268.091,61.706,268.091,69.23z\"/>\r\n<path class=\"letter-7\" d=\"M315.265,36.43c-1.421,0-2.076-0.349-2.076-1.047c0-1.163,3.277-2.327,7.319-6.981c4.478-5.12,5.132-8.726,6.333-8.726\r\nc0.765,0,0.983,0.465,0.983,1.629V32.94h10.049c2.185,0,3.167,0.116,3.167,1.746c0,1.28-0.982,1.744-3.275,1.744h-9.831v35.022\r\nc0,7.098,1.966,10.471,6.99,10.471c5.134,0,6.444-5.584,8.192-5.584c0.655,0,1.31,0.698,1.31,1.628\r\nc0,2.909-5.024,7.446-13.106,7.446c-9.829,0-12.67-4.537-12.67-14.543V36.43H315.265z\"/>\r\n<path class=\"letter-8\" d=\"M352.395,36.349c-2.402-0.931-5.461,0.117-5.461-1.397c0-1.28,1.528-1.164,4.479-1.862\r\nc6.772-1.514,10.485-3.608,11.469-3.608c0.873,0,1.201,0.583,1.201,1.746v41.436c0,3.839,0.109,5.47,2.622,6.634\r\nc2.838,1.396,5.241,0.699,5.241,2.56c0,0.582-0.655,1.048-1.748,1.048c-1.31,0-4.913-0.699-10.921-0.699s-9.722,0.699-11.032,0.699\r\nc-1.092,0-1.638-0.466-1.638-1.048c0-1.86,2.402-1.163,5.242-2.56c2.402-1.164,2.621-2.677,2.621-6.634V41.004\r\nC354.47,38.211,354.142,37.047,352.395,36.349z M358.185-0.314c3.057,0,5.569,2.677,5.569,6.052c0,3.259-2.403,5.936-5.569,5.936\r\nc-3.168,0-5.68-2.677-5.68-5.936C352.505,2.363,355.017-0.314,358.185-0.314z\"/>\r\n<path class=\"letter-9\" d=\"M406.231,31.561c6.881,0,12.779,2.72,17.585,7.803c5.023,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.072,0-26.321-11.467-26.321-27.545C379.582,43.383,391.378,31.561,406.231,31.561z\r\n  M405.358,84.171c10.267,0,15.727-8.631,15.727-25.417c0-16.197-6.007-24.946-15.727-24.946c-8.738,0-15.182,9.339-15.182,25.418\r\nC390.177,75.305,395.747,84.171,405.358,84.171z\"/>\r\n<path class=\"letter-10\" d=\"M449.253,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.243-0.354-5.243-1.892c0-1.064,1.64-1.3,4.261-1.892\r\nc5.788-1.3,9.064-3.191,10.156-3.191c2.076,0,1.856,3.31,2.513,11.585c4.26-7.447,10.158-11.231,18.021-11.231\r\nc10.378,0,16.166,5.674,16.166,15.724v27.546c0,3.901,0.108,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.547,1.064-1.639,1.064c-1.421,0-5.133-0.709-11.03-0.709c-5.898,0-9.503,0.709-10.923,0.709\r\nc-1.093,0-1.747-0.473-1.747-1.3c0-1.655,2.511-1.064,5.242-2.364c2.512-1.183,2.621-2.839,2.621-6.74V47.994\r\nc0-8.394-3.386-12.532-10.266-12.532c-7.428,0-13.764,7.094-13.764,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.841,1.419,5.244,0.709,5.244,2.6c0,0.592-0.656,1.064-1.748,1.064c-1.421,0-5.025-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.093,0-1.64-0.473-1.64-1.3c0-1.655,2.513-1.064,5.243-2.364\r\nc2.513-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<defs>\r\n    <filter id=\"mySVGfilter\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\"/>\r\n    </filter>\r\n</defs>\r\n</svg>`;\r\n\r\n    const introCenterTitle = document.createElement('div');\r\n    introCenterTitle.classList.add('center__title');\r\n    introCenter.appendChild(introCenterTitle);\r\n\r\n    const introBottom = document.createElement('div');\r\n    introBottom.classList.add('intro__bottom');\r\n    const introBottomLamps = document.createElement('div');\r\n    introBottomLamps.classList.add('bottom__lamp');\r\n    for (let i = 0; i < 3; i += 1) {\r\n      const introBottomLamp = document.createElement('div');\r\n      introBottomLamp.classList.add(`bottom__lamp--${i + 1}`);\r\n      introBottomLamps.appendChild(introBottomLamp);\r\n    }\r\n    introBottom.appendChild(introBottomLamps);\r\n\r\n    const introGear = document.createElement('div');\r\n    introGear.classList.add('intro__gear');\r\n    const introGear1 = document.createElement('div');\r\n    introGear1.classList.add('intro__gear1');\r\n    const introGear2 = document.createElement('div');\r\n    introGear2.classList.add('intro__gear2');\r\n    introGear.appendChild(introGear1);\r\n    introGear.appendChild(introGear2);\r\n\r\n    introContainer.appendChild(introTop);\r\n    introContainer.appendChild(introCenter);\r\n    introContainer.appendChild(introBottom);\r\n    introContainer.appendChild(introGear);\r\n    divIntro.appendChild(introContainer);\r\n    document.body.appendChild(divIntro);\r\n\r\n    const img = new Image();\r\n    img.src = './assets/img/intro/center.png';\r\n\r\n    img.addEventListener('load', () => {\r\n      introBottom.classList.add('show');\r\n      // set up and display main menu\r\n      const menu = new Menu(introTop);\r\n      menu.render();\r\n    });\r\n  }\r\n}\r\n","import getCard from '../cards/getCard';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\n/*\r\n* store all player cards objects (hand/table/lead/influence)\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class Player {\r\n  constructor(gameUI, playerName, id) {\r\n    // store passed values\r\n    this.name = playerName;\r\n    this.id = id;\r\n    this.gameUI = gameUI;\r\n\r\n    // set default values\r\n    this.game = null; //! this field will be set at game object initialization\r\n    this.currentAge = 1;\r\n    this.hand = [];\r\n\r\n    //! Names of stacks are color field in card objects\r\n    this.activeStacks = {\r\n      blue: {\r\n        cards: [],\r\n        shift: 'right', //! TEST\r\n      },\r\n      red: {\r\n        cards: [],\r\n        shift: 'top', //! TEST\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null, //! TEST\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: 'left', //! TEST\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: 'top', //! TEST\r\n      },\r\n    };\r\n\r\n    // Resources\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n\r\n    // player leadership and influence objects\r\n    // TODO LATER\r\n    this.ownedLeadership = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n    // TODO LATER\r\n    this.influence = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n  }\r\n\r\n  // calculate current recourses\r\n  calculateResources() {\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      const currentStack = this.activeStacks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCard = currentStack.cards[currentStack.cards.length - 1];\r\n        highestCard.resourses.forEach((e) => {\r\n          this[e.resourceName] += 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // calculate and set current age, iterates througth each stack\r\n  //! Runs from Game each time when card taken\r\n  setCurrentAge() {\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      this.activeStacks[stack].cards.forEach((card) => {\r\n        if (+card.age > this.currentAge) {\r\n          this.currentAge = +card.age;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // render last taken card in hand of current player\r\n  renderLastTakenCard() {\r\n    const lastTakenCard = this.hand[this.hand.length - 1];\r\n    const cardElement = getCard.frontSide(lastTakenCard);\r\n\r\n    // add animation when card render to hand\r\n    cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n    cardElement.classList.add('xyz-in');\r\n\r\n    cardElement.onclick = () => { this.playCard(lastTakenCard, cardElement); };\r\n    this.gameUI.hand.append(cardElement);\r\n\r\n    // remove animation when card rendered\r\n    setTimeout(() => {\r\n      // cardElement.removeAttribute('xyz');\r\n      cardElement.classList.remove('xyz-in');\r\n    }, 450);\r\n  }\r\n\r\n  // render all cards in hand of current player\r\n  renderHand() {\r\n    this.gameUI.hand.innerHTML = ''; // clear previous rendered hand\r\n\r\n    this.hand.forEach((card) => {\r\n      const cardElement = getCard.frontSide(card);\r\n      cardElement.onclick = () => {\r\n        this.playCard(card, cardElement);\r\n      };\r\n      this.gameUI.hand.append(cardElement);\r\n    });\r\n  }\r\n\r\n  // render all cards in active zone of current player\r\n  renderActiveZone() {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      this.gameUI.activeStacks[stackName].innerHTML = ''; // clear previous rendered active zone\r\n      this.activeStacks[stackName].cards.forEach((card) => {\r\n        this.gameUI.activeStacks[stackName].append(getCard.frontSide(card));\r\n      });\r\n    });\r\n  }\r\n\r\n  // on click event for cards in hand. Play card in stack depends on category\r\n  // TODO: later this method should add dogma function to each played card\r\n  playCard(cardObj, cardElement) {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      if (stackName === cardObj.color) {\r\n        this.hand.forEach((e, i) => {\r\n          if (e === cardObj) {\r\n            this.hand.splice(i, 1);\r\n          }\r\n        });\r\n        if (this.activeStacks[stackName].cards.length === 0) {\r\n          document.querySelector(`#${stackName}`).classList.remove('active-zone__stack--empty');\r\n        }\r\n\r\n        cardElement.style.position = 'absolute';\r\n        cardElement.classList.add('xyz-in');\r\n\r\n        const stackCards = this.activeStacks[stackName].cards;\r\n        const stackShift = this.activeStacks[stackName].shift;\r\n        const stackElement = this.gameUI.activeStacks[stackName];\r\n        const stackDefWidth = this.gameUI.activeStacks[stackName].offsetWidth;\r\n\r\n        let cardShiftValue = 40;\r\n        const cardDefHeight = cardElement.offsetHeight;\r\n        const stackDefHeight = this.gameUI.activeStacks[stackName].offsetHeight;\r\n        if (stackDefHeight < cardDefHeight + (stackCards.length * cardShiftValue) && Array.from(stackElement.children)[0].style !== '30px' && stackShift === 'top') {\r\n          cardShiftValue = 30;\r\n          Array.from(stackElement.children).forEach((child, i) => {\r\n            child.style.bottom = `${i * cardShiftValue}px`;\r\n          });\r\n        }\r\n        if (stackDefHeight < cardDefHeight + (stackCards.length * cardShiftValue) && Array.from(stackElement.children)[0].style !== '20px' && stackShift === 'top') {\r\n          cardShiftValue = 20;\r\n          Array.from(stackElement.children).forEach((child, i) => {\r\n            child.style.bottom = `${i * cardShiftValue}px`;\r\n          });\r\n        }\r\n        if (stackDefHeight < cardDefHeight + (stackCards.length * cardShiftValue) && stackShift === 'top') {\r\n          cardShiftValue = 10;\r\n          Array.from(stackElement.children).forEach((child, i) => {\r\n            child.style.bottom = `${i * cardShiftValue}px`;\r\n          });\r\n        }\r\n\r\n        if (stackShift === 'top') {\r\n          cardElement.style.bottom = `${stackCards.length * cardShiftValue}px`;\r\n        } else if (stackShift === 'right' && stackCards.length !== 0) {\r\n          cardElement.style.left = `${stackCards.length * 40}px`;\r\n          // this.gameUI.activeStacks[stackName].offsetWidth += 40;\r\n          stackElement.style.width = `${stackDefWidth + 40}px`;\r\n        } else if (stackShift === 'left') {\r\n          cardElement.style.right = `${stackCards.length * 40}px`;\r\n          // this.gameUI.activeStacks[stackName].offsetWidth += 40;\r\n          if (stackCards.length !== 0) {\r\n            stackElement.style.width = `${stackDefWidth + 40}px`;\r\n          }\r\n        }\r\n\r\n        this.activeStacks[stackName].cards.push(cardObj);\r\n\r\n        this.gameUI.activeStacks[stackName].append(cardElement);\r\n\r\n        this.gameUI.activeStacks[stackName].scrollIntoView()\r\n      }\r\n    });\r\n    this.calculateResources();\r\n    header.changePlayerStats(this);\r\n    this.game.actionDone();\r\n  }\r\n}\r\n","import initHotSeatGame from '../utility/initHotSeatGame';\r\n\r\nconst usersInfo = {};\r\n\r\nfunction validation(userObj) {\r\n  return userObj.names.every((name) => name.length > 2 && name.length < 11);\r\n}\r\n// TODO need some refactor later, move to display folder, use function?\r\nclass Menu {\r\n  constructor(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  createMenuItem(text, ...dopParam) {\r\n    return /* html */ `<a href=\"#\" class=\"menu__link ${dopParam[0] || ''}\" ${dopParam[1] || ''}>\r\n      ${text}\r\n      <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n        <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n      </svg>\r\n    </a><br>`;\r\n  }\r\n\r\n  render() {\r\n    this.menu = document.createElement('div');\r\n    this.menu.classList.add('menu');\r\n    this.menu.innerHTML = `\r\n    ${this.createMenuItem('Новая игра', 'start')}\r\n    ${this.createMenuItem('Продолжить')}\r\n    ${this.createMenuItem('Сохранить игру')}\r\n    ${this.createMenuItem('Правила игры', 'rules')}\r\n    ${this.createMenuItem('Обзор игры')}\r\n    `;\r\n\r\n    this.parent.append(this.menu);\r\n    this.renderPdfRules();\r\n\r\n    this.menu.addEventListener('click', (e) => {\r\n      if (e.target.tagName !== 'A' && e.target.tagName !== 'SPAN' && e.target !== this.menu.querySelector('button')) {\r\n        return;\r\n      }\r\n\r\n      if (e.target.className.includes('start')) {\r\n        this.createChoosePlayersItems();\r\n      } else if (e.target.className.includes('rules')) {\r\n        this.rulesWrraper.hidden = false;\r\n      } else if (e.target.className.includes('close')) {\r\n        this.rulesWrraper.hidden = true;\r\n      } else if (e.target.dataset.players) {\r\n        this.createNameInputField(e.target.dataset.players);\r\n      } else if (e.target.className.includes('get-names')) {\r\n        e.preventDefault();\r\n        this.writeNamesToObject();\r\n        if (validation(usersInfo) && usersInfo.names.length) {\r\n          const intro = this.menu.parentElement.parentElement.parentElement;\r\n          intro.classList.toggle('intro--hide');\r\n          initHotSeatGame('Player1', 'Player2'); //! Hardcoded for 2 players. Should take player names as arguments\r\n        }\r\n      } else if (e.target.className.includes('back')) {\r\n        this.menu.remove();\r\n        this.render();\r\n        this.menu.classList.add('menu__used');\r\n      }\r\n    });\r\n  }\r\n\r\n  renderPdfRules() {\r\n    this.rulesWrraper = document.createElement('div');\r\n    this.rulesWrraper.classList.add('iframe__wrraper');\r\n    this.rulesWrraper.hidden = true;\r\n    this.rulesWrraper.innerHTML = /* html */ `\r\n        <span class=\"close\">&#10006</span>\r\n        <iframe class=\"iframe\" src=\"./assets/innovation_rules_rus_final.pdf\" width=\"70%\" height=\"70%\"></iframe>\r\n    `;\r\n\r\n    this.menu.append(this.rulesWrraper);\r\n  }\r\n\r\n  createChoosePlayersItems() {\r\n    for (let i = 0; i < this.menu.children.length; i += 1) {\r\n      this.menu.children[i].hidden = true;\r\n    }\r\n    this.menu.innerHTML = /* html */ `\r\n    ${this.createMenuItem('2 игрока', '', 'data-players=2')}\r\n    ${this.createMenuItem('3 игрока', '', 'data-players=3')}\r\n    ${this.createMenuItem('4 игрока', '', 'data-players=4')}\r\n    ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createNameInputField(numberOfFields) {\r\n    usersInfo.players = numberOfFields;\r\n    this.menu.innerHTML = /* html */ `\r\n      <form>\r\n        ${this.createInputs(numberOfFields)}\r\n        <button class=\"menu__link get-names\" type=\"submit\">Принять</button>\r\n      </form>\r\n      ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createInputs(num) {\r\n    const inputHTML = [];\r\n\r\n    for (let i = 1; i <= num; i += 1) {\r\n      inputHTML.push(\r\n        /* html */ `\r\n        <label for=\"plaeyr${i}\">Введити имя игрока № ${i}</label>\r\n        <input type=\"text\" id=\"player${i}\" name=\"name\" data-name=\"\" pattern=\"[a-zA-Zа-яА-Я0-9_]{3,10}\" title=\"Введите от 3 до 10 символов\" required>\r\n      `,\r\n      );\r\n    }\r\n\r\n    return inputHTML;\r\n  }\r\n\r\n  writeNamesToObject() {\r\n    const inputs = this.menu.querySelectorAll('[data-name]');\r\n    const playerNames = [];\r\n    for (let i = 0; i < inputs.length; i += 1) {\r\n      if (inputs[i].value) {\r\n        playerNames.push(inputs[i].value);\r\n      }\r\n    }\r\n    usersInfo.names = playerNames;\r\n\r\n    return playerNames;\r\n  }\r\n}\r\nexport default Menu;\r\nexport { usersInfo };\r\n","export default function displayModal(playerName) {\r\n  const modalBg = document.createElement('div');\r\n  modalBg.classList.add('modal');\r\n  modalBg.classList.add('modal--hidden');\r\n\r\n  const modalBlock = document.createElement('div');\r\n  modalBlock.classList.add('modal__block');\r\n\r\n  const modalText = document.createElement('div');\r\n  modalText.classList.add('modal__text');\r\n  modalText.innerText = `Сейчас ход игрока ${playerName}`;\r\n\r\n  const modalBtn = document.createElement('button');\r\n  modalBtn.classList.add('modal__btn');\r\n  modalBtn.innerText = 'Начать ход!';\r\n  modalBtn.addEventListener('click', () => {\r\n    modalBg.style = '';\r\n    modalBg.classList.toggle('modal--hidden');\r\n    setTimeout(() => {\r\n      modalBg.remove();\r\n    }, 500);\r\n  });\r\n\r\n  modalBlock.append(modalText, modalBtn);\r\n  modalBg.append(modalBlock);\r\n\r\n  document.body.prepend(modalBg);\r\n  setTimeout(() => {\r\n    modalBg.classList.toggle('modal--hidden');\r\n  }, 0);\r\n}\r\n","export default function displayNextTurnBtn(newTurnFunction) {\r\n  const nextTurnBtn = document.createElement('div');\r\n  nextTurnBtn.classList.add('info-table__next-turn-btn');\r\n  nextTurnBtn.innerText = 'Закончить ход';\r\n  nextTurnBtn.addEventListener('click', () => {\r\n    newTurnFunction();\r\n    setTimeout(() => {\r\n      const excistedNextTurnBtn = document.querySelector('.info-table__next-turn-btn');\r\n      excistedNextTurnBtn.remove();\r\n    }, 500);\r\n  });\r\n  const infoTable = document.querySelector('.info-table');\r\n  infoTable.append(nextTurnBtn);\r\n}\r\n","const displayActiveZone = {\r\n  wrapper: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('active-zone');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('active-zone__cards-block');\r\n\r\n    this.cardsBlockWrapper = document.createElement('div');\r\n    this.cardsBlockWrapper.classList.add('active-zone__cards-wrapper');\r\n\r\n    this.cardsBlock.append(this.cardsBlockWrapper);\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('active-zone__overlay');\r\n\r\n    // create players active stacks\r\n    // !Stack names are the color fields of cards object\r\n    const stacksNames = ['blue', 'red', 'green', 'purple', 'yellow'];\r\n    for (let i = 0; i < stacksNames.length; i += 1) {\r\n      const stack = document.createElement('div');\r\n      stack.classList.add('active-zone__stack');\r\n      stack.classList.add('active-zone__stack--empty');\r\n      stack.id = stacksNames[i]; // id stackName for each stack\r\n      this.cardsBlockWrapper.append(stack);\r\n    }\r\n\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('active-zone__controls');\r\n\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayActiveZone;\r\n","const displayAside = {\r\n  wrapper: null,\r\n  init() {\r\n    // create aside wrapper\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('aside');\r\n\r\n    // append createand blocks to aside wrapper\r\n    this.wrapper.append(this.getInfoBlock());\r\n    this.wrapper.append(this.getCurrentDeckBlock());\r\n    this.wrapper.append(this.getExtraCardsBlock());\r\n    this.wrapper.append(this.getLogBlock());\r\n\r\n    // create hidden modals blocks\r\n    this.ageDecksBlock = this.getAgeDecksBlock();\r\n    this.leadershipCardsBlock = this.getLeadershipCardsBlock();\r\n    this.specialCardsBlock = this.getSpecialCardsBlock();\r\n\r\n    // append hidden modal blocks to body\r\n    document.body.append(this.ageDecksBlock);\r\n    document.body.append(this.leadershipCardsBlock);\r\n    document.body.append(this.specialCardsBlock);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n  getInfoBlock() {\r\n    // create info block\r\n    const infoBlock = document.createElement('div');\r\n    infoBlock.classList.add('info-table');\r\n\r\n    // create current player block\r\n    const currentPlayerBlock = document.createElement('div');\r\n    currentPlayerBlock.classList.add('info-table__player-block');\r\n\r\n    const currentPlayerText = document.createElement('div');\r\n    currentPlayerText.innerText = 'Ход игрока: ';\r\n\r\n    const currentPlayerName = document.createElement('div');\r\n    currentPlayerName.classList.add('info-table__player-name');\r\n\r\n    currentPlayerBlock.append(currentPlayerText);\r\n    currentPlayerBlock.append(currentPlayerName);\r\n\r\n    // create action points block\r\n    const actionPointsBlock = document.createElement('div');\r\n    actionPointsBlock.classList.add('info-table__action-points-block');\r\n\r\n    const actionPointsText = document.createElement('div');\r\n    actionPointsText.innerText = 'Осталось ОД: ';\r\n\r\n    const actionPointsValue = document.createElement('div');\r\n    actionPointsValue.classList.add('info-table__action-points');\r\n\r\n    actionPointsBlock.append(actionPointsText);\r\n    actionPointsBlock.append(actionPointsValue);\r\n\r\n    // append created blocks to info block\r\n    infoBlock.append(currentPlayerBlock);\r\n    infoBlock.append(actionPointsBlock);\r\n\r\n    return infoBlock;\r\n  },\r\n\r\n  getCurrentDeckBlock() {\r\n    // create current deck block\r\n    const currentDeck = document.createElement('div');\r\n    currentDeck.classList.add('current-deck');\r\n\r\n    const currentDeckTitle = document.createElement('div');\r\n    currentDeckTitle.classList.add('current-deck__title');\r\n    currentDeckTitle.innerText = 'Взять карту';\r\n\r\n    const currentDeckCards = document.createElement('div');\r\n    currentDeckCards.classList.add('current-deck__cards');\r\n\r\n    // create hover button element\r\n    const hoverBtn = document.createElement('button');\r\n    hoverBtn.classList.add('hover-btn');\r\n    hoverBtn.innerText = 'Показать все';\r\n    hoverBtn.addEventListener('click', () => {\r\n      this.ageDecksBlock.classList.toggle('age-decks--hidden');\r\n    });\r\n\r\n    // append button to deck block\r\n    currentDeckCards.append(hoverBtn);\r\n\r\n    // append title and cards blocks to current deck block\r\n    currentDeck.append(currentDeckTitle);\r\n    currentDeck.append(currentDeckCards);\r\n\r\n    return currentDeck;\r\n  },\r\n\r\n  getExtraCardsBlock() {\r\n    // create extra cards block\r\n    const extraCards = document.createElement('div');\r\n    extraCards.classList.add('extra-cards');\r\n\r\n    // create special cards block\r\n    const specialCards = document.createElement('div');\r\n    specialCards.classList.add('extra-cards__special-block');\r\n\r\n    const specialCardsTitle = document.createElement('div');\r\n    specialCardsTitle.classList.add('extra-cards__special-title');\r\n    specialCardsTitle.innerText = 'Специальные';\r\n\r\n    const specialCardsCards = document.createElement('div');\r\n    specialCardsCards.classList.add('extra-cards__special-cards');\r\n\r\n    // create hover button for special cards block\r\n    const hoverBtnSpecial = document.createElement('button');\r\n    hoverBtnSpecial.classList.add('hover-btn');\r\n    hoverBtnSpecial.innerText = 'Показать все';\r\n    hoverBtnSpecial.addEventListener('click', () => {\r\n      this.specialCardsBlock.classList.toggle('special-cards--hidden');\r\n    });\r\n    specialCardsCards.append(hoverBtnSpecial);\r\n\r\n    // append title and cards to special cards block\r\n    specialCards.append(specialCardsTitle);\r\n    specialCards.append(specialCardsCards);\r\n\r\n    // create leadership cards block\r\n    const leadershipCards = document.createElement('div');\r\n    leadershipCards.classList.add('extra-cards__leadership-block');\r\n\r\n    const leadershipCardsTitle = document.createElement('div');\r\n    leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n    leadershipCardsTitle.innerText = 'Лидерство';\r\n\r\n    const leadershipCardsCards = document.createElement('div');\r\n    leadershipCardsCards.classList.add('extra-cards__leadership-cards');\r\n\r\n    // create hover button for leadership cards block\r\n    const hoverBtnLeadership = document.createElement('button');\r\n    hoverBtnLeadership.classList.add('hover-btn');\r\n    hoverBtnLeadership.innerText = 'Показать все';\r\n    hoverBtnLeadership.addEventListener('click', () => {\r\n      this.leadershipCardsBlock.classList.toggle('leadership-cards--hidden');\r\n    });\r\n    leadershipCardsCards.append(hoverBtnLeadership);\r\n\r\n    // append title and cards to leadership cards block\r\n    leadershipCards.append(leadershipCardsTitle);\r\n    leadershipCards.append(leadershipCardsCards);\r\n\r\n    // apend special cards and leadership blocks to extra cards block\r\n    extraCards.append(specialCards);\r\n    extraCards.append(leadershipCards);\r\n\r\n    return extraCards;\r\n  },\r\n\r\n  getLogBlock() {\r\n    // create log block\r\n    const logBlock = document.createElement('div');\r\n    logBlock.classList.add('chat-log');\r\n\r\n    // chat tab\r\n    logBlock.innerHTML = `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"chat-block\" name=\"tab-group\" checked>\r\n      <label for=\"chat-block\" class=\"chat-log__tab-title\">Чат</label> \r\n      <section class=\"chat-log__tab-content chat-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // log tab\r\n    logBlock.innerHTML += `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"log-block\" name=\"tab-group\">\r\n      <label for=\"log-block\" class=\"chat-log__tab-title\">Лог</label> \r\n      <section class=\"chat-log__tab-content log-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // input\r\n    logBlock.innerHTML += `<form class=\"chat-log__form\" id=\"input-form\">\r\n      <input class=\"chat-log__input\">\r\n      <button class=\"chat-log__btn\" type=\"submit\" form=\"input-form\">Отправить</button>\r\n    </form>`;\r\n\r\n    // spread button\r\n    const spreadBtn = document.createElement('div');\r\n    spreadBtn.classList.add('chat-log__spread');\r\n    logBlock.append(spreadBtn);\r\n\r\n    spreadBtn.addEventListener('click', () => {\r\n      logBlock.classList.toggle('chat-log--full-screen');\r\n      spreadBtn.classList.toggle('chat-log__spread--open');\r\n    });\r\n\r\n    return logBlock;\r\n  },\r\n\r\n  getAgeDecksBlock() {\r\n    // create age decks modal block\r\n    const agesNumber = 10;\r\n    const ageDecksBlock = document.createElement('div');\r\n    ageDecksBlock.classList.add('age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    ageDecksBlock.classList.add('xyz-in');\r\n    ageDecksBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('age-decks__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('age-decks__second-line');\r\n\r\n    const thirdLine = document.createElement('div');\r\n    thirdLine.classList.add('age-decks__third-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('age-decks__btn-line');\r\n\r\n    // create age decks\r\n    for (let i = 0; i < agesNumber; i += 1) {\r\n      const deck = document.createElement('div');\r\n      deck.classList.add('age-deck');\r\n      deck.id = `age${i + 1}`; // id age1-10 for each deck\r\n      deck.innerText = `${i + 1} Age`; // TODO remove later\r\n      deck.style.backgroundImage = 'url(./assets/img/cards-bg/age-01.jpg)'; //! use `` age-0${i+1} later\r\n\r\n      deck.addEventListener('click', () => this.ageDecksBlock.classList.toggle('age-decks--hidden'));\r\n\r\n      // Animation classes and attributes for cards here\r\n      deck.classList.add('xyz-in');\r\n      deck.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 4) {\r\n        firstLine.append(deck);\r\n      } else if (i < 7) {\r\n        secondLine.append(deck);\r\n      } else if (i < 10) {\r\n        thirdLine.append(deck);\r\n      }\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    ageDecksBlock.append(firstLine);\r\n    ageDecksBlock.append(secondLine);\r\n    ageDecksBlock.append(thirdLine);\r\n    ageDecksBlock.append(btnLine);\r\n\r\n    return ageDecksBlock;\r\n  },\r\n\r\n  getLeadershipCardsBlock() {\r\n    // create leadership decks modal block\r\n    const leadershipCardsBlock = document.createElement('div');\r\n    leadershipCardsBlock.classList.add('leadership-cards');\r\n    leadershipCardsBlock.classList.add('leadership-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    leadershipCardsBlock.classList.add('xyz-in');\r\n    leadershipCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('leadership-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('leadership-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('leadership-cards__btn-line');\r\n\r\n    // create leadership cards\r\n    const numOfLeadershipCards = 10;\r\n    for (let i = 0; i < numOfLeadershipCards; i += 1) {\r\n      const leadershipCard = document.createElement('div');\r\n      leadershipCard.classList.add('leadership-cards__card');\r\n      leadershipCard.innerText = `${i + 1}`;\r\n\r\n      // Animation classes and attributes for cards here\r\n      leadershipCard.classList.add('xyz-in');\r\n      leadershipCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 5) firstLine.append(leadershipCard);\r\n      else if (i < 10) secondLine.append(leadershipCard);\r\n\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    leadershipCardsBlock.append(firstLine);\r\n    leadershipCardsBlock.append(secondLine);\r\n    leadershipCardsBlock.append(btnLine);\r\n\r\n    return leadershipCardsBlock;\r\n  },\r\n\r\n  getSpecialCardsBlock() {\r\n    // create special cards modal block\r\n    const specialCardsBlock = document.createElement('div');\r\n    specialCardsBlock.classList.add('special-cards');\r\n    specialCardsBlock.classList.add('special-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    specialCardsBlock.classList.add('xyz-in');\r\n    specialCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('special-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('special-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('special-cards__btn-line');\r\n\r\n    // create special cards\r\n    const numOfSpecialCards = 5;\r\n    for (let i = 0; i < numOfSpecialCards; i += 1) {\r\n      const specialCard = document.createElement('div');\r\n      specialCard.classList.add('special-cards__card');\r\n\r\n      // Animation classes and attributes for cards here\r\n      specialCard.classList.add('xyz-in');\r\n      specialCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 3) firstLine.append(specialCard);\r\n      else if (i < 5) secondLine.append(specialCard);\r\n\r\n      // create close button\r\n      if (i === 4) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    specialCardsBlock.append(firstLine);\r\n    specialCardsBlock.append(secondLine);\r\n    specialCardsBlock.append(btnLine);\r\n\r\n    return specialCardsBlock;\r\n  },\r\n};\r\n\r\nexport default displayAside;\r\n","const displayHand = {\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('hand');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('hand__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('hand__overlay');\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('hand__controls');\r\n\r\n    // disabled by default\r\n    this.arrowTop = document.createElement('button');\r\n    this.arrowTop.classList.add('hand__btn--top', 'hand__btn');\r\n    this.arrowTop.classList.add('hand__btn--disabled');\r\n    this.arrowTop.disabled = true;\r\n    this.arrowTop.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    // disabled by default\r\n    this.arrowBottom = document.createElement('button');\r\n    this.arrowBottom.classList.add('hand__btn--bottom', 'hand__btn');\r\n    this.arrowBottom.classList.add('hand__btn--disabled');\r\n    this.arrowBottom.disabled = true;\r\n    this.arrowBottom.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    this.controlsBlock.append(this.arrowTop);\r\n    this.controlsBlock.append(this.arrowBottom);\r\n\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHand;\r\n","const displayHeader = {\r\n  wrapper: null,\r\n  headRowNames: [{ hand: ['fas', 'fa-hand-paper', 'yellow'] }, { influence: ['fas', 'fa-shield-alt', 'red'] }, { leadership: ['fas', 'fa-trophy', 'yellow'] }],\r\n  resourcesNames: [{ tree: ['fab', 'fa-pagelines', 'green'] }, { tower: ['fab', 'fa-fort-awesome', 'grey'] }, { crown: ['fas', 'fa-crown', 'yellow'] }, { bulb: ['fas', 'fa-lightbulb', 'purple'] }, { factory: ['fas', 'fa-industry', 'red'] }, { clock: ['far', 'fa-clock', 'blue'] }],\r\n  player1: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player2: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player3: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player4: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n\r\n  initPlayerStats(id) {\r\n    const player = `player${id}`;\r\n\r\n    this[player].container = document.createElement('div');\r\n    this[player].container.classList.add('player-container');\r\n\r\n    const headRow = document.createElement('div');\r\n    headRow.classList.add('head-row');\r\n    this[player].name = document.createElement('div');\r\n    this[player].name.classList.add('head-row__name');\r\n    this[player].name.textContent = `Player${id}`;\r\n    headRow.appendChild(this[player].name);\r\n\r\n    this.headRowNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      const container = document.createElement('div');\r\n      container.classList.add('cards-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'cards-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('cards-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      headRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(headRow);\r\n\r\n    const activeZoneRow = document.createElement('div');\r\n    activeZoneRow.classList.add('active-zone-row');\r\n\r\n    this[player].red = document.createElement('div');\r\n    this[player].red.classList.add('active-zone-row__red');\r\n    this[player].red.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].red);\r\n\r\n    this[player].green = document.createElement('div');\r\n    this[player].green.classList.add('active-zone-row__green');\r\n    this[player].green.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].green);\r\n\r\n    this[player].blue = document.createElement('div');\r\n    this[player].blue.classList.add('active-zone-row__blue');\r\n    this[player].blue.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].blue);\r\n\r\n    this[player].purple = document.createElement('div');\r\n    this[player].purple.classList.add('active-zone-row__purple');\r\n    this[player].purple.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].purple);\r\n\r\n    this[player].yellow = document.createElement('div');\r\n    this[player].yellow.classList.add('active-zone-row__yellow');\r\n    this[player].yellow.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].yellow);\r\n\r\n    this[player].container.appendChild(activeZoneRow);\r\n\r\n    const recourcesRow = document.createElement('div');\r\n    recourcesRow.classList.add('recources-row');\r\n    this.resourcesNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      // console.log(e[i][0]);\r\n      const container = document.createElement('div');\r\n      container.classList.add('recource-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'recource-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('recource-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      recourcesRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(recourcesRow);\r\n    this.wrapper.appendChild(this[player].container);\r\n  },\r\n\r\n  changePlayerStats(player) {\r\n    const playerId = `player${player.id}`;\r\n\r\n    this[playerId].hand.textContent = player.hand.length;\r\n    this[playerId].red.textContent = player.activeStacks.red.cards.length;\r\n    this[playerId].green.textContent = player.activeStacks.green.cards.length;\r\n    this[playerId].blue.textContent = player.activeStacks.blue.cards.length;\r\n    this[playerId].purple.textContent = player.activeStacks.purple.cards.length;\r\n    this[playerId].yellow.textContent = player.activeStacks.yellow.cards.length;\r\n    this[playerId].tree.textContent = player.tree;\r\n    this[playerId].tower.textContent = player.tower;\r\n    this[playerId].crown.textContent = player.crown;\r\n    this[playerId].bulb.textContent = player.bulb;\r\n    this[playerId].factory.textContent = player.factory;\r\n    this[playerId].clock.textContent = player.clock;\r\n  },\r\n\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('header');\r\n    this.initPlayerStats(1);\r\n    this.initPlayerStats(2);\r\n    /* this.initPlayerStats(this.testPlayer3);\r\n    this.initPlayerStats(this.testPlayer4); */\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHeader;\r\n\r\n/* 'tower', 'crown', 'bulb', 'factory', 'clock' */\r\n","import displayHeader from './displayHeader';\r\nimport displayAside from './displayAside';\r\nimport displayActiveZone from './displayActiveZone';\r\nimport displayHand from './displayHand';\r\n\r\nconst displayPlayerTable = {\r\n  wrapper: null,\r\n  header: null,\r\n  aside: null,\r\n  activeZone: null,\r\n  hand: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('wrapper');\r\n\r\n    this.wrapperMain = document.createElement('div');\r\n    this.wrapperMain.classList.add('wrapper__main');\r\n\r\n    this.header = displayHeader.init();\r\n    this.wrapperMain.appendChild(this.header);\r\n\r\n    this.activeZone = displayActiveZone.init();\r\n    this.wrapperMain.appendChild(this.activeZone);\r\n\r\n    this.hand = displayHand.init();\r\n    this.wrapperMain.appendChild(this.hand);\r\n\r\n    this.aside = displayAside.init();\r\n\r\n    this.wrapper.appendChild(this.wrapperMain);\r\n    this.wrapper.appendChild(this.aside);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n};\r\n\r\nexport default displayPlayerTable;\r\n","import GameField from '../components/GameField';\r\nimport Player from '../components/Player';\r\nimport Game from '../components/Game';\r\nimport cardsJSON from '../cards/cards.json';\r\nimport parseCards from '../cards/parseCards';\r\nimport GameUI from '../components/GameUI';\r\n// import setChat from './setChat';\r\nimport shuffle from './shuffle';\r\n\r\nexport default function initHotSeatGame() {\r\n  // contains dom elements\r\n  const gameUI = new GameUI();\r\n\r\n  // contains sorted card objects\r\n  const arrOfCards = parseCards(cardsJSON);\r\n\r\n  // shuffle arr of cards objects\r\n  shuffle(arrOfCards);\r\n\r\n  // create gameField which contains all cards avaiable for players\r\n  const gameField = new GameField(arrOfCards);\r\n\r\n  // contains players properties and cards\r\n  const players = [];\r\n  for (let i = 0; i < arguments.length; i += 1) {\r\n    const player = new Player(gameUI, arguments[i], i + 1);\r\n    players.push(player);\r\n  }\r\n\r\n  // work with all main objects\r\n  const game = new Game(gameUI, gameField, players);\r\n  game.newTurn();\r\n  // display first modal without animation\r\n  document.querySelector('.modal').style.opacity = '1';\r\n\r\n  // init chat\r\n  // setChat();\r\n}\r\n","export default function setAsideControls() {\r\n  const buttons = Array.from(document.querySelectorAll('.close-modal-btn'));\r\n\r\n  function animation(e) {\r\n    const button = e.target;\r\n    const parentBlock = e.target.parentElement.parentElement;\r\n    const childLines = Array.from(parentBlock.children);\r\n    const childBlocks = childLines.map((line) => Array.from(line.children)).flat();\r\n\r\n    button.removeEventListener('click', animation);\r\n    parentBlock.classList.remove('xyz-in');\r\n    parentBlock.classList.add('xyz-out');\r\n\r\n    childBlocks.forEach((child) => {\r\n      child.classList.remove('xyz-in');\r\n      child.classList.add('xyz-out');\r\n    });\r\n\r\n    setTimeout(() => {\r\n      parentBlock.classList.toggle(`${parentBlock.className.split(' ')[0]}--hidden`);\r\n      childBlocks.forEach((child) => {\r\n        child.classList.remove('xyz-out');\r\n        child.classList.add('xyz-in');\r\n        parentBlock.classList.remove('xyz-out');\r\n        parentBlock.classList.add('xyz-in');\r\n      });\r\n      button.addEventListener('click', animation);\r\n    }, 600);\r\n  }\r\n\r\n  buttons.forEach((button) => {\r\n    button.addEventListener('click', animation);\r\n  });\r\n}\r\n","// function which disable passed dom element button\r\nfunction disableBtn(btnElement) {\r\n  btnElement.disabled = true;\r\n  btnElement.classList.add('hand__btn--disabled');\r\n}\r\n\r\n// function which enable passed dom element button\r\nfunction enableBtn(btnElement) {\r\n  btnElement.disabled = false;\r\n  btnElement.classList.remove('hand__btn--disabled');\r\n}\r\n\r\nexport default function setGameControls() {\r\n  // get needed dom elements\r\n  const btnTop = document.querySelector('.hand__btn--top');\r\n  const btnBottom = document.querySelector('.hand__btn--bottom');\r\n  const hand = document.querySelector('.hand__cards');\r\n\r\n  // const height of one line of cards (current = 200px card + 70px margins/decoration)\r\n  // dinamically calculated depends on html font-size property\r\n  const html = document.documentElement;\r\n  const style = window.getComputedStyle(html, null).getPropertyValue('font-size');\r\n  const fontSize = parseFloat(style);\r\n\r\n  const cardsLineHeight = fontSize * 27;\r\n  // const timeout used because time needed for scroll animation before values updated\r\n  const timeoutTime = 350;\r\n\r\n  // disable scrolling in hand block\r\n  hand.onwheel = function disableScroll() { return false; };\r\n\r\n  // event activated on each inserted card\r\n  hand.addEventListener('DOMNodeInserted', () => {\r\n    // scroll to inserted card (or do nothing)\r\n    hand.scrollTop = hand.scrollHeight - cardsLineHeight;\r\n    disableBtn(btnBottom);\r\n    // if scrolled to second+ line of cards\r\n    if (hand.scrollHeight > cardsLineHeight) {\r\n      enableBtn(btnTop);\r\n    }\r\n  });\r\n\r\n  // event activated on each removed card\r\n  hand.addEventListener('DOMNodeRemoved', () => {\r\n    setTimeout(() => {\r\n      // only one line of card left - disable both buttons\r\n      if (hand.scrollHeight === cardsLineHeight) {\r\n        disableBtn(btnBottom);\r\n        disableBtn(btnTop);\r\n      // if point of view is on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      } else if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at top button\r\n  btnTop.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnTop.disabled = true;\r\n\r\n    // scroll up one line\r\n    hand.scrollTop -= cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    // !important: dont use else here, need 2 separate if blocks\r\n    setTimeout(() => {\r\n      // if point of view at first line\r\n      if (hand.scrollTop === 0) {\r\n        disableBtn(btnTop);\r\n        enableBtn(btnBottom);\r\n      }\r\n      // if point of view not at first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnBottom);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnTop.disabled = false;\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at botom button\r\n  btnBottom.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnBottom.disabled = true;\r\n\r\n    // scroll down on one line\r\n    hand.scrollTop += cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    setTimeout(() => {\r\n      // if point of view isnt on first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnTop);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnBottom.disabled = false;\r\n      }\r\n      // if point of view on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2 && hand.scrollTop !== 0) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n}\r\n","export default function shuffle(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/js/app.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack://innovation/./src/js/app.js","webpack://innovation/./src/js/cards/getCard.js","webpack://innovation/./src/js/cards/parseCards.js","webpack://innovation/./src/js/components/Game.js","webpack://innovation/./src/js/components/GameField.js","webpack://innovation/./src/js/components/GameUI.js","webpack://innovation/./src/js/components/Intro.js","webpack://innovation/./src/js/components/Player.js","webpack://innovation/./src/js/components/gameState.js","webpack://innovation/./src/js/components/mainMenu.js","webpack://innovation/./src/js/display/displayNewTurnModal.js","webpack://innovation/./src/js/display/displayNextTurnBtn.js","webpack://innovation/./src/js/display/playerTable/displayActiveZone.js","webpack://innovation/./src/js/display/playerTable/displayAside.js","webpack://innovation/./src/js/display/playerTable/displayHand.js","webpack://innovation/./src/js/display/playerTable/displayHeader.js","webpack://innovation/./src/js/display/playerTable/displayPlayerTable.js","webpack://innovation/./src/js/utility/getCardObject.js","webpack://innovation/./src/js/utility/initHotSeatGame.js","webpack://innovation/./src/js/utility/setAsideControls.js","webpack://innovation/./src/js/utility/setHandControls.js","webpack://innovation/./src/js/utility/shuffle.js","webpack://innovation/./node_modules/@animxyz/core/dist/animxyz.css?92e6","webpack://innovation/./src/scss/style.scss?98af","webpack://innovation/webpack/bootstrap","webpack://innovation/webpack/runtime/define property getters","webpack://innovation/webpack/runtime/hasOwnProperty shorthand","webpack://innovation/webpack/runtime/make namespace object","webpack://innovation/webpack/startup"],"names":["Intro","document","body","prepend","displayPlayerTable","setHandControls","setAsideControls","getCard","frontSide","cardObj","divCard","createElement","classList","add","style","background","cardImg","appendChild","getCardHeader","getCardMain","getCardFooter","setObjByPosition","age","color","card","divHeader","posTopLeft","title","textContent","innovation","divMain","dogma","forEach","item","divDogma","setAttribute","dogmaType","icon","dogmaIcon","dogmaColor","innerHTML","dogmaEffect","divFooter","posBottomLeft","posBottomCenter","posBottomRight","agePos","querySelector","agePosition","resourses","res","pos","resoursePosition","resourseType","resourseColor","parseCards","cardsJSON","resultArr","setOfCards","cards","cardObject","Object","assign","push","Game","gameUI","gameField","players","arrOfCards","player","game","currentPlayer","currentDeck","domElement","ageDecks","age1","cardsArray","turnPoints","initGameState","header","e","gameState","Error","i","length","name","setCurrentPlayer","displayNewTurnModal","setTimeout","removeActiveDeck","setActiveDeck","renderHand","renderActiveZone","updateInfoTable","disableHandEvents","displayNextTurnBtn","newTurn","bind","keys","ageDeckKey","currentAge","onclick","takeCard","updateCurrentDeckBlock","cloneCurrentDeck","remove","Array","from","querySelectorAll","setCurrentAge","hand","pop","renderLastTakenCard","actionDone","infoTable","innerText","actionPoints","prevDeckClone","cloneNode","id","append","tree","tower","crown","bulb","factory","clock","activeDecks","stack","currentStack","highestCardInnovation","highestCard","getCardObject","resourceName","GameField","arrOfCardObjects","age2","age3","age4","age5","age6","age7","age8","age9","age10","leadershipDeck","specialDeck","setDeckArrays","cardsObj","GameUI","getAgeDecks","activeStacks","getActiveStacks","getInfoTable","ageDecksElements","getElementsByClassName","ageDeck","activeStacksElements","activeStack","currentPlayerNameBlock","currentPlayerActionPoints","divIntro","introContainer","introTop","introCenter","introCenterTitle","introBottom","introBottomLamps","introBottomLamp","introGear","introGear1","introGear2","img","Image","src","addEventListener","menu","Menu","render","Player","playerName","blue","shift","red","green","purple","yellow","ownedLeadership","influence","lastTakenCard","cardElement","playCard","removeAttribute","stackName","splice","calculateResources","activePlayer","player0","player1","player2","player3","usersInfo","validation","userObj","names","every","parent","text","createMenuItem","renderPdfRules","target","tagName","className","includes","createChoosePlayersItems","rulesWrraper","hidden","dataset","createNameInputField","preventDefault","writeNamesToObject","intro","parentElement","toggle","console","log","initHotSeatGame","children","numberOfFields","createInputs","num","inputHTML","inputs","playerNames","value","displayModal","modalBg","modalBlock","modalText","modalBtn","newTurnFunction","nextTurnBtn","excistedNextTurnBtn","displayActiveZone","wrapper","init","cardsBlock","cardsBlockOverlay","stacksNames","controlsBlock","displayAside","getInfoBlock","getCurrentDeckBlock","getExtraCardsBlock","getLogBlock","ageDecksBlock","getAgeDecksBlock","leadershipCardsBlock","getLeadershipCardsBlock","specialCardsBlock","getSpecialCardsBlock","infoBlock","currentPlayerBlock","currentPlayerText","currentPlayerName","actionPointsBlock","actionPointsText","actionPointsValue","currentDeckTitle","currentDeckCards","hoverBtn","extraCards","specialCards","specialCardsTitle","specialCardsCards","hoverBtnSpecial","leadershipCards","leadershipCardsTitle","leadershipCardsCards","hoverBtnLeadership","logBlock","spreadBtn","agesNumber","firstLine","secondLine","thirdLine","btnLine","deck","backgroundImage","button","numOfLeadershipCards","leadershipCard","numOfSpecialCards","specialCard","displayHand","arrowTop","disabled","arrowBottom","displayHeader","headRowNames","leadership","resourcesNames","container","initPlayerStats","headRow","iconContainer","activeZoneRow","recourcesRow","changePlayerStats","playerId","initPlayerNames","aside","activeZone","wrapperMain","arr","result","shuffle","opacity","buttons","animation","parentBlock","childLines","childBlocks","map","line","flat","removeEventListener","child","split","disableBtn","btnElement","enableBtn","setGameControls","btnTop","btnBottom","html","documentElement","window","getComputedStyle","getPropertyValue","fontSize","parseFloat","cardsLineHeight","timeoutTime","onwheel","disableScroll","scrollTop","scrollHeight","array","j","Math","floor","random"],"mappings":"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","file":"bundle.js","sourcesContent":["// import styles\r\nimport '../scss/style.scss';\r\nimport '@animxyz/core';\r\n\r\n// import js modules\r\nimport displayPlayerTable from './display/playerTable/displayPlayerTable';\r\nimport setHandControls from './utility/setHandControls';\r\nimport setAsideControls from './utility/setAsideControls';\r\nimport Intro from './components/Intro';\r\n// import initHotSeatGame from './utility/initHotSeatGame';\r\n\r\n// display intro & menu\r\nIntro.init();\r\n\r\n// display game UI\r\ndocument.body.prepend(displayPlayerTable.init());\r\n\r\n// add event listeners to hand controls\r\nsetHandControls();\r\n\r\n// add event listeners and animations to aside buttons\r\nsetAsideControls();\r\n\r\n// initHotSeatGame('Player1', 'Player2');\r\n","// take card object and return builded card DOM element\r\nconst getCard = {\r\n  // get playing card\r\n  frontSide(cardObj) {\r\n    const divCard = document.createElement('div');\r\n    divCard.classList.add('card');\r\n    divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n\r\n    divCard.appendChild(this.getCardHeader(cardObj));\r\n    divCard.appendChild(this.getCardMain(cardObj));\r\n    divCard.appendChild(this.getCardFooter());\r\n    this.setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n    return divCard;\r\n  },\r\n\r\n  // get card header\r\n  getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  },\r\n\r\n  // get card body\r\n  getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-dogmatype', item.dogmaType);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.dogmaIcon[0], item.dogmaIcon[1], 'card__icon', `card__icon-color--${item.dogmaColor}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.dogmaEffect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divMain.appendChild(divDogma);\r\n    });\r\n\r\n    return divMain;\r\n  },\r\n\r\n  // get card footer\r\n  getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  },\r\n\r\n  // place age number and resourses by card position\r\n  setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.resoursePosition}`);\r\n      pos.classList.add(`${res.resourseType[0]}`, `${res.resourseType[1]}`,\r\n        `card__icon-color--${res.resourseColor}`, `card__icon-border--${card.color}`);\r\n    });\r\n  },\r\n};\r\n\r\nexport default getCard;\r\n","// get JSON and return array of card objects\r\nexport default function parseCards(cardsJSON) {\r\n  const resultArr = [];\r\n\r\n  cardsJSON.forEach((setOfCards) => {\r\n    setOfCards.cards.forEach((card) => {\r\n      const cardObject = {};\r\n      Object.assign(cardObject, setOfCards, card);\r\n      delete cardObject.cards; // remove duplicated field\r\n      resultArr.push(cardObject);\r\n    });\r\n  });\r\n\r\n  return resultArr;\r\n}\r\n","/*\r\n* all game action happens here\r\n* take gameUI obj which contains all dom elements\r\n* take gameField obj which contains all cards avaiable for all players (ages/leadership/special)\r\n* take players objects which contains all cards avaible for players (hand/table/lead/influence)\r\n* count avaible actions per turn, reduce on each action\r\n* when avaible ections ends - turn passed to next player\r\n*/\r\nimport header from '../display/playerTable/displayHeader';\r\nimport displayNewTurnModal from '../display/displayNewTurnModal';\r\nimport displayNextTurnBtn from '../display/displayNextTurnBtn';\r\nimport gameState from './gameState';\r\nimport getCardObject from '../utility/getCardObject';\r\n\r\nexport default class Game {\r\n  constructor(gameUI, gameField, players, arrOfCards) {\r\n    // store passed objects\r\n    this.players = players;\r\n    this.gameField = gameField;\r\n    this.gameUI = gameUI;\r\n\r\n    // initialize game field in players objects\r\n    this.players.forEach((player) => {\r\n      player.game = this;\r\n    });\r\n\r\n    // set default values\r\n    this.currentPlayer = null;\r\n    this.currentDeck = {\r\n      domElement: gameUI.ageDecks.age1,\r\n      cardsArray: gameField.ageDecks.age1,\r\n    };\r\n    this.turnPoints = 0;\r\n    this.initGameState(players, arrOfCards);\r\n    header.initPlayerNames(players);\r\n  }\r\n\r\n  initGameState(players, arrOfCards) {\r\n    arrOfCards.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          gameState.ageDecks.age1.push(e.innovation);\r\n          break;\r\n        case 2:\r\n          gameState.ageDecks.age2.push(e.innovation);\r\n          break;\r\n        case 3:\r\n          gameState.ageDecks.age3.push(e.innovation);\r\n          break;\r\n        case 4:\r\n          gameState.ageDecks.age4.push(e.innovation);\r\n          break;\r\n        case 5:\r\n          gameState.ageDecks.age5.push(e.innovation);\r\n          break;\r\n        case 6:\r\n          gameState.ageDecks.age6.push(e.innovation);\r\n          break;\r\n        case 7:\r\n          gameState.ageDecks.age7.push(e.innovation);\r\n          break;\r\n        case 8:\r\n          gameState.ageDecks.age8.push(e.innovation);\r\n          break;\r\n        case 9:\r\n          gameState.ageDecks.age9.push(e.innovation);\r\n          break;\r\n        case 10:\r\n          gameState.ageDecks.age10.push(e.innovation);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n    for (let i = 0; i < players.length; i += 1) {\r\n      const player = `player${i}`;\r\n      gameState[player].name = players[i].name;\r\n      gameState.players.push(gameState[player]);\r\n    }\r\n    gameState.currentPlayer = gameState.players[0];\r\n    gameState.currentPlayer.actionPoints = 2;\r\n    gameState.activePlayer = gameState.players[0];\r\n  }\r\n\r\n  newTurn() {\r\n    this.setCurrentPlayer();\r\n    displayNewTurnModal(this.currentPlayer.name);\r\n    this.turnPoints = 2;\r\n    // timeout to display modal\r\n    setTimeout(() => {\r\n      this.removeActiveDeck();\r\n      this.setActiveDeck(this.currentPlayer);\r\n      this.currentPlayer.renderHand();\r\n      this.currentPlayer.renderActiveZone();\r\n      this.updateInfoTable();\r\n    }, 450);\r\n  }\r\n\r\n  // use this after each action\r\n  actionDone() {\r\n    this.turnPoints -= 1;\r\n    this.updateInfoTable();\r\n    this.removeActiveDeck();\r\n    if (this.turnPoints > 0) {\r\n      this.setActiveDeck(this.currentPlayer);\r\n    } else {\r\n      this.disableHandEvents();\r\n      displayNextTurnBtn(this.newTurn.bind(this));\r\n    }\r\n  }\r\n\r\n  // set current players depends on previous player\r\n  setCurrentPlayer() {\r\n    if (this.currentPlayer === null) {\r\n      this.currentPlayer = this.players[0];\r\n    } else {\r\n      for (let i = 0; i < this.players.length; i += 1) {\r\n        if (this.currentPlayer === this.players[i]) {\r\n          i += 1;\r\n          if (i === this.players.length) i = 0;\r\n          this.currentPlayer = this.players[i];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // set active deck for current player\r\n  setActiveDeck(currentPlayer) {\r\n    Object.keys(this.gameField.ageDecks).forEach((ageDeckKey) => {\r\n      if (ageDeckKey === `age${currentPlayer.currentAge}`) {\r\n        // store active deck dom element\r\n        this.currentDeck.domElement = this.gameUI.ageDecks[`age${currentPlayer.currentAge}`];\r\n        // store active deck cards array\r\n        this.currentDeck.cardsArray = this.gameField.ageDecks[ageDeckKey];\r\n        //! Change current players currentAge if needed deck empty to go for the next deck\r\n        //! Need recalcualte current age after each action, done by players method setCurrentAge\r\n        if (this.currentDeck.cardsArray.length === 0) {\r\n          this.currentPlayer.currentAge += 1;\r\n        }\r\n      }\r\n    });\r\n    // set style and event listener of active deck when all calculations finished\r\n    this.currentDeck.domElement.classList.add('age-deck--active');\r\n    //! USED onclick because got bug with AddEvenListener - cant remove listener\r\n    this.currentDeck.domElement.onclick = this.takeCard.bind(this);\r\n\r\n    // update current active deck displayed in aside\r\n    this.updateCurrentDeckBlock();\r\n  }\r\n\r\n  // remove active deck class and eventlistener\r\n  //! should use before each setActiveDeck method\r\n  removeActiveDeck() {\r\n    const cloneCurrentDeck = document.querySelector('#cloneCurrentDeck');\r\n    if (cloneCurrentDeck !== null) cloneCurrentDeck.onclick = '';\r\n\r\n    this.currentDeck.domElement.classList.remove('age-deck--active');\r\n    this.currentDeck.domElement.onclick = '';\r\n  }\r\n\r\n  disableHandEvents() {\r\n    const cards = Array.from(document.querySelectorAll('.card'));\r\n    cards.forEach((card) => {\r\n      card.onclick = '';\r\n    });\r\n  }\r\n\r\n  // get card and render it in hand\r\n  takeCard() {\r\n    this.currentPlayer.setCurrentAge(); // recalculate current age of player\r\n    this.currentPlayer.hand.push(this.currentDeck.cardsArray.pop());\r\n    this.currentPlayer.renderLastTakenCard();\r\n    header.changePlayerStats(this.currentPlayer);\r\n    // starts next phase of turn\r\n    this.actionDone();\r\n  }\r\n\r\n  // update info table in aside, use after each action done in newTurn method\r\n  updateInfoTable() {\r\n    this.gameUI.infoTable.name.innerText = this.currentPlayer.name;\r\n    this.gameUI.infoTable.actionPoints.innerText = this.turnPoints;\r\n  }\r\n\r\n  // update current active deck displayed in aside, use after each time when setActiveDeck run\r\n  updateCurrentDeckBlock() {\r\n    // remove previous active deck if exists\r\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\r\n    if (prevDeckClone !== null) prevDeckClone.remove();\r\n\r\n    // clone current active deck\r\n    const cloneCurrentDeck = this.currentDeck.domElement.cloneNode();\r\n    cloneCurrentDeck.innerText = this.currentDeck.domElement.innerText;\r\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\r\n    cloneCurrentDeck.onclick = this.takeCard.bind(this);\r\n\r\n    // remove animation on each update of aside current deck\r\n    cloneCurrentDeck.classList.remove('xyz-in');\r\n\r\n    // display cloned deck in currentDeck block\r\n    this.gameUI.currentDeck.append(cloneCurrentDeck);\r\n  }\r\n\r\n  updateGameState() {\r\n    // update resources for each player\r\n    gameState.players.forEach((player) => {\r\n      player.tree = 0;\r\n      player.tower = 0;\r\n      player.crown = 0;\r\n      player.bulb = 0;\r\n      player.factory = 0;\r\n      player.clock = 0;\r\n      Object.keys(player.activeDecks).forEach((stack) => {\r\n        const currentStack = player.activeDecks[stack];\r\n        if (currentStack.cards.length > 0) {\r\n          const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n          const highestCard = getCardObject(highestCardInnovation);\r\n          highestCard.resourses.forEach((e) => {\r\n            player[e.resourceName] += 1;\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    // update currentAge for each player\r\n    gameState.players.forEach((player) => {\r\n      Object.keys(player.activeDecks).forEach((stack) => {\r\n        const currentStack = player.activeDecks[stack];\r\n        if (currentStack.cards.length > 0) {\r\n          const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n          const highestCard = getCardObject(highestCardInnovation);\r\n          if (highestCard.age > player.currentAge) { player.currentAge = highestCard.age; }\r\n        }\r\n      });\r\n    });\r\n  }\r\n}\r\n","/*\r\n* take cards objects and sort them to separate decks\r\n* store all cards avaible for all players (ages/leadership/special)\r\n* store cards as objects\r\n* this object passed as argument to Game constructor\r\n*/\r\nexport default class GameField {\r\n  constructor(arrOfCardObjects) {\r\n    // create empty decks for each age\r\n    this.ageDecks = {\r\n      age1: [],\r\n      age2: [],\r\n      age3: [],\r\n      age4: [],\r\n      age5: [],\r\n      age6: [],\r\n      age7: [],\r\n      age8: [],\r\n      age9: [],\r\n      age10: [],\r\n    };\r\n\r\n    // TODO leadership later\r\n    // create empty leadership deck\r\n    this.leadershipDeck = [];\r\n    // TODO special deck later\r\n    // create empty special deck\r\n    this.specialDeck = [];\r\n\r\n    // fill age decks with card objects\r\n    this.setDeckArrays(arrOfCardObjects);\r\n  }\r\n\r\n  // TODO add shuffle later\r\n  // fill deck arays depends on card age field\r\n  setDeckArrays(cardsObj) {\r\n    cardsObj.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          this.ageDecks.age1.push(e);\r\n          break;\r\n        case 2:\r\n          this.ageDecks.age2.push(e);\r\n          break;\r\n        case 3:\r\n          this.ageDecks.age3.push(e);\r\n          break;\r\n        case 4:\r\n          this.ageDecks.age4.push(e);\r\n          break;\r\n        case 5:\r\n          this.ageDecks.age5.push(e);\r\n          break;\r\n        case 6:\r\n          this.ageDecks.age6.push(e);\r\n          break;\r\n        case 7:\r\n          this.ageDecks.age7.push(e);\r\n          break;\r\n        case 8:\r\n          this.ageDecks.age8.push(e);\r\n          break;\r\n        case 9:\r\n          this.ageDecks.age9.push(e);\r\n          break;\r\n        case 10:\r\n          this.ageDecks.age10.push(e);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n  }\r\n}\r\n","/*\r\n* store all game UI dom elements\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class GameUI {\r\n  constructor() {\r\n    this.ageDecks = {};\r\n    this.getAgeDecks();\r\n\r\n    this.activeStacks = {};\r\n    this.getActiveStacks();\r\n\r\n    this.infoTable = {};\r\n    this.getInfoTable();\r\n\r\n    this.currentDeck = document.querySelector('.current-deck__cards');\r\n    this.hand = document.querySelector('.hand__cards');\r\n  }\r\n\r\n  getAgeDecks() {\r\n    const ageDecksElements = Array.from(document.getElementsByClassName('age-deck'));\r\n    ageDecksElements.forEach((ageDeck, i) => {\r\n      this.ageDecks[`age${i + 1}`] = ageDecksElements[i];\r\n    });\r\n  }\r\n\r\n  getActiveStacks() {\r\n    const activeStacksElements = Array.from(document.getElementsByClassName('active-zone__stack'));\r\n    activeStacksElements.forEach((activeStack) => {\r\n      this.activeStacks[activeStack.id] = activeStack;\r\n    });\r\n  }\r\n\r\n  getInfoTable() {\r\n    const currentPlayerNameBlock = document.querySelector('.info-table__player-name');\r\n    this.infoTable.name = currentPlayerNameBlock;\r\n    const currentPlayerActionPoints = document.querySelector('.info-table__action-points');\r\n    this.infoTable.actionPoints = currentPlayerActionPoints;\r\n  }\r\n}\r\n","import Menu from './mainMenu';\r\n\r\nexport default class Intro {\r\n  static init() {\r\n    const divIntro = document.createElement('div');\r\n    divIntro.classList.add('intro');\r\n\r\n    const introContainer = document.createElement('div');\r\n    introContainer.classList.add('intro__container');\r\n\r\n    const introTop = document.createElement('div');\r\n    introTop.classList.add('intro__top');\r\n\r\n    // svg title letters - I n n o v a t i o n\r\n    const introCenter = document.createElement('div');\r\n    introCenter.classList.add('intro__center');\r\n    introCenter.innerHTML = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\nwidth=\"500px\" height=\"120px\" viewBox=\"0 0 500 120\" enable-background=\"new 0 0 500 120\" xml:space=\"preserve\">\r\n<path class=\"letter-1\" d=\"M27.346,80.317c3.604,1.819,7.755,0.485,7.755,2.67c0,0.728-0.656,1.334-2.075,1.334c-0.983,0-6.117-0.606-15.292-0.606\r\nS3.536,84.321,2.553,84.321c-1.42,0-2.184-0.606-2.184-1.334c0-2.185,4.259-0.851,7.863-2.67c3.386-1.698,3.932-4.49,3.932-9.829\r\nv-54.61c0-5.218-0.546-8.01-3.604-9.587C5.721,4.835,0.369,5.685,0.369,3.985c0-0.728,1.857-1.213,3.167-1.213\r\nc1.202,0,5.898,0.485,14.199,0.485c8.628,0,13.544-0.485,14.417-0.485c1.201,0,2.949,0.364,2.949,1.092\r\nc0,1.457-3.604,0.971-7.208,2.063s-4.478,4.125-4.478,9.951v54.61C23.415,75.949,24.07,78.739,27.346,80.317z\"/>\r\n<path class=\"letter-2\" d=\"M49.627,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.242-0.354-5.242-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.075,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.375,0,16.165,5.674,16.165,15.724v27.546c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.419,0-5.133-0.709-11.031-0.709c-5.898,0-9.502,0.709-10.922,0.709\r\nc-1.092,0-1.748-0.473-1.748-1.3c0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994\r\nc0-8.394-3.386-12.532-10.267-12.532c-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.84,1.419,5.243,0.709,5.243,2.6c0,0.592-0.655,1.064-1.748,1.064c-1.42,0-5.024-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.092,0-1.638-0.473-1.638-1.3c0-1.655,2.512-1.064,5.242-2.364\r\nc2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-3\" d=\"M116.135,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.076-1.183-5.243-0.354-5.243-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.076,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.376,0,16.165,5.674,16.165,15.724v62.068c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.42,0-5.134-0.709-11.032-0.709s-9.501,0.709-10.921,0.709c-1.092,0-1.748-0.473-1.748-1.3\r\nc0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994c0-8.394-3.386-12.532-10.267-12.532\r\nc-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.11,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.655,1.064-1.748,1.064c-1.419,0-5.024-0.709-10.922-0.709s-9.611,0.709-11.032,0.709c-1.092,0-1.638-0.473-1.638-1.3\r\nc0-1.655,2.513-1.064,5.243-2.364c2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-4\" d=\"M189.871,31.561c6.881,0,12.779,2.72,17.584,7.803c5.025,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.073,0-26.322-11.467-26.322-27.545C163.22,43.383,175.016,31.561,189.871,31.561z\r\n  M188.996,84.171c10.267,0,15.728-8.631,15.728-25.417c0-16.197-6.007-24.946-15.728-24.946c-8.737,0-15.181,9.339-15.181,25.418\r\nC173.815,75.305,179.385,84.171,188.996,84.171z\"/>\r\n<path class=\"letter-5\" d=\"M254.752,48.939c0-5.218-6.116-3.761-6.116-5.825c0-0.85,0.437-1.092,1.638-1.092c1.53,0,3.715,0.486,6.443,0.486\r\nc2.841,0,4.807-0.364,6.008-0.364c1.311,0,1.967,0.364,1.967,1.092c0,1.214-1.748,0.971-3.277,2.427\r\nc-1.747,1.699-3.387,5.583-5.68,11.892l-12.125,26.524c-0.438,1.214-0.983,1.699-1.857,1.699c-1.748,0-1.857-1.821-3.167-5.34\r\nl-20.852-51.993c-1.201-3.034-2.402-4.976-3.386-5.461c-3.058-1.456-4.697-0.849-4.697-2.548c0-0.85,0.656-1.092,1.857-1.092\r\nc2.075,0,5.679,0.485,11.031,0.485c4.37,0,7.209-0.364,8.52-0.364c1.529,0,2.293,0.243,2.293,1.092c0,1.335-1.856,0.971-4.15,1.578\r\nc-1.529,0.364-2.403,1.457-2.403,3.156c0,1.456,6.434,15.95,8.291,20.683l10.267,26.333\r\nC252.346,52.285,254.752,52.217,254.752,48.939z\"/>\r\n<path class=\"letter-6\" d=\"M269.073,82.822c-6.989,0-11.14-4.368-11.14-11.043c0-10.316,9.938-15.655,30.146-23.786v-9.587\r\nc0-6.433-3.276-9.466-10.486-9.466c-5.461,0-8.956,2.184-9.393,5.825c-0.547,3.883-0.982,6.311-4.696,6.311\r\nc-2.293,0-3.823-1.82-3.823-4.49c0-5.34,6.553-10.073,18.896-10.073c12.779,0,18.786,4.369,18.786,13.956v30.825\r\nc0,4.246,1.311,6.553,3.605,6.553c2.074,0,3.385-2.307,4.477-2.307c0.654,0,0.983,0.364,0.983,1.093c0,2.063-3.933,6.31-8.847,6.31\r\nc-5.134,0-8.848-3.276-9.83-8.494C282.509,79.91,275.845,82.822,269.073,82.822z M268.091,69.23c0,5.581,2.839,8.979,7.318,8.979\r\nc5.68,0,12.67-5.097,12.67-10.557V50.663C274.534,56.488,268.091,61.706,268.091,69.23z\"/>\r\n<path class=\"letter-7\" d=\"M315.265,36.43c-1.421,0-2.076-0.349-2.076-1.047c0-1.163,3.277-2.327,7.319-6.981c4.478-5.12,5.132-8.726,6.333-8.726\r\nc0.765,0,0.983,0.465,0.983,1.629V32.94h10.049c2.185,0,3.167,0.116,3.167,1.746c0,1.28-0.982,1.744-3.275,1.744h-9.831v35.022\r\nc0,7.098,1.966,10.471,6.99,10.471c5.134,0,6.444-5.584,8.192-5.584c0.655,0,1.31,0.698,1.31,1.628\r\nc0,2.909-5.024,7.446-13.106,7.446c-9.829,0-12.67-4.537-12.67-14.543V36.43H315.265z\"/>\r\n<path class=\"letter-8\" d=\"M352.395,36.349c-2.402-0.931-5.461,0.117-5.461-1.397c0-1.28,1.528-1.164,4.479-1.862\r\nc6.772-1.514,10.485-3.608,11.469-3.608c0.873,0,1.201,0.583,1.201,1.746v41.436c0,3.839,0.109,5.47,2.622,6.634\r\nc2.838,1.396,5.241,0.699,5.241,2.56c0,0.582-0.655,1.048-1.748,1.048c-1.31,0-4.913-0.699-10.921-0.699s-9.722,0.699-11.032,0.699\r\nc-1.092,0-1.638-0.466-1.638-1.048c0-1.86,2.402-1.163,5.242-2.56c2.402-1.164,2.621-2.677,2.621-6.634V41.004\r\nC354.47,38.211,354.142,37.047,352.395,36.349z M358.185-0.314c3.057,0,5.569,2.677,5.569,6.052c0,3.259-2.403,5.936-5.569,5.936\r\nc-3.168,0-5.68-2.677-5.68-5.936C352.505,2.363,355.017-0.314,358.185-0.314z\"/>\r\n<path class=\"letter-9\" d=\"M406.231,31.561c6.881,0,12.779,2.72,17.585,7.803c5.023,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.072,0-26.321-11.467-26.321-27.545C379.582,43.383,391.378,31.561,406.231,31.561z\r\n  M405.358,84.171c10.267,0,15.727-8.631,15.727-25.417c0-16.197-6.007-24.946-15.727-24.946c-8.738,0-15.182,9.339-15.182,25.418\r\nC390.177,75.305,395.747,84.171,405.358,84.171z\"/>\r\n<path class=\"letter-10\" d=\"M449.253,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.243-0.354-5.243-1.892c0-1.064,1.64-1.3,4.261-1.892\r\nc5.788-1.3,9.064-3.191,10.156-3.191c2.076,0,1.856,3.31,2.513,11.585c4.26-7.447,10.158-11.231,18.021-11.231\r\nc10.378,0,16.166,5.674,16.166,15.724v27.546c0,3.901,0.108,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.547,1.064-1.639,1.064c-1.421,0-5.133-0.709-11.03-0.709c-5.898,0-9.503,0.709-10.923,0.709\r\nc-1.093,0-1.747-0.473-1.747-1.3c0-1.655,2.511-1.064,5.242-2.364c2.512-1.183,2.621-2.839,2.621-6.74V47.994\r\nc0-8.394-3.386-12.532-10.266-12.532c-7.428,0-13.764,7.094-13.764,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.841,1.419,5.244,0.709,5.244,2.6c0,0.592-0.656,1.064-1.748,1.064c-1.421,0-5.025-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.093,0-1.64-0.473-1.64-1.3c0-1.655,2.513-1.064,5.243-2.364\r\nc2.513-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<defs>\r\n    <filter id=\"mySVGfilter\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\"/>\r\n    </filter>\r\n</defs>\r\n</svg>`;\r\n\r\n    const introCenterTitle = document.createElement('div');\r\n    introCenterTitle.classList.add('center__title');\r\n    introCenter.appendChild(introCenterTitle);\r\n\r\n    const introBottom = document.createElement('div');\r\n    introBottom.classList.add('intro__bottom');\r\n    const introBottomLamps = document.createElement('div');\r\n    introBottomLamps.classList.add('bottom__lamp');\r\n    for (let i = 0; i < 3; i += 1) {\r\n      const introBottomLamp = document.createElement('div');\r\n      introBottomLamp.classList.add(`bottom__lamp--${i + 1}`);\r\n      introBottomLamps.appendChild(introBottomLamp);\r\n    }\r\n    introBottom.appendChild(introBottomLamps);\r\n\r\n    const introGear = document.createElement('div');\r\n    introGear.classList.add('intro__gear');\r\n    const introGear1 = document.createElement('div');\r\n    introGear1.classList.add('intro__gear1');\r\n    const introGear2 = document.createElement('div');\r\n    introGear2.classList.add('intro__gear2');\r\n    introGear.appendChild(introGear1);\r\n    introGear.appendChild(introGear2);\r\n\r\n    introContainer.appendChild(introTop);\r\n    introContainer.appendChild(introCenter);\r\n    introContainer.appendChild(introBottom);\r\n    introContainer.appendChild(introGear);\r\n    divIntro.appendChild(introContainer);\r\n    document.body.appendChild(divIntro);\r\n\r\n    const img = new Image();\r\n    img.src = './assets/img/intro/center.png';\r\n\r\n    img.addEventListener('load', () => {\r\n      introBottom.classList.add('show');\r\n      // set up and display main menu\r\n      const menu = new Menu(introTop);\r\n      menu.render();\r\n    });\r\n  }\r\n}\r\n","import getCard from '../cards/getCard';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\n/*\r\n* store all player cards objects (hand/table/lead/influence)\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class Player {\r\n  constructor(gameUI, playerName, id) {\r\n    // store passed values\r\n    this.name = playerName;\r\n    this.id = id;\r\n    this.gameUI = gameUI;\r\n\r\n    // set default values\r\n    this.game = null; //! this field will be set at game object initialization\r\n    this.currentAge = 1;\r\n    this.hand = [];\r\n\r\n    //! Names of stacks are color field in card objects\r\n    this.activeStacks = {\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    };\r\n\r\n    // Resources\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n\r\n    // player leadership and influence objects\r\n    // TODO LATER\r\n    this.ownedLeadership = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n    // TODO LATER\r\n    this.influence = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n  }\r\n\r\n  // calculate current recourses\r\n  calculateResources() {\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      const currentStack = this.activeStacks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCard = currentStack.cards[currentStack.cards.length - 1];\r\n        highestCard.resourses.forEach((e) => {\r\n          this[e.resourceName] += 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // calculate and set current age, iterates througth each stack\r\n  //! Runs from Game each time when card taken\r\n  setCurrentAge() {\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      this.activeStacks[stack].cards.forEach((card) => {\r\n        if (+card.age > this.currentAge) {\r\n          this.currentAge = +card.age;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // render last taken card in hand of current player\r\n  renderLastTakenCard() {\r\n    const lastTakenCard = this.hand[this.hand.length - 1];\r\n    const cardElement = getCard.frontSide(lastTakenCard);\r\n\r\n    // add animation when card render to hand\r\n    cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n    cardElement.classList.add('xyz-in');\r\n\r\n    cardElement.onclick = () => { this.playCard(lastTakenCard, cardElement); };\r\n    this.gameUI.hand.append(cardElement);\r\n\r\n    // remove animation when card rendered\r\n    setTimeout(() => {\r\n      cardElement.removeAttribute('xyz');\r\n      cardElement.classList.remove('xyz-in');\r\n    }, 450);\r\n  }\r\n\r\n  // render all cards in hand of current player\r\n  renderHand() {\r\n    this.gameUI.hand.innerHTML = ''; // clear previous rendered hand\r\n\r\n    this.hand.forEach((card) => {\r\n      const cardElement = getCard.frontSide(card);\r\n      cardElement.onclick = () => {\r\n        this.playCard(card, cardElement);\r\n      };\r\n      this.gameUI.hand.append(cardElement);\r\n    });\r\n  }\r\n\r\n  // render all cards in active zone of current player\r\n  renderActiveZone() {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      this.gameUI.activeStacks[stackName].innerHTML = ''; // clear previous rendered active zone\r\n      this.activeStacks[stackName].cards.forEach((card) => {\r\n        this.gameUI.activeStacks[stackName].append(getCard.frontSide(card));\r\n      });\r\n    });\r\n  }\r\n\r\n  // on click event for cards in hand. Play card in stack depends on category\r\n  // TODO: later this method should add dogma function to each played card\r\n  playCard(cardObj, cardElement) {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      if (stackName === cardObj.color) {\r\n        this.hand.forEach((e, i) => {\r\n          if (e === cardObj) {\r\n            this.hand.splice(i, 1);\r\n          }\r\n        });\r\n        this.activeStacks[stackName].cards.push(cardObj);\r\n        this.gameUI.activeStacks[stackName].append(cardElement);\r\n      }\r\n    });\r\n    this.calculateResources();\r\n    header.changePlayerStats(this);\r\n    this.game.actionDone();\r\n  }\r\n}\r\n","const gameState = {\r\n  ageDecks: {\r\n    age1: [],\r\n    age2: [],\r\n    age3: [],\r\n    age4: [],\r\n    age5: [],\r\n    age6: [],\r\n    age7: [],\r\n    age8: [],\r\n    age9: [],\r\n    age10: [],\r\n  },\r\n  leadershipDeck: [],\r\n  specialDeck: [],\r\n  players: [],\r\n  currentPlayer: null,\r\n  activePlayer: null,\r\n  player0: {\r\n    name: null,\r\n    id: 0,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n  },\r\n  player1: {\r\n    name: null,\r\n    id: 1,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n  },\r\n  player2: {\r\n    name: null,\r\n    id: 2,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n  },\r\n  player3: {\r\n    name: null,\r\n    id: 3,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n  },\r\n};\r\nexport default gameState;\r\n","import initHotSeatGame from '../utility/initHotSeatGame';\r\n\r\nconst usersInfo = {};\r\n\r\nfunction validation(userObj) {\r\n  return userObj.names.every((name) => name.length > 2 && name.length < 11);\r\n}\r\n// TODO need some refactor later, move to display folder, use function?\r\nclass Menu {\r\n  constructor(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  createMenuItem(text, ...dopParam) {\r\n    return /* html */ `<a href=\"#\" class=\"menu__link ${dopParam[0] || ''}\" ${dopParam[1] || ''}>\r\n      ${text}\r\n      <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n        <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n      </svg>\r\n    </a><br>`;\r\n  }\r\n\r\n  render() {\r\n    this.menu = document.createElement('div');\r\n    this.menu.classList.add('menu');\r\n    this.menu.innerHTML = `\r\n    ${this.createMenuItem('Новая игра', 'start')}\r\n    ${this.createMenuItem('Продолжить')}\r\n    ${this.createMenuItem('Сохранить игру')}\r\n    ${this.createMenuItem('Правила игры', 'rules')}\r\n    ${this.createMenuItem('Обзор игры')}\r\n    `;\r\n\r\n    this.parent.append(this.menu);\r\n    this.renderPdfRules();\r\n\r\n    this.menu.addEventListener('click', (e) => {\r\n      if (e.target.tagName !== 'A' && e.target.tagName !== 'SPAN' && e.target !== this.menu.querySelector('button')) {\r\n        return;\r\n      }\r\n\r\n      if (e.target.className.includes('start')) {\r\n        this.createChoosePlayersItems();\r\n      } else if (e.target.className.includes('rules')) {\r\n        this.rulesWrraper.hidden = false;\r\n      } else if (e.target.className.includes('close')) {\r\n        this.rulesWrraper.hidden = true;\r\n      } else if (e.target.dataset.players) {\r\n        this.createNameInputField(e.target.dataset.players);\r\n      } else if (e.target.className.includes('get-names')) {\r\n        e.preventDefault();\r\n        this.writeNamesToObject();\r\n        if (validation(usersInfo) && usersInfo.names.length) {\r\n          const intro = this.menu.parentElement.parentElement.parentElement;\r\n          intro.classList.toggle('intro--hide');\r\n          console.log(usersInfo);\r\n          // initHotSeatGame('Player1', 'Player2');\r\n          initHotSeatGame(usersInfo.names); //! Hardcoded for 2 players.\r\n          // Should take player names as arguments\r\n        }\r\n      } else if (e.target.className.includes('back')) {\r\n        this.menu.remove();\r\n        this.render();\r\n        this.menu.classList.add('menu__used');\r\n      }\r\n    });\r\n  }\r\n\r\n  renderPdfRules() {\r\n    this.rulesWrraper = document.createElement('div');\r\n    this.rulesWrraper.classList.add('iframe__wrraper');\r\n    this.rulesWrraper.hidden = true;\r\n    this.rulesWrraper.innerHTML = /* html */ `\r\n        <span class=\"close\">&#10006</span>\r\n        <iframe class=\"iframe\" src=\"./assets/innovation_rules_rus_final.pdf\" width=\"70%\" height=\"70%\"></iframe>\r\n    `;\r\n\r\n    this.menu.append(this.rulesWrraper);\r\n  }\r\n\r\n  createChoosePlayersItems() {\r\n    for (let i = 0; i < this.menu.children.length; i += 1) {\r\n      this.menu.children[i].hidden = true;\r\n    }\r\n    this.menu.innerHTML = /* html */ `\r\n    ${this.createMenuItem('2 игрока', '', 'data-players=2')}\r\n    ${this.createMenuItem('3 игрока', '', 'data-players=3')}\r\n    ${this.createMenuItem('4 игрока', '', 'data-players=4')}\r\n    ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createNameInputField(numberOfFields) {\r\n    usersInfo.players = numberOfFields;\r\n    this.menu.innerHTML = /* html */ `\r\n      <form>\r\n        ${this.createInputs(numberOfFields)}\r\n        <button class=\"menu__link get-names\" type=\"submit\">Принять</button>\r\n      </form>\r\n      ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createInputs(num) {\r\n    const inputHTML = [];\r\n\r\n    for (let i = 1; i <= num; i += 1) {\r\n      inputHTML.push(\r\n        /* html */ `\r\n        <label for=\"plaeyr${i}\">Введити имя игрока № ${i}</label>\r\n        <input type=\"text\" id=\"player${i}\" name=\"name\" data-name=\"\" pattern=\"[a-zA-Zа-яА-Я0-9_]{3,10}\" title=\"Введите от 3 до 10 символов\" required>\r\n      `,\r\n      );\r\n    }\r\n\r\n    return inputHTML;\r\n  }\r\n\r\n  writeNamesToObject() {\r\n    const inputs = this.menu.querySelectorAll('[data-name]');\r\n    const playerNames = [];\r\n    for (let i = 0; i < inputs.length; i += 1) {\r\n      if (inputs[i].value) {\r\n        playerNames.push(inputs[i].value);\r\n      }\r\n    }\r\n    usersInfo.names = playerNames;\r\n\r\n    return playerNames;\r\n  }\r\n}\r\nexport default Menu;\r\nexport { usersInfo };\r\n","export default function displayModal(playerName) {\r\n  const modalBg = document.createElement('div');\r\n  modalBg.classList.add('modal');\r\n  modalBg.classList.add('modal--hidden');\r\n\r\n  const modalBlock = document.createElement('div');\r\n  modalBlock.classList.add('modal__block');\r\n\r\n  const modalText = document.createElement('div');\r\n  modalText.classList.add('modal__text');\r\n  modalText.innerText = `Сейчас ход игрока ${playerName}`;\r\n\r\n  const modalBtn = document.createElement('button');\r\n  modalBtn.classList.add('modal__btn');\r\n  modalBtn.innerText = 'Начать ход!';\r\n  modalBtn.addEventListener('click', () => {\r\n    modalBg.style = '';\r\n    modalBg.classList.toggle('modal--hidden');\r\n    setTimeout(() => {\r\n      modalBg.remove();\r\n    }, 500);\r\n  });\r\n\r\n  modalBlock.append(modalText, modalBtn);\r\n  modalBg.append(modalBlock);\r\n\r\n  document.body.prepend(modalBg);\r\n  setTimeout(() => {\r\n    modalBg.classList.toggle('modal--hidden');\r\n  }, 0);\r\n}\r\n","export default function displayNextTurnBtn(newTurnFunction) {\r\n  const nextTurnBtn = document.createElement('div');\r\n  nextTurnBtn.classList.add('info-table__next-turn-btn');\r\n  nextTurnBtn.innerText = 'Закончить ход';\r\n  nextTurnBtn.addEventListener('click', () => {\r\n    newTurnFunction();\r\n    setTimeout(() => {\r\n      const excistedNextTurnBtn = document.querySelector('.info-table__next-turn-btn');\r\n      excistedNextTurnBtn.remove();\r\n    }, 500);\r\n  });\r\n  const infoTable = document.querySelector('.info-table');\r\n  infoTable.append(nextTurnBtn);\r\n}\r\n","const displayActiveZone = {\r\n  wrapper: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('active-zone');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('active-zone__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('active-zone__overlay');\r\n\r\n    // create players active stacks\r\n    // !Stack names are the color fields of cards object\r\n    const stacksNames = ['blue', 'red', 'green', 'purple', 'yellow'];\r\n    for (let i = 0; i < stacksNames.length; i += 1) {\r\n      const stack = document.createElement('div');\r\n      stack.classList.add('active-zone__stack');\r\n      stack.id = stacksNames[i]; // id stackName for each stack\r\n      this.cardsBlock.append(stack);\r\n    }\r\n\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('active-zone__controls');\r\n\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayActiveZone;\r\n","const displayAside = {\r\n  wrapper: null,\r\n  init() {\r\n    // create aside wrapper\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('aside');\r\n\r\n    // append createand blocks to aside wrapper\r\n    this.wrapper.append(this.getInfoBlock());\r\n    this.wrapper.append(this.getCurrentDeckBlock());\r\n    this.wrapper.append(this.getExtraCardsBlock());\r\n    this.wrapper.append(this.getLogBlock());\r\n\r\n    // create hidden modals blocks\r\n    this.ageDecksBlock = this.getAgeDecksBlock();\r\n    this.leadershipCardsBlock = this.getLeadershipCardsBlock();\r\n    this.specialCardsBlock = this.getSpecialCardsBlock();\r\n\r\n    // append hidden modal blocks to body\r\n    document.body.append(this.ageDecksBlock);\r\n    document.body.append(this.leadershipCardsBlock);\r\n    document.body.append(this.specialCardsBlock);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n  getInfoBlock() {\r\n    // create info block\r\n    const infoBlock = document.createElement('div');\r\n    infoBlock.classList.add('info-table');\r\n\r\n    // create current player block\r\n    const currentPlayerBlock = document.createElement('div');\r\n    currentPlayerBlock.classList.add('info-table__player-block');\r\n\r\n    const currentPlayerText = document.createElement('div');\r\n    currentPlayerText.innerText = 'Ход игрока: ';\r\n\r\n    const currentPlayerName = document.createElement('div');\r\n    currentPlayerName.classList.add('info-table__player-name');\r\n\r\n    currentPlayerBlock.append(currentPlayerText);\r\n    currentPlayerBlock.append(currentPlayerName);\r\n\r\n    // create action points block\r\n    const actionPointsBlock = document.createElement('div');\r\n    actionPointsBlock.classList.add('info-table__action-points-block');\r\n\r\n    const actionPointsText = document.createElement('div');\r\n    actionPointsText.innerText = 'Осталось ОД: ';\r\n\r\n    const actionPointsValue = document.createElement('div');\r\n    actionPointsValue.classList.add('info-table__action-points');\r\n\r\n    actionPointsBlock.append(actionPointsText);\r\n    actionPointsBlock.append(actionPointsValue);\r\n\r\n    // append created blocks to info block\r\n    infoBlock.append(currentPlayerBlock);\r\n    infoBlock.append(actionPointsBlock);\r\n\r\n    return infoBlock;\r\n  },\r\n\r\n  getCurrentDeckBlock() {\r\n    // create current deck block\r\n    const currentDeck = document.createElement('div');\r\n    currentDeck.classList.add('current-deck');\r\n\r\n    const currentDeckTitle = document.createElement('div');\r\n    currentDeckTitle.classList.add('current-deck__title');\r\n    currentDeckTitle.innerText = 'Взять карту';\r\n\r\n    const currentDeckCards = document.createElement('div');\r\n    currentDeckCards.classList.add('current-deck__cards');\r\n\r\n    // create hover button element\r\n    const hoverBtn = document.createElement('button');\r\n    hoverBtn.classList.add('hover-btn');\r\n    hoverBtn.innerText = 'Показать все';\r\n    hoverBtn.addEventListener('click', () => {\r\n      this.ageDecksBlock.classList.toggle('age-decks--hidden');\r\n    });\r\n\r\n    // append button to deck block\r\n    currentDeckCards.append(hoverBtn);\r\n\r\n    // append title and cards blocks to current deck block\r\n    currentDeck.append(currentDeckTitle);\r\n    currentDeck.append(currentDeckCards);\r\n\r\n    return currentDeck;\r\n  },\r\n\r\n  getExtraCardsBlock() {\r\n    // create extra cards block\r\n    const extraCards = document.createElement('div');\r\n    extraCards.classList.add('extra-cards');\r\n\r\n    // create special cards block\r\n    const specialCards = document.createElement('div');\r\n    specialCards.classList.add('extra-cards__special-block');\r\n\r\n    const specialCardsTitle = document.createElement('div');\r\n    specialCardsTitle.classList.add('extra-cards__special-title');\r\n    specialCardsTitle.innerText = 'Специальные';\r\n\r\n    const specialCardsCards = document.createElement('div');\r\n    specialCardsCards.classList.add('extra-cards__special-cards');\r\n\r\n    // create hover button for special cards block\r\n    const hoverBtnSpecial = document.createElement('button');\r\n    hoverBtnSpecial.classList.add('hover-btn');\r\n    hoverBtnSpecial.innerText = 'Показать все';\r\n    hoverBtnSpecial.addEventListener('click', () => {\r\n      this.specialCardsBlock.classList.toggle('special-cards--hidden');\r\n    });\r\n    specialCardsCards.append(hoverBtnSpecial);\r\n\r\n    // append title and cards to special cards block\r\n    specialCards.append(specialCardsTitle);\r\n    specialCards.append(specialCardsCards);\r\n\r\n    // create leadership cards block\r\n    const leadershipCards = document.createElement('div');\r\n    leadershipCards.classList.add('extra-cards__leadership-block');\r\n\r\n    const leadershipCardsTitle = document.createElement('div');\r\n    leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n    leadershipCardsTitle.innerText = 'Лидерство';\r\n\r\n    const leadershipCardsCards = document.createElement('div');\r\n    leadershipCardsCards.classList.add('extra-cards__leadership-cards');\r\n\r\n    // create hover button for leadership cards block\r\n    const hoverBtnLeadership = document.createElement('button');\r\n    hoverBtnLeadership.classList.add('hover-btn');\r\n    hoverBtnLeadership.innerText = 'Показать все';\r\n    hoverBtnLeadership.addEventListener('click', () => {\r\n      this.leadershipCardsBlock.classList.toggle('leadership-cards--hidden');\r\n    });\r\n    leadershipCardsCards.append(hoverBtnLeadership);\r\n\r\n    // append title and cards to leadership cards block\r\n    leadershipCards.append(leadershipCardsTitle);\r\n    leadershipCards.append(leadershipCardsCards);\r\n\r\n    // apend special cards and leadership blocks to extra cards block\r\n    extraCards.append(specialCards);\r\n    extraCards.append(leadershipCards);\r\n\r\n    return extraCards;\r\n  },\r\n\r\n  getLogBlock() {\r\n    // create log block\r\n    const logBlock = document.createElement('div');\r\n    logBlock.classList.add('chat-log');\r\n\r\n    // chat tab\r\n    logBlock.innerHTML = `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"chat-block\" name=\"tab-group\" checked>\r\n      <label for=\"chat-block\" class=\"chat-log__tab-title\">Чат</label> \r\n      <section class=\"chat-log__tab-content chat-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // log tab\r\n    logBlock.innerHTML += `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"log-block\" name=\"tab-group\">\r\n      <label for=\"log-block\" class=\"chat-log__tab-title\">Лог</label> \r\n      <section class=\"chat-log__tab-content log-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // input\r\n    logBlock.innerHTML += `<form class=\"chat-log__form\" id=\"input-form\">\r\n      <input class=\"chat-log__input\">\r\n      <button class=\"chat-log__btn\" type=\"submit\" form=\"input-form\">Отправить</button>\r\n    </form>`;\r\n\r\n    // spread button\r\n    const spreadBtn = document.createElement('div');\r\n    spreadBtn.classList.add('chat-log__spread');\r\n    logBlock.append(spreadBtn);\r\n\r\n    spreadBtn.addEventListener('click', () => {\r\n      logBlock.classList.toggle('chat-log--full-screen');\r\n      spreadBtn.classList.toggle('chat-log__spread--open');\r\n    });\r\n\r\n    return logBlock;\r\n  },\r\n\r\n  getAgeDecksBlock() {\r\n    // create age decks modal block\r\n    const agesNumber = 10;\r\n    const ageDecksBlock = document.createElement('div');\r\n    ageDecksBlock.classList.add('age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    ageDecksBlock.classList.add('xyz-in');\r\n    ageDecksBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('age-decks__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('age-decks__second-line');\r\n\r\n    const thirdLine = document.createElement('div');\r\n    thirdLine.classList.add('age-decks__third-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('age-decks__btn-line');\r\n\r\n    // create age decks\r\n    for (let i = 0; i < agesNumber; i += 1) {\r\n      const deck = document.createElement('div');\r\n      deck.classList.add('age-deck');\r\n      deck.id = `age${i + 1}`; // id age1-10 for each deck\r\n      deck.innerText = `${i + 1} Age`; // TODO remove later\r\n      deck.style.backgroundImage = 'url(./assets/img/cards-bg/age-01.jpg)'; //! use `` age-0${i+1} later\r\n\r\n      deck.addEventListener('click', () => this.ageDecksBlock.classList.toggle('age-decks--hidden'));\r\n\r\n      // Animation classes and attributes for cards here\r\n      deck.classList.add('xyz-in');\r\n      deck.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 4) {\r\n        firstLine.append(deck);\r\n      } else if (i < 7) {\r\n        secondLine.append(deck);\r\n      } else if (i < 10) {\r\n        thirdLine.append(deck);\r\n      }\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    ageDecksBlock.append(firstLine);\r\n    ageDecksBlock.append(secondLine);\r\n    ageDecksBlock.append(thirdLine);\r\n    ageDecksBlock.append(btnLine);\r\n\r\n    return ageDecksBlock;\r\n  },\r\n\r\n  getLeadershipCardsBlock() {\r\n    // create leadership decks modal block\r\n    const leadershipCardsBlock = document.createElement('div');\r\n    leadershipCardsBlock.classList.add('leadership-cards');\r\n    leadershipCardsBlock.classList.add('leadership-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    leadershipCardsBlock.classList.add('xyz-in');\r\n    leadershipCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('leadership-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('leadership-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('leadership-cards__btn-line');\r\n\r\n    // create leadership cards\r\n    const numOfLeadershipCards = 10;\r\n    for (let i = 0; i < numOfLeadershipCards; i += 1) {\r\n      const leadershipCard = document.createElement('div');\r\n      leadershipCard.classList.add('leadership-cards__card');\r\n      leadershipCard.innerText = `${i + 1}`;\r\n\r\n      // Animation classes and attributes for cards here\r\n      leadershipCard.classList.add('xyz-in');\r\n      leadershipCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 5) firstLine.append(leadershipCard);\r\n      else if (i < 10) secondLine.append(leadershipCard);\r\n\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    leadershipCardsBlock.append(firstLine);\r\n    leadershipCardsBlock.append(secondLine);\r\n    leadershipCardsBlock.append(btnLine);\r\n\r\n    return leadershipCardsBlock;\r\n  },\r\n\r\n  getSpecialCardsBlock() {\r\n    // create special cards modal block\r\n    const specialCardsBlock = document.createElement('div');\r\n    specialCardsBlock.classList.add('special-cards');\r\n    specialCardsBlock.classList.add('special-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    specialCardsBlock.classList.add('xyz-in');\r\n    specialCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('special-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('special-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('special-cards__btn-line');\r\n\r\n    // create special cards\r\n    const numOfSpecialCards = 5;\r\n    for (let i = 0; i < numOfSpecialCards; i += 1) {\r\n      const specialCard = document.createElement('div');\r\n      specialCard.classList.add('special-cards__card');\r\n\r\n      // Animation classes and attributes for cards here\r\n      specialCard.classList.add('xyz-in');\r\n      specialCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 3) firstLine.append(specialCard);\r\n      else if (i < 5) secondLine.append(specialCard);\r\n\r\n      // create close button\r\n      if (i === 4) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    specialCardsBlock.append(firstLine);\r\n    specialCardsBlock.append(secondLine);\r\n    specialCardsBlock.append(btnLine);\r\n\r\n    return specialCardsBlock;\r\n  },\r\n};\r\n\r\nexport default displayAside;\r\n","const displayHand = {\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('hand');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('hand__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('hand__overlay');\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('hand__controls');\r\n\r\n    // disabled by default\r\n    this.arrowTop = document.createElement('button');\r\n    this.arrowTop.classList.add('hand__btn--top', 'hand__btn');\r\n    this.arrowTop.classList.add('hand__btn--disabled');\r\n    this.arrowTop.disabled = true;\r\n    this.arrowTop.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    // disabled by default\r\n    this.arrowBottom = document.createElement('button');\r\n    this.arrowBottom.classList.add('hand__btn--bottom', 'hand__btn');\r\n    this.arrowBottom.classList.add('hand__btn--disabled');\r\n    this.arrowBottom.disabled = true;\r\n    this.arrowBottom.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    this.controlsBlock.append(this.arrowTop);\r\n    this.controlsBlock.append(this.arrowBottom);\r\n\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHand;\r\n","const displayHeader = {\r\n  wrapper: null,\r\n  headRowNames: [{ hand: ['fas', 'fa-hand-paper', 'yellow'] }, { influence: ['fas', 'fa-shield-alt', 'red'] }, { leadership: ['fas', 'fa-trophy', 'yellow'] }],\r\n  resourcesNames: [{ tree: ['fab', 'fa-pagelines', 'green'] }, { tower: ['fab', 'fa-fort-awesome', 'grey'] }, { crown: ['fas', 'fa-crown', 'yellow'] }, { bulb: ['fas', 'fa-lightbulb', 'purple'] }, { factory: ['fas', 'fa-industry', 'red'] }, { clock: ['far', 'fa-clock', 'blue'] }],\r\n  player0: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player1: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player2: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player3: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n\r\n  initPlayerStats(id) {\r\n    const player = `player${id}`;\r\n\r\n    this[player].container = document.createElement('div');\r\n    this[player].container.classList.add('player-container');\r\n\r\n    const headRow = document.createElement('div');\r\n    headRow.classList.add('head-row');\r\n    this[player].name = document.createElement('div');\r\n    this[player].name.classList.add('head-row__name');\r\n    this[player].name.textContent = `Player${id}`;\r\n    headRow.appendChild(this[player].name);\r\n\r\n    this.headRowNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      const container = document.createElement('div');\r\n      container.classList.add('cards-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'cards-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('cards-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      headRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(headRow);\r\n\r\n    const activeZoneRow = document.createElement('div');\r\n    activeZoneRow.classList.add('active-zone-row');\r\n\r\n    this[player].red = document.createElement('div');\r\n    this[player].red.classList.add('active-zone-row__red');\r\n    this[player].red.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].red);\r\n\r\n    this[player].green = document.createElement('div');\r\n    this[player].green.classList.add('active-zone-row__green');\r\n    this[player].green.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].green);\r\n\r\n    this[player].blue = document.createElement('div');\r\n    this[player].blue.classList.add('active-zone-row__blue');\r\n    this[player].blue.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].blue);\r\n\r\n    this[player].purple = document.createElement('div');\r\n    this[player].purple.classList.add('active-zone-row__purple');\r\n    this[player].purple.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].purple);\r\n\r\n    this[player].yellow = document.createElement('div');\r\n    this[player].yellow.classList.add('active-zone-row__yellow');\r\n    this[player].yellow.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].yellow);\r\n\r\n    this[player].container.appendChild(activeZoneRow);\r\n\r\n    const recourcesRow = document.createElement('div');\r\n    recourcesRow.classList.add('recources-row');\r\n    this.resourcesNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      // console.log(e[i][0]);\r\n      const container = document.createElement('div');\r\n      container.classList.add('recource-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'recource-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('recource-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      recourcesRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(recourcesRow);\r\n    this[player].container.classList.add('player-container__hidden');\r\n    this.wrapper.appendChild(this[player].container);\r\n  },\r\n\r\n  changePlayerStats(player) {\r\n    const playerId = `player${player.id}`;\r\n\r\n    this[playerId].hand.textContent = player.hand.length;\r\n    this[playerId].red.textContent = player.activeStacks.red.cards.length;\r\n    this[playerId].green.textContent = player.activeStacks.green.cards.length;\r\n    this[playerId].blue.textContent = player.activeStacks.blue.cards.length;\r\n    this[playerId].purple.textContent = player.activeStacks.purple.cards.length;\r\n    this[playerId].yellow.textContent = player.activeStacks.yellow.cards.length;\r\n    this[playerId].tree.textContent = player.tree;\r\n    this[playerId].tower.textContent = player.tower;\r\n    this[playerId].crown.textContent = player.crown;\r\n    this[playerId].bulb.textContent = player.bulb;\r\n    this[playerId].factory.textContent = player.factory;\r\n    this[playerId].clock.textContent = player.clock;\r\n  },\r\n\r\n  initPlayerNames(players) {\r\n    for (let i = 0; i < players.length; i += 1) {\r\n      const currentPlayer = `player${i}`;\r\n      this[currentPlayer].name.textContent = players[i].name;\r\n      this[currentPlayer].container.classList.remove('player-container__hidden');\r\n    }\r\n  },\r\n\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('header');\r\n    this.initPlayerStats(0);\r\n    this.initPlayerStats(1);\r\n    this.initPlayerStats(2);\r\n    this.initPlayerStats(3);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHeader;\r\n\r\n/* 'tower', 'crown', 'bulb', 'factory', 'clock' */\r\n","import displayHeader from './displayHeader';\r\nimport displayAside from './displayAside';\r\nimport displayActiveZone from './displayActiveZone';\r\nimport displayHand from './displayHand';\r\n\r\nconst displayPlayerTable = {\r\n  wrapper: null,\r\n  header: null,\r\n  aside: null,\r\n  activeZone: null,\r\n  hand: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('wrapper');\r\n\r\n    this.wrapperMain = document.createElement('div');\r\n    this.wrapperMain.classList.add('wrapper__main');\r\n\r\n    this.header = displayHeader.init();\r\n    this.wrapperMain.appendChild(this.header);\r\n\r\n    this.activeZone = displayActiveZone.init();\r\n    this.wrapperMain.appendChild(this.activeZone);\r\n\r\n    this.hand = displayHand.init();\r\n    this.wrapperMain.appendChild(this.hand);\r\n\r\n    this.aside = displayAside.init();\r\n\r\n    this.wrapper.appendChild(this.wrapperMain);\r\n    this.wrapper.appendChild(this.aside);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n};\r\n\r\nexport default displayPlayerTable;\r\n","export default function getCardObject(id, arr) {\r\n  let result = {};\r\n  for (let i = 0; i < arr.length; i += 1) {\r\n    if (arr[i].innovation === id) {\r\n      result = arr[i];\r\n      break;\r\n    }\r\n  }\r\n  return result;\r\n}\r\n","import GameField from '../components/GameField';\r\nimport Player from '../components/Player';\r\nimport Game from '../components/Game';\r\nimport cardsJSON from '../cards/cards.json';\r\nimport parseCards from '../cards/parseCards';\r\nimport GameUI from '../components/GameUI';\r\n// import setChat from './setChat';\r\nimport shuffle from './shuffle';\r\nimport getCardObject from './getCardObject';\r\n\r\nimport gameState from '../components/gameState';\r\n\r\nexport default function initHotSeatGame(playerNames) {\r\n  // contains dom elements\r\n  const gameUI = new GameUI();\r\n\r\n  // contains sorted card objects\r\n  const arrOfCards = parseCards(cardsJSON);\r\n\r\n  // shuffle arr of cards objects\r\n  shuffle(arrOfCards);\r\n\r\n  // create gameField which contains all cards avaiable for players\r\n  const gameField = new GameField(arrOfCards);\r\n\r\n  // contains players properties and cards\r\n  const players = [];\r\n  for (let i = 0; i < playerNames.length; i += 1) {\r\n    const player = new Player(gameUI, playerNames[i], i + 1);\r\n    players.push(player);\r\n  }\r\n\r\n  // work with all main objects\r\n  const game = new Game(gameUI, gameField, players, arrOfCards);\r\n  game.newTurn();\r\n  // display first modal without animation\r\n  document.querySelector('.modal').style.opacity = '1';\r\n\r\n  console.log(gameState);\r\n  // init chat\r\n  // setChat();\r\n}\r\n","export default function setAsideControls() {\r\n  const buttons = Array.from(document.querySelectorAll('.close-modal-btn'));\r\n\r\n  function animation(e) {\r\n    const button = e.target;\r\n    const parentBlock = e.target.parentElement.parentElement;\r\n    const childLines = Array.from(parentBlock.children);\r\n    const childBlocks = childLines.map((line) => Array.from(line.children)).flat();\r\n\r\n    button.removeEventListener('click', animation);\r\n    parentBlock.classList.remove('xyz-in');\r\n    parentBlock.classList.add('xyz-out');\r\n\r\n    childBlocks.forEach((child) => {\r\n      child.classList.remove('xyz-in');\r\n      child.classList.add('xyz-out');\r\n    });\r\n\r\n    setTimeout(() => {\r\n      parentBlock.classList.toggle(`${parentBlock.className.split(' ')[0]}--hidden`);\r\n      childBlocks.forEach((child) => {\r\n        child.classList.remove('xyz-out');\r\n        child.classList.add('xyz-in');\r\n        parentBlock.classList.remove('xyz-out');\r\n        parentBlock.classList.add('xyz-in');\r\n      });\r\n      button.addEventListener('click', animation);\r\n    }, 600);\r\n  }\r\n\r\n  buttons.forEach((button) => {\r\n    button.addEventListener('click', animation);\r\n  });\r\n}\r\n","// function which disable passed dom element button\r\nfunction disableBtn(btnElement) {\r\n  btnElement.disabled = true;\r\n  btnElement.classList.add('hand__btn--disabled');\r\n}\r\n\r\n// function which enable passed dom element button\r\nfunction enableBtn(btnElement) {\r\n  btnElement.disabled = false;\r\n  btnElement.classList.remove('hand__btn--disabled');\r\n}\r\n\r\nexport default function setGameControls() {\r\n  // get needed dom elements\r\n  const btnTop = document.querySelector('.hand__btn--top');\r\n  const btnBottom = document.querySelector('.hand__btn--bottom');\r\n  const hand = document.querySelector('.hand__cards');\r\n\r\n  // const height of one line of cards (current = 200px card + 70px margins/decoration)\r\n  // dinamically calculated depends on html font-size property\r\n  const html = document.documentElement;\r\n  const style = window.getComputedStyle(html, null).getPropertyValue('font-size');\r\n  const fontSize = parseFloat(style);\r\n\r\n  const cardsLineHeight = fontSize * 27;\r\n  // const timeout used because time needed for scroll animation before values updated\r\n  const timeoutTime = 350;\r\n\r\n  // disable scrolling in hand block\r\n  hand.onwheel = function disableScroll() { return false; };\r\n\r\n  // event activated on each inserted card\r\n  hand.addEventListener('DOMNodeInserted', () => {\r\n    // scroll to inserted card (or do nothing)\r\n    hand.scrollTop = hand.scrollHeight - cardsLineHeight;\r\n    disableBtn(btnBottom);\r\n    // if scrolled to second+ line of cards\r\n    if (hand.scrollHeight > cardsLineHeight) {\r\n      enableBtn(btnTop);\r\n    }\r\n  });\r\n\r\n  // event activated on each removed card\r\n  hand.addEventListener('DOMNodeRemoved', () => {\r\n    setTimeout(() => {\r\n      // only one line of card left - disable both buttons\r\n      if (hand.scrollHeight === cardsLineHeight) {\r\n        disableBtn(btnBottom);\r\n        disableBtn(btnTop);\r\n      // if point of view is on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      } else if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at top button\r\n  btnTop.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnTop.disabled = true;\r\n\r\n    // scroll up one line\r\n    hand.scrollTop -= cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    // !important: dont use else here, need 2 separate if blocks\r\n    setTimeout(() => {\r\n      // if point of view at first line\r\n      if (hand.scrollTop === 0) {\r\n        disableBtn(btnTop);\r\n        enableBtn(btnBottom);\r\n      }\r\n      // if point of view not at first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnBottom);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnTop.disabled = false;\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at botom button\r\n  btnBottom.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnBottom.disabled = true;\r\n\r\n    // scroll down on one line\r\n    hand.scrollTop += cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    setTimeout(() => {\r\n      // if point of view isnt on first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnTop);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnBottom.disabled = false;\r\n      }\r\n      // if point of view on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2 && hand.scrollTop !== 0) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n}\r\n","export default function shuffle(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/js/app.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}
>>>>>>> 2ac4e147b9c14ab4dc9024cc36d3a5ed8de20a0e
