{"version":3,"sources":["webpack://innovation/./src/js/NEW/NEWgameState.js","webpack://innovation/./src/js/NEW/NEWinitHotSeatGame.js","webpack://innovation/./src/js/NEW/displayNewTurnModal.js","webpack://innovation/./src/js/NEW/gameBoard.js","webpack://innovation/./src/js/NEW/getCardElement.js","webpack://innovation/./src/js/NEW/getCardObject.js","webpack://innovation/./src/js/NEW/initGameState.js","webpack://innovation/./src/js/NEW/shuffleArr.js","webpack://innovation/./src/js/NEW/updateGameState.js","webpack://innovation/./src/js/app.js","webpack://innovation/./src/js/cards/getCard.js","webpack://innovation/./src/js/cards/parseCards.js","webpack://innovation/./src/js/cards/renderCard.js","webpack://innovation/./src/js/components/Game.js","webpack://innovation/./src/js/components/GameField.js","webpack://innovation/./src/js/components/GameUI.js","webpack://innovation/./src/js/components/Intro.js","webpack://innovation/./src/js/components/Player.js","webpack://innovation/./src/js/components/gameState.js","webpack://innovation/./src/js/components/mainMenu.js","webpack://innovation/./src/js/display/playerTable/displayActiveZone.js","webpack://innovation/./src/js/display/playerTable/displayAside.js","webpack://innovation/./src/js/display/playerTable/displayHand.js","webpack://innovation/./src/js/display/playerTable/displayHeader.js","webpack://innovation/./src/js/display/playerTable/displayPlayerTable.js","webpack://innovation/./src/js/utility/initHotSeatGame.js","webpack://innovation/./src/js/utility/setAsideControls.js","webpack://innovation/./src/js/utility/setHandControls.js","webpack://innovation/./src/js/utility/shuffle.js","webpack://innovation/./node_modules/@animxyz/core/dist/animxyz.css?92e6","webpack://innovation/./src/scss/style.scss?06a2","webpack://innovation/webpack/bootstrap","webpack://innovation/webpack/runtime/define property getters","webpack://innovation/webpack/runtime/hasOwnProperty shorthand","webpack://innovation/webpack/runtime/make namespace object","webpack://innovation/webpack/startup"],"names":["NEWgameState","ageDecks","age1","age2","age3","age4","age5","age6","age7","age8","age9","age10","leadershipDeck","specialDeck","players","currentPlayer","activePlayer","player0","name","id","actionPoints","hand","currentAge","currentDeck","activeDecks","red","cards","shift","green","blue","purple","yellow","tree","tower","crown","bulb","factory","clock","player1","player2","player3","initHotSeatGame","usersInfo","initGameState","gameBoard","header","names","displayModal","playerName","modalBg","document","createElement","classList","add","modalBlock","modalText","innerText","modalBtn","addEventListener","style","toggle","setTimeout","remove","append","body","prepend","display","nameBlock","querySelector","gameState","actionPointsBlock","cloneCurrentDeck","onclick","activeDeck","length","avaiableAgeDeck","prevDeckClone","cloneNode","innerHTML","cardID","cardObject","getCardObject","cardElement","getCardElement","playCard","stacks","querySelectorAll","forEach","stackElement","Object","keys","activeDeckName","card","cardObj","console","log","renderCard","update","displayNextTurnBtn","updateGameState","init","cardElements","elem","dataset","innovation","activeDeckElements","takeCard","e","sourceDeck","target","movingCardInnovation","pop","movingCardObj","movingCardElement","playingCardInnovation","closest","playingCardElement","playIndex","playingCardObj","targetDeckArray","color","push","nextTurnBtn","i","displayNewTurnModal","excistedNextTurnBtn","infoTable","disableEvents","Array","from","cursor","transform","cardDogms","cardDogma","decks","deck","getCardHeader","divHeader","posTopLeft","title","textContent","appendChild","getCardMain","divMain","dogma","item","divDogma","setAttribute","type","icon","effect","getCardFooter","divFooter","posBottomLeft","posBottomCenter","posBottomRight","setObjByPosition","divCard","agePos","agePosition","age","resourses","res","pos","position","background","cardImg","all","resultArr","cardsJSON","setOfCards","assign","byID","arrOfCardObjects","Error","values","ageDeck","shuffleArr","player","array","j","Math","floor","random","stack","currentStack","highestCardInnovation","highestCard","resourceName","intro","displayPlayerTable","setHandControls","setAsideControls","getCard","frontSide","parseCards","getRenderCard","activeStacks","initObject","toHand","toActive","targetStack","children","contains","dom","width","offsetWidth","height","offsetHeight","cardHeight","cardShiftValue","bottom","parentElement","right","left","scrollIntoView","Game","gameUI","gameField","arrOfCards","game","domElement","cardsArray","turnPoints","initPlayerNames","indexOf","setCurrentPlayer","removeActiveDeck","setActiveDeck","renderHand","renderActiveZone","updateInfoTable","disableHandEvents","newTurn","bind","ageDeckKey","updateCurrentDeckBlock","changePlayerStats","actionDone","splice","GameField","setDeckArrays","cardsObj","GameUI","getAgeDecks","getActiveStacks","getInfoTable","ageDecksElements","getElementsByClassName","activeStacksElements","activeStack","currentPlayerNameBlock","currentPlayerActionPoints","divIntro","introContainer","introTop","introCenter","introCenterTitle","introBottom","introBottomLamps","introBottomLamp","introGear","introGear1","introGear2","img","Image","src","menu","Menu","render","event","Player","ownedLeadership","influence","lastTakenCard","stackName","test","calculateResources","users","validation","userObj","every","parent","text","createMenuItem","renderPdfRules","tagName","className","includes","createChoosePlayersItems","rulesWrraper","hidden","createNameInputField","preventDefault","addNamesToUsers","NEWinitHotSeatGame","numberOfFields","createInputs","num","inputHTML","inputs","playerNames","value","displayActiveZone","wrapper","activeZoneTitle","cardsBlock","cardsBlockWrapper","cardsBlockOverlay","stacksNames","displayAside","getStyleBlock","getInfoBlock","getCurrentDeckBlock","getExtraCardsBlock","getLogBlock","ageDecksBlock","getAgeDecksBlock","leadershipCardsBlock","getLeadershipCardsBlock","specialCardsBlock","getSpecialCardsBlock","block","infoBlock","currentPlayerBlock","currentPlayerText","currentPlayerName","actionPointsText","actionPointsValue","currentDeckTitle","currentDeckCards","hoverBtn","extraCards","specialCards","specialCardsTitle","specialCardsCards","hoverBtnSpecial","leadershipCards","leadershipCardsTitle","leadershipCardsCards","hoverBtnLeadership","logBlock","spreadBtn","agesNumber","firstLine","secondLine","thirdLine","btnLine","backgroundImage","button","numOfLeadershipCards","leadershipCard","numOfSpecialCards","specialCard","displayHand","handTitle","controlsBlock","arrowTop","disabled","arrowBottom","displayHeader","headRowNames","leadership","resourcesNames","container","initPlayerStats","headRow","iconContainer","activeZoneRow","recourcesRow","headerTableWrapper","playerId","headerTitle","headerOverlay","headerTable","aside","activeZone","wrapperMain","shuffle","opacity","buttons","animation","parentBlock","childLines","childBlocks","map","line","flat","removeEventListener","child","split","disableBtn","btnElement","enableBtn","setGameControls","btnTop","btnBottom","html","documentElement","window","getComputedStyle","getPropertyValue","fontSize","parseFloat","cardsLineHeight","timeoutTime","onwheel","disableScroll","scrollTop","scrollHeight"],"mappings":"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","file":"bundle.js","sourcesContent":["const NEWgameState = {\r\n  ageDecks: {\r\n    age1: [],\r\n    age2: [],\r\n    age3: [],\r\n    age4: [],\r\n    age5: [],\r\n    age6: [],\r\n    age7: [],\r\n    age8: [],\r\n    age9: [],\r\n    age10: [],\r\n  },\r\n  leadershipDeck: [],\r\n  specialDeck: [],\r\n  players: [],\r\n  currentPlayer: null,\r\n  activePlayer: null,\r\n  player0: {\r\n    name: null,\r\n    id: 0,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    currentDeck: 'age1',\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player1: {\r\n    name: null,\r\n    id: 1,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player2: {\r\n    name: null,\r\n    id: 2,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player3: {\r\n    name: null,\r\n    id: 3,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n};\r\n\r\nexport default NEWgameState;\r\n","import initGameState from './initGameState';\r\nimport gameBoard from './gameBoard';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\nexport default function initHotSeatGame(usersInfo) {\r\n  initGameState(usersInfo);\r\n  gameBoard.display();\r\n  header.initPlayerNames(usersInfo.names);\r\n  gameBoard.init();\r\n}\r\n","export default function displayModal(playerName) {\r\n  const modalBg = document.createElement('div');\r\n  modalBg.classList.add('modal');\r\n  modalBg.classList.add('modal--hidden');\r\n\r\n  const modalBlock = document.createElement('div');\r\n  modalBlock.classList.add('modal__block');\r\n\r\n  const modalText = document.createElement('div');\r\n  modalText.classList.add('modal__text');\r\n  modalText.innerText = `Сейчас ход игрока ${playerName}`;\r\n\r\n  const modalBtn = document.createElement('button');\r\n  modalBtn.classList.add('modal__btn');\r\n  modalBtn.innerText = 'Начать ход!';\r\n  modalBtn.addEventListener('click', () => {\r\n    modalBg.style = '';\r\n    modalBg.classList.toggle('modal--hidden');\r\n    setTimeout(() => {\r\n      modalBg.remove();\r\n    }, 500);\r\n  });\r\n\r\n  modalBlock.append(modalText, modalBtn);\r\n  modalBg.append(modalBlock);\r\n\r\n  document.body.prepend(modalBg);\r\n  setTimeout(() => {\r\n    modalBg.classList.toggle('modal--hidden');\r\n  }, 0);\r\n}\r\n","import gameState from './NEWgameState';\r\nimport getCardObject from './getCardObject';\r\nimport getCardElement from './getCardElement';\r\nimport renderCard from '../cards/renderCard';\r\nimport updateGameState from './updateGameState';\r\nimport displayNewTurnModal from './displayNewTurnModal';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\nconst gameBoard = {\r\n  display() {\r\n    // set info block aside =========================================================\r\n    const nameBlock = document.querySelector('.info-table__player-name');\r\n    nameBlock.innerText = gameState.activePlayer.name;\r\n    const actionPointsBlock = document.querySelector('.info-table__action-points');\r\n    actionPointsBlock.innerText = gameState.activePlayer.actionPoints;\r\n\r\n    // remove previous active age decks ================================================\r\n    let cloneCurrentDeck = document.querySelector('#cloneCurrentDeck');\r\n    if (cloneCurrentDeck !== null) cloneCurrentDeck.onclick = '';\r\n    const activeDeck = document.querySelector('.age-deck--active');\r\n    if (activeDeck !== null) {\r\n      activeDeck.classList.remove('age-deck--active');\r\n      activeDeck.onclick = '';\r\n    }\r\n\r\n    // set avaiable age deck in modal ===============================================\r\n    while (gameState.ageDecks[`age${gameState.activePlayer.currentAge}`].length === 0) {\r\n      gameState.activePlayer.currentAge += 1;\r\n    }\r\n    const avaiableAgeDeck = document.querySelector(`#age${gameState.activePlayer.currentAge}`);\r\n    avaiableAgeDeck.classList.add('age-deck--active');\r\n\r\n    // set avaiable age deck in aside ===============================================\r\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\r\n    if (prevDeckClone !== null) prevDeckClone.remove();\r\n    // clone current active deck\r\n    cloneCurrentDeck = avaiableAgeDeck.cloneNode();\r\n    cloneCurrentDeck.innerText = avaiableAgeDeck.innerText;\r\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\r\n    cloneCurrentDeck.classList.add('age-deck--active');\r\n    cloneCurrentDeck.classList.remove('xyz-in');\r\n    // display cloned deck in currentDeck block\r\n    document.querySelector('.current-deck__cards').append(cloneCurrentDeck);\r\n\r\n    // get hand cards of active player ==============================================\r\n    const hand = document.querySelector('.hand__cards');\r\n    hand.innerHTML = '';\r\n    gameState.activePlayer.hand.forEach((cardID) => {\r\n      const cardObject = getCardObject.byID(cardID);\r\n      const cardElement = getCardElement(cardObject);\r\n      cardElement.onclick = this.playCard;\r\n      hand.append(cardElement);\r\n    });\r\n\r\n    // get active cards of active player ============================================\r\n    const stacks = document.querySelectorAll('.active-zone__stack');\r\n    stacks.forEach((stackElement) => {\r\n      stackElement.innerHTML = '';\r\n      stackElement.classList.add('active-zone__stack--empty');\r\n      Object.keys(gameState.activePlayer.activeDecks).forEach((activeDeckName) => {\r\n        if (activeDeckName === stackElement.id) {\r\n          gameState.activePlayer.activeDecks[activeDeckName].cards.forEach((card) => {\r\n            const cardObj = getCardObject.byID(card);\r\n            const cardElement = getCardElement(cardObj);\r\n            cardElement.onclick = () => { //! TODO\r\n              console.log('DOGMA! :)');\r\n            };\r\n            renderCard.toActive(cardElement, gameState);\r\n            cardElement.classList.remove('xyz-in');\r\n          });\r\n        }\r\n      });\r\n    });\r\n  },\r\n\r\n  update() {\r\n    if (gameState.currentPlayer.actionPoints === 0) {\r\n      this.displayNextTurnBtn();\r\n    }\r\n\r\n    updateGameState(gameState);\r\n    header.changePlayerStats(gameState.currentPlayer);\r\n\r\n    document.querySelector('.info-table__player-name').innerText = gameState.currentPlayer.name;\r\n    document.querySelector('.info-table__action-points').innerText = gameState.currentPlayer.actionPoints;\r\n  },\r\n\r\n  init() {\r\n    const cardElements = document.querySelectorAll('.card');\r\n    cardElements.forEach((elem) => {\r\n      if (gameState.currentPlayer.hand.indexOf(elem.dataset.innovation) > -1) {\r\n        elem.onclick = this.playCard;\r\n      }\r\n    });\r\n    const activeDeckElements = document.querySelectorAll('.age-deck--active');\r\n    activeDeckElements.forEach((elem) => {\r\n      elem.onclick = this.takeCard;\r\n    });\r\n  },\r\n\r\n  takeCard(e) {\r\n    let sourceDeck = e.target.id;\r\n    if (sourceDeck === 'cloneCurrentDeck') { sourceDeck = gameState.currentPlayer.currentDeck; }\r\n\r\n    const movingCardInnovation = gameState.ageDecks[sourceDeck].pop();\r\n    gameState.currentPlayer.hand.push(movingCardInnovation);\r\n    const movingCardObj = getCardObject.byID(movingCardInnovation);\r\n    const movingCardElement = getCardElement(movingCardObj);\r\n    movingCardElement.onclick = gameBoard.playCard;\r\n    renderCard.toHand(movingCardElement, gameState);\r\n\r\n    gameState.currentPlayer.actionPoints -= 1;\r\n\r\n    gameBoard.update();\r\n  },\r\n\r\n  playCard(e) {\r\n    const playingCardInnovation = e.target.closest('.card').dataset.innovation;\r\n    const playingCardElement = e.target.closest('.card');\r\n    playingCardElement.onclick = null;\r\n\r\n    const playIndex = gameState.currentPlayer.hand.indexOf(playingCardInnovation);\r\n    gameState.currentPlayer.hand.splice(playIndex, 1);\r\n\r\n    const playingCardObj = getCardObject.byID(playingCardInnovation);\r\n\r\n    const targetDeckArray = gameState.currentPlayer.activeDecks[playingCardObj.color].cards;\r\n\r\n    targetDeckArray.push(playingCardInnovation);\r\n    playingCardElement.onclick = () => { //! TODO\r\n      console.log('DOGMA! :)');\r\n    };\r\n    renderCard.toActive(playingCardElement, gameState);\r\n\r\n    gameState.currentPlayer.actionPoints -= 1;\r\n\r\n    gameBoard.update();\r\n  },\r\n\r\n  displayNextTurnBtn() {\r\n    const nextTurnBtn = document.createElement('div');\r\n    nextTurnBtn.classList.add('info-table__next-turn-btn');\r\n    nextTurnBtn.innerText = 'Закончить ход';\r\n    nextTurnBtn.addEventListener('click', () => {\r\n      for (let i = 0; i < gameState.players.length; i += 1) {\r\n        if (gameState.currentPlayer === gameState.players[i]) {\r\n          i += 1;\r\n          if (i === gameState.players.length) i = 0;\r\n          gameState.currentPlayer = gameState.players[i];\r\n          gameState.activePlayer = gameState.currentPlayer;\r\n          gameState.currentPlayer.actionPoints = 2;\r\n          break;\r\n        }\r\n      }\r\n      displayNewTurnModal(gameState.currentPlayer.name);\r\n      setTimeout(() => {\r\n        gameBoard.display();\r\n        gameBoard.init();\r\n        const excistedNextTurnBtn = document.querySelector('.info-table__next-turn-btn');\r\n        excistedNextTurnBtn.remove();\r\n      }, 500);\r\n    });\r\n    const infoTable = document.querySelector('.info-table');\r\n    this.disableEvents();\r\n    infoTable.append(nextTurnBtn);\r\n  },\r\n\r\n  disableEvents() {\r\n    const cards = Array.from(document.querySelectorAll('.card'));\r\n    cards.forEach((card) => {\r\n      card.onclick = '';\r\n      card.style.cursor = 'default';\r\n      card.style.transform = 'none';\r\n    });\r\n    const cardDogms = Array.from(document.querySelectorAll('.card__dogma'));\r\n    cardDogms.forEach((cardDogma) => {\r\n      cardDogma.onclick = '';\r\n      cardDogma.style.cursor = 'default';\r\n      cardDogma.style.transform = 'none';\r\n    });\r\n    const decks = Array.from(document.querySelectorAll('.age-deck'));\r\n    decks.forEach((deck) => {\r\n      deck.onclick = '';\r\n      deck.classList.remove('age-deck--active');\r\n    });\r\n  },\r\n};\r\n\r\nexport default gameBoard;\r\n","export default function getCardElement(cardObj) {\r\n  // get card header\r\n  function getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  }\r\n  // get card body\r\n  function getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-type', item.type);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.icon[0], item.icon[1], 'card__icon', `card__icon-color--${item.color}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.effect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divMain.appendChild(divDogma);\r\n    });\r\n\r\n    return divMain;\r\n  }\r\n  // get card footer\r\n  function getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  }\r\n  // place age number and resourses by card position\r\n  function setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.position}`);\r\n      pos.classList.add(`${res.type[0]}`, `${res.type[1]}`,\r\n        `card__icon-color--${res.color}`, `card__icon-border--${card.color}`);\r\n    });\r\n  }\r\n\r\n  const divCard = document.createElement('div');\r\n  divCard.classList.add('card');\r\n  divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n  divCard.dataset.innovation = cardObj.innovation;\r\n\r\n  divCard.appendChild(getCardHeader(cardObj));\r\n  divCard.appendChild(getCardMain(cardObj));\r\n  divCard.appendChild(getCardFooter());\r\n  setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n  return divCard;\r\n}\r\n","import cardsJSON from '../cards/cards.json';\r\n\r\nconst getCardObject = {\r\n  all() {\r\n    const resultArr = [];\r\n    cardsJSON.forEach((setOfCards) => {\r\n      setOfCards.cards.forEach((card) => {\r\n        const cardObject = {};\r\n        Object.assign(cardObject, setOfCards, card);\r\n        delete cardObject.cards; // remove duplicated field\r\n        resultArr.push(cardObject);\r\n      });\r\n    });\r\n    return resultArr;\r\n  },\r\n\r\n  byID(id) {\r\n    const cardObject = {};\r\n    cardsJSON.forEach((setOfCards) => {\r\n      setOfCards.cards.forEach((card) => {\r\n        if (card.innovation === id) {\r\n          Object.assign(cardObject, setOfCards, card);\r\n          delete cardObject.cards; // remove duplicated field\r\n        }\r\n      });\r\n    });\r\n    return cardObject;\r\n  },\r\n};\r\n\r\nexport default getCardObject;\r\n","import gameState from './NEWgameState';\r\nimport getCardObject from './getCardObject';\r\nimport shuffleArr from './shuffleArr';\r\n\r\nexport default function initGameState(usersInfo) {\r\n  // fill age decks\r\n  const arrOfCardObjects = getCardObject.all();\r\n  arrOfCardObjects.forEach((cardObj) => {\r\n    switch (+cardObj.age) {\r\n      case 1:\r\n        gameState.ageDecks.age1.push(cardObj.innovation);\r\n        break;\r\n      case 2:\r\n        gameState.ageDecks.age2.push(cardObj.innovation);\r\n        break;\r\n      case 3:\r\n        gameState.ageDecks.age3.push(cardObj.innovation);\r\n        break;\r\n      case 4:\r\n        gameState.ageDecks.age4.push(cardObj.innovation);\r\n        break;\r\n      case 5:\r\n        gameState.ageDecks.age5.push(cardObj.innovation);\r\n        break;\r\n      case 6:\r\n        gameState.ageDecks.age6.push(cardObj.innovation);\r\n        break;\r\n      case 7:\r\n        gameState.ageDecks.age7.push(cardObj.innovation);\r\n        break;\r\n      case 8:\r\n        gameState.ageDecks.age8.push(cardObj.innovation);\r\n        break;\r\n      case 9:\r\n        gameState.ageDecks.age9.push(cardObj.innovation);\r\n        break;\r\n      case 10:\r\n        gameState.ageDecks.age10.push(cardObj.innovation);\r\n        break;\r\n      default:\r\n        throw new Error(`Wrong number on age field in ${cardObj}`);\r\n    }\r\n  });\r\n\r\n  // shuffle each age deck & fill leadership deck\r\n  Object.values(gameState.ageDecks).forEach((ageDeck, i) => {\r\n    gameState.ageDecks[`age${i + 1}`] = shuffleArr(ageDeck);\r\n    gameState.leadershipDeck.push(ageDeck.pop());\r\n  });\r\n\r\n  // set up players fields\r\n  for (let i = 0; i < usersInfo.players; i += 1) {\r\n    const player = `player${i}`;\r\n    gameState[player].name = usersInfo.names[i];\r\n    gameState.players.push(gameState[player]);\r\n  }\r\n  gameState.currentPlayer = gameState.players[0];\r\n  gameState.activePlayer = gameState.players[0];\r\n  gameState.currentPlayer.actionPoints = 2;\r\n}\r\n","export default function shuffleArr(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n  return array;\r\n}\r\n","import getCardObject from './getCardObject';\r\n\r\nexport default function updateGameState(gameState) {\r\n  // update resources for each player\r\n  gameState.players.forEach((player) => {\r\n    player.tree = 0;\r\n    player.tower = 0;\r\n    player.crown = 0;\r\n    player.bulb = 0;\r\n    player.factory = 0;\r\n    player.clock = 0;\r\n    Object.keys(player.activeDecks).forEach((stack) => {\r\n      const currentStack = player.activeDecks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n        const highestCard = getCardObject.byID(highestCardInnovation);\r\n        highestCard.resourses.forEach((e) => {\r\n          player[e.resourceName] += 1;\r\n        });\r\n      }\r\n    });\r\n  });\r\n\r\n  // update currentAge for each player\r\n  gameState.players.forEach((player) => {\r\n    player.currentAge = 1;\r\n    Object.keys(player.activeDecks).forEach((stack) => {\r\n      const currentStack = player.activeDecks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n        const highestCard = getCardObject.byID(highestCardInnovation);\r\n        if (highestCard.age > player.currentAge) { player.currentAge = highestCard.age; }\r\n      }\r\n    });\r\n  });\r\n\r\n  // update currentDeck for each player\r\n  gameState.players.forEach((player) => {\r\n    for (let i = player.currentAge; i < 11; i += 1) {\r\n      const deck = gameState.ageDecks[`age${i}`];\r\n      if (deck.length > 0) {\r\n        player.currentDeck = `age${i}`;\r\n        break;\r\n      }\r\n    }\r\n  });\r\n}\r\n","// import styles\r\nimport '../scss/style.scss';\r\nimport '@animxyz/core';\r\n\r\n// import js modules\r\nimport intro from './components/Intro';\r\nimport displayPlayerTable from './display/playerTable/displayPlayerTable';\r\nimport setHandControls from './utility/setHandControls';\r\nimport setAsideControls from './utility/setAsideControls';\r\n\r\n// display intro & menu\r\nintro.init();\r\n\r\n// display game UI\r\ndocument.body.prepend(displayPlayerTable.init());\r\n\r\n// add event listeners to hand controls\r\nsetHandControls();\r\n\r\n// add event listeners and animations to aside buttons\r\nsetAsideControls();\r\n","// take card object and return builded card DOM element\r\nconst getCard = {\r\n  // get playing card\r\n  frontSide(cardObj) {\r\n    const divCard = document.createElement('div');\r\n    divCard.classList.add('card');\r\n    divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n\r\n    divCard.appendChild(this.getCardHeader(cardObj));\r\n    divCard.appendChild(this.getCardMain(cardObj));\r\n    divCard.appendChild(this.getCardFooter());\r\n    this.setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n    return divCard;\r\n  },\r\n\r\n  // get card header\r\n  getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  },\r\n\r\n  // get card body\r\n  getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-type', item.type);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.icon[0], item.icon[1], 'card__icon', `card__icon-color--${item.color}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.effect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divMain.appendChild(divDogma);\r\n    });\r\n\r\n    return divMain;\r\n  },\r\n\r\n  // get card footer\r\n  getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  },\r\n\r\n  // place age number and resourses by card position\r\n  setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.position}`);\r\n      pos.classList.add(`${res.type[0]}`, `${res.type[1]}`,\r\n        `card__icon-color--${res.color}`, `card__icon-border--${card.color}`);\r\n    });\r\n  },\r\n};\r\n\r\nexport default getCard;\r\n","// get JSON and return array of card objects\r\nexport default function parseCards(cardsJSON) {\r\n  const resultArr = [];\r\n\r\n  cardsJSON.forEach((setOfCards) => {\r\n    setOfCards.cards.forEach((card) => {\r\n      const cardObject = {};\r\n      Object.assign(cardObject, setOfCards, card);\r\n      delete cardObject.cards; // remove duplicated field\r\n      resultArr.push(cardObject);\r\n    });\r\n  });\r\n\r\n  return resultArr;\r\n}\r\n","function getRenderCard() {\r\n  let hand = null;\r\n  let activeStacks = null;\r\n\r\n  const renderCard = {\r\n    initObject() {\r\n      hand = document.querySelector('.hand__cards');\r\n      activeStacks = document.querySelectorAll('.active-zone__stack');\r\n    },\r\n\r\n    toHand(cardElement) {\r\n      if (hand === null || activeStacks === null) this.initObject();\r\n      cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n      cardElement.classList.add('xyz-in');\r\n      setTimeout(() => {\r\n        cardElement.classList.remove('xyz-in');\r\n      }, 450);\r\n      hand.append(cardElement);\r\n    },\r\n\r\n    toActive(cardElement, gameState) {\r\n      if (hand === null || activeStacks === null) this.initObject();\r\n\r\n      // get properties of target stack to calcualte later\r\n      const targetStack = {};\r\n      activeStacks.forEach((stack) => {\r\n        if (cardElement.children[0].classList.contains(`card__color--${stack.id}`)) {\r\n          stack.classList.remove('active-zone__stack--empty');\r\n          targetStack.dom = stack;\r\n          stack.style.width = null;\r\n          targetStack.width = stack.offsetWidth;\r\n          targetStack.height = stack.offsetHeight;\r\n          targetStack.shift = gameState.activePlayer.activeDecks[targetStack.dom.id].shift;\r\n          targetStack.length = gameState.activePlayer.activeDecks[targetStack.dom.id].cards.length;\r\n        }\r\n      });\r\n\r\n      cardElement.style.position = 'absolute';\r\n      cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n      cardElement.classList.add('xyz-in');\r\n\r\n      const cardHeight = cardElement.offsetHeight;\r\n      let cardShiftValue = 40;\r\n\r\n      switch (targetStack.shift) {\r\n        case 'top':\r\n          while (targetStack.height < cardHeight + (targetStack.length * cardShiftValue)\r\n            && cardShiftValue !== 10) {\r\n            cardShiftValue -= 10;\r\n          }\r\n          Array.from(targetStack.dom.children).forEach((card, i) => {\r\n            card.style.bottom = `${i * cardShiftValue}px`;\r\n          });\r\n          if (targetStack.length !== 1) cardElement.style.bottom = `${(targetStack.length - 1) * cardShiftValue}px`;\r\n          break;\r\n\r\n        case 'left':\r\n          while (targetStack.dom.parentElement.offsetWidth / 2.5 < targetStack.width\r\n            + (targetStack.length * cardShiftValue)\r\n            && cardShiftValue !== 10) {\r\n            cardShiftValue -= 10;\r\n          }\r\n          Array.from(targetStack.dom.children).forEach((card, i) => {\r\n            card.style.right = `${i * cardShiftValue}px`;\r\n          });\r\n          cardElement.style.right = `${targetStack.length * cardShiftValue}px`;\r\n          if (targetStack.length !== 0) {\r\n            targetStack.dom.style.width = `${targetStack.width + cardShiftValue * targetStack.length}px`;\r\n          }\r\n          break;\r\n\r\n        case 'right':\r\n          while (targetStack.dom.parentElement.offsetWidth / 2.5 < targetStack.width\r\n            + (targetStack.length * cardShiftValue)\r\n            && cardShiftValue !== 10) {\r\n            cardShiftValue -= 10;\r\n          }\r\n          Array.from(targetStack.dom.children).forEach((card, i) => {\r\n            card.style.left = `${i * cardShiftValue}px`;\r\n          });\r\n          cardElement.style.left = `${targetStack.length * cardShiftValue}px`;\r\n          if (targetStack.length !== 0) {\r\n            targetStack.dom.style.width = `${targetStack.width + cardShiftValue * targetStack.length}px`;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n      targetStack.dom.append(cardElement);\r\n      targetStack.dom.scrollIntoView();\r\n    },\r\n\r\n  };\r\n  return renderCard;\r\n}\r\n\r\nconst renderCard = getRenderCard();\r\n\r\nexport default renderCard;\r\n","/*\r\n* all game action happens here\r\n* take gameUI obj which contains all dom elements\r\n* take gameField obj which contains all cards avaiable for all players (ages/leadership/special)\r\n* take players objects which contains all cards avaible for players (hand/table/lead/influence)\r\n* count avaible actions per turn, reduce on each action\r\n* when avaible ections ends - turn passed to next player\r\n*/\r\n// import header from '../display/playerTable/displayHeader';\r\n// import displayNewTurnModal from '../display/displayNewTurnModal';\r\n// import displayNextTurnBtn from '../NEW/displayNextTurnBtn';\r\n// import gameState from './gameState';\r\n// import getCardObject from '../OLD/getCardObject';\r\n// import getCardElement from '../utility/getCardElement';\r\n\r\n//! ! TEST\r\nimport renderCard from '../cards/renderCard';\r\nimport getCard from '../cards/getCard';\r\n\r\nexport default class Game {\r\n  constructor(gameUI, gameField, players, arrOfCards) {\r\n    // store passed objects\r\n    this.players = players;\r\n    this.gameField = gameField;\r\n    this.gameUI = gameUI;\r\n\r\n    // initialize game field in players objects\r\n    this.players.forEach((player) => {\r\n      player.game = this;\r\n    });\r\n\r\n    // set default values\r\n    this.currentPlayer = null;\r\n    this.currentDeck = {\r\n      domElement: gameUI.ageDecks.age1,\r\n      cardsArray: gameField.ageDecks.age1,\r\n    };\r\n    this.turnPoints = 0;\r\n    this.arrOfCards = arrOfCards;\r\n    // this.initGameState(players, this.arrOfCards);\r\n    header.initPlayerNames(players);\r\n    // test\r\n    /* this.testCardObj = getCardObject('колесо', arrOfCards);\r\n    console.log(this.testCardObj);\r\n    this.testCardDOM = getCardElement(this.testCardObj);\r\n    console.log(this.testCardDOM); */\r\n  }\r\n\r\n  init() {\r\n    const cardElements = document.querySelectorAll('.card');\r\n    cardElements.forEach((elem) => {\r\n      if (gameState.currentPlayer.hand.indexOf(elem.dataset.innovation) > -1) {\r\n        elem.onclick = this.playCard;\r\n      }\r\n    });\r\n    const activeDeckElements = document.querySelectorAll('.age-deck--active');\r\n    activeDeckElements.forEach((elem) => {\r\n      elem.onclick = this.takeCard;\r\n    });\r\n  }\r\n\r\n  initGameState(players, arrOfCards) {\r\n    arrOfCards.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          gameState.ageDecks.age1.push(e.innovation);\r\n          break;\r\n        case 2:\r\n          gameState.ageDecks.age2.push(e.innovation);\r\n          break;\r\n        case 3:\r\n          gameState.ageDecks.age3.push(e.innovation);\r\n          break;\r\n        case 4:\r\n          gameState.ageDecks.age4.push(e.innovation);\r\n          break;\r\n        case 5:\r\n          gameState.ageDecks.age5.push(e.innovation);\r\n          break;\r\n        case 6:\r\n          gameState.ageDecks.age6.push(e.innovation);\r\n          break;\r\n        case 7:\r\n          gameState.ageDecks.age7.push(e.innovation);\r\n          break;\r\n        case 8:\r\n          gameState.ageDecks.age8.push(e.innovation);\r\n          break;\r\n        case 9:\r\n          gameState.ageDecks.age9.push(e.innovation);\r\n          break;\r\n        case 10:\r\n          gameState.ageDecks.age10.push(e.innovation);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n    for (let i = 0; i < players.length; i += 1) {\r\n      const player = `player${i}`;\r\n      gameState[player].name = players[i].name;\r\n      gameState.players.push(gameState[player]);\r\n    }\r\n    gameState.currentPlayer = gameState.players[0];\r\n    gameState.currentPlayer.actionPoints = 2;\r\n    gameState.activePlayer = gameState.players[0];\r\n  }\r\n\r\n  newTurn() {\r\n    this.setCurrentPlayer();\r\n    displayNewTurnModal(this.currentPlayer.name);\r\n    this.turnPoints = 100;\r\n    // timeout to display modal\r\n    setTimeout(() => {\r\n      this.removeActiveDeck();\r\n      this.setActiveDeck(this.currentPlayer);\r\n      this.currentPlayer.renderHand();\r\n      this.currentPlayer.renderActiveZone();\r\n      this.updateInfoTable();\r\n    }, 450);\r\n  }\r\n\r\n  // use this after each action\r\n  actionDone() {\r\n    this.turnPoints -= 1;\r\n    this.updateInfoTable();\r\n    this.removeActiveDeck();\r\n    if (this.turnPoints > 0) {\r\n      this.setActiveDeck(this.currentPlayer);\r\n    } else {\r\n      this.disableHandEvents();\r\n      displayNextTurnBtn(this.newTurn.bind(this));\r\n    }\r\n  }\r\n\r\n  // set current players depends on previous player\r\n  setCurrentPlayer() {\r\n    if (this.currentPlayer === null) {\r\n      this.currentPlayer = this.players[0];\r\n    } else {\r\n      for (let i = 0; i < this.players.length; i += 1) {\r\n        if (this.currentPlayer === this.players[i]) {\r\n          i += 1;\r\n          if (i === this.players.length) i = 0;\r\n          this.currentPlayer = this.players[i];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // set active deck for current player\r\n  setActiveDeck(currentPlayer) {\r\n    Object.keys(this.gameField.ageDecks).forEach((ageDeckKey) => {\r\n      if (ageDeckKey === `age${currentPlayer.currentAge}`) {\r\n        // store active deck dom element\r\n        this.currentDeck.domElement = this.gameUI.ageDecks[`age${currentPlayer.currentAge}`];\r\n        // store active deck cards array\r\n        this.currentDeck.cardsArray = this.gameField.ageDecks[ageDeckKey];\r\n        //! Change current players currentAge if needed deck empty to go for the next deck\r\n        //! Need recalcualte current age after each action, done by players method setCurrentAge\r\n        if (this.currentDeck.cardsArray.length === 0) {\r\n          this.currentPlayer.currentAge += 1;\r\n        }\r\n      }\r\n    });\r\n    // set style and event listener of active deck when all calculations finished\r\n    this.currentDeck.domElement.classList.add('age-deck--active');\r\n    //! USED onclick because got bug with AddEvenListener - cant remove listener\r\n    this.currentDeck.domElement.onclick = this.takeCard.bind(this);\r\n\r\n    // update current active deck displayed in aside\r\n    this.updateCurrentDeckBlock();\r\n  }\r\n\r\n  // remove active deck class and eventlistener\r\n  //! should use before each setActiveDeck method\r\n  removeActiveDeck() {\r\n    const cloneCurrentDeck = document.querySelector('#cloneCurrentDeck');\r\n    if (cloneCurrentDeck !== null) cloneCurrentDeck.onclick = '';\r\n\r\n    this.currentDeck.domElement.classList.remove('age-deck--active');\r\n    this.currentDeck.domElement.onclick = '';\r\n  }\r\n\r\n  disableHandEvents() {\r\n    const cards = Array.from(document.querySelectorAll('.card'));\r\n    cards.forEach((card) => {\r\n      card.onclick = '';\r\n    });\r\n  }\r\n\r\n  // get card and render it in hand\r\n  takeCard(e) {\r\n    /* const cardObject = this.currentDeck.cardsArray.pop();\r\n    this.currentPlayer.hand.push(cardObject);\r\n\r\n    const cardElement = getCard.frontSide(cardObject);\r\n\r\n    cardElement.onclick = () => { this.currentPlayer.playCard(cardObject, cardElement); }; //! TEMP\r\n\r\n    renderCard.toHand(cardElement); */\r\n    let sourceDeck = e.target.id;\r\n    if (sourceDeck === 'cloneCurrentDeck') { sourceDeck = gameState.currentPlayer.currentDeck; }\r\n    const movingCardInnovation = gameState.ageDecks[sourceDeck].pop();\r\n    gameState.currentPlayer.hand.push(movingCardInnovation);\r\n    gameState.currentPlayer.actionPoints -= 1;\r\n    const movingCardObj = getCardObject(movingCardInnovation, this.arrOfCards);\r\n    const movingCardElement = getCardElement(movingCardObj);\r\n    movingCardElement.onclick = this.playCard.bind(this);\r\n    renderCard.toHand(movingCardElement);\r\n\r\n    // gameState.currentPlayer.setCurrentAge();\r\n    this.updateGameState();\r\n    header.changePlayerStats(gameState.currentPlayer);\r\n    this.actionDone();\r\n  }\r\n\r\n  playCard(e) {\r\n    const playingCardInnovation = e.target.closest('.card').dataset.innovation;\r\n    const playingCardElement = e.target.closest('.card');\r\n    playingCardElement.onclick = null;\r\n    const playIndex = gameState.currentPlayer.hand.indexOf(playingCardInnovation);\r\n    gameState.currentPlayer.hand.splice(playIndex, 1);\r\n    const playingCardObj = getCardObject(playingCardInnovation, this.arrOfCards);\r\n    const targetDeckArray = gameState.currentPlayer.activeDecks[playingCardObj.color].cards;\r\n    renderCard.toActive(playingCardElement); //! before targetDeckArray.push(playingCardInnovation);\r\n    targetDeckArray.push(playingCardInnovation);\r\n    gameState.currentPlayer.actionPoints -= 1;\r\n    this.updateGameState();\r\n    header.changePlayerStats(gameState.currentPlayer);\r\n  }\r\n\r\n  // update info table in aside, use after each action done in newTurn method\r\n  updateInfoTable() {\r\n    this.gameUI.infoTable.name.innerText = this.currentPlayer.name;\r\n    this.gameUI.infoTable.actionPoints.innerText = this.turnPoints;\r\n  }\r\n\r\n  // update current active deck displayed in aside, use after each time when setActiveDeck run\r\n  updateCurrentDeckBlock() {\r\n    // remove previous active deck if exists\r\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\r\n    if (prevDeckClone !== null) prevDeckClone.remove();\r\n\r\n    // clone current active deck\r\n    const cloneCurrentDeck = this.currentDeck.domElement.cloneNode();\r\n    cloneCurrentDeck.innerText = this.currentDeck.domElement.innerText;\r\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\r\n    cloneCurrentDeck.onclick = this.takeCard.bind(this);\r\n\r\n    // remove animation on each update of aside current deck\r\n    cloneCurrentDeck.classList.remove('xyz-in');\r\n\r\n    // display cloned deck in currentDeck block\r\n    this.gameUI.currentDeck.append(cloneCurrentDeck);\r\n  }\r\n\r\n  updateGameState() {\r\n    // update resources for each player\r\n    gameState.players.forEach((player) => {\r\n      player.tree = 0;\r\n      player.tower = 0;\r\n      player.crown = 0;\r\n      player.bulb = 0;\r\n      player.factory = 0;\r\n      player.clock = 0;\r\n      Object.keys(player.activeDecks).forEach((stack) => {\r\n        const currentStack = player.activeDecks[stack];\r\n        if (currentStack.cards.length > 0) {\r\n          const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n          const highestCard = getCardObject(highestCardInnovation, this.arrOfCards);\r\n          highestCard.resourses.forEach((e) => {\r\n            player[e.resourceName] += 1;\r\n          });\r\n        }\r\n      });\r\n    });\r\n\r\n    // update currentAge for each player\r\n    gameState.players.forEach((player) => {\r\n      player.currentAge = 1;\r\n      Object.keys(player.activeDecks).forEach((stack) => {\r\n        const currentStack = player.activeDecks[stack];\r\n        if (currentStack.cards.length > 0) {\r\n          const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n          const highestCard = getCardObject(highestCardInnovation, this.arrOfCards);\r\n          if (highestCard.age > player.currentAge) { player.currentAge = highestCard.age; }\r\n        }\r\n      });\r\n    });\r\n\r\n    // update currentDeck for each player\r\n    gameState.players.forEach((player) => {\r\n      for (let i = player.currentAge; i < 11; i += 1) {\r\n        const deck = gameState.ageDecks[`age${i}`];\r\n        if (deck.length > 0) {\r\n          player.currentDeck = `age${i}`;\r\n          break;\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n","/*\r\n* take cards objects and sort them to separate decks\r\n* store all cards avaible for all players (ages/leadership/special)\r\n* store cards as objects\r\n* this object passed as argument to Game constructor\r\n*/\r\nexport default class GameField {\r\n  constructor(arrOfCardObjects) {\r\n    // create empty decks for each age\r\n    this.ageDecks = {\r\n      age1: [],\r\n      age2: [],\r\n      age3: [],\r\n      age4: [],\r\n      age5: [],\r\n      age6: [],\r\n      age7: [],\r\n      age8: [],\r\n      age9: [],\r\n      age10: [],\r\n    };\r\n\r\n    // TODO leadership later\r\n    // create empty leadership deck\r\n    this.leadershipDeck = [];\r\n    // TODO special deck later\r\n    // create empty special deck\r\n    this.specialDeck = [];\r\n\r\n    // fill age decks with card objects\r\n    this.setDeckArrays(arrOfCardObjects);\r\n  }\r\n\r\n  // TODO add shuffle later\r\n  // fill deck arays depends on card age field\r\n  setDeckArrays(cardsObj) {\r\n    cardsObj.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          this.ageDecks.age1.push(e);\r\n          break;\r\n        case 2:\r\n          this.ageDecks.age2.push(e);\r\n          break;\r\n        case 3:\r\n          this.ageDecks.age3.push(e);\r\n          break;\r\n        case 4:\r\n          this.ageDecks.age4.push(e);\r\n          break;\r\n        case 5:\r\n          this.ageDecks.age5.push(e);\r\n          break;\r\n        case 6:\r\n          this.ageDecks.age6.push(e);\r\n          break;\r\n        case 7:\r\n          this.ageDecks.age7.push(e);\r\n          break;\r\n        case 8:\r\n          this.ageDecks.age8.push(e);\r\n          break;\r\n        case 9:\r\n          this.ageDecks.age9.push(e);\r\n          break;\r\n        case 10:\r\n          this.ageDecks.age10.push(e);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n  }\r\n}\r\n","/*\r\n* store all game UI dom elements\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class GameUI {\r\n  constructor() {\r\n    this.ageDecks = {};\r\n    this.getAgeDecks();\r\n\r\n    this.activeStacks = {};\r\n    this.getActiveStacks();\r\n\r\n    this.infoTable = {};\r\n    this.getInfoTable();\r\n\r\n    this.currentDeck = document.querySelector('.current-deck__cards');\r\n    this.hand = document.querySelector('.hand__cards');\r\n  }\r\n\r\n  getAgeDecks() {\r\n    const ageDecksElements = Array.from(document.getElementsByClassName('age-deck'));\r\n    ageDecksElements.forEach((ageDeck, i) => {\r\n      this.ageDecks[`age${i + 1}`] = ageDecksElements[i];\r\n    });\r\n  }\r\n\r\n  getActiveStacks() {\r\n    const activeStacksElements = Array.from(document.getElementsByClassName('active-zone__stack'));\r\n    activeStacksElements.forEach((activeStack) => {\r\n      this.activeStacks[activeStack.id] = activeStack;\r\n    });\r\n  }\r\n\r\n  getInfoTable() {\r\n    const currentPlayerNameBlock = document.querySelector('.info-table__player-name');\r\n    this.infoTable.name = currentPlayerNameBlock;\r\n    const currentPlayerActionPoints = document.querySelector('.info-table__action-points');\r\n    this.infoTable.actionPoints = currentPlayerActionPoints;\r\n  }\r\n}\r\n","import Menu from './mainMenu';\r\n\r\nconst intro = {\r\n  init() {\r\n    const divIntro = document.createElement('div');\r\n    divIntro.classList.add('intro');\r\n\r\n    const introContainer = document.createElement('div');\r\n    introContainer.classList.add('intro__container');\r\n\r\n    const introTop = document.createElement('div');\r\n    introTop.classList.add('intro__top');\r\n\r\n    // svg title letters - I n n o v a t i o n\r\n    const introCenter = document.createElement('div');\r\n    introCenter.classList.add('intro__center');\r\n    introCenter.innerHTML = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\nwidth=\"500px\" height=\"120px\" viewBox=\"0 0 500 120\" enable-background=\"new 0 0 500 120\" xml:space=\"preserve\">\r\n<path class=\"letter-1\" d=\"M27.346,80.317c3.604,1.819,7.755,0.485,7.755,2.67c0,0.728-0.656,1.334-2.075,1.334c-0.983,0-6.117-0.606-15.292-0.606\r\nS3.536,84.321,2.553,84.321c-1.42,0-2.184-0.606-2.184-1.334c0-2.185,4.259-0.851,7.863-2.67c3.386-1.698,3.932-4.49,3.932-9.829\r\nv-54.61c0-5.218-0.546-8.01-3.604-9.587C5.721,4.835,0.369,5.685,0.369,3.985c0-0.728,1.857-1.213,3.167-1.213\r\nc1.202,0,5.898,0.485,14.199,0.485c8.628,0,13.544-0.485,14.417-0.485c1.201,0,2.949,0.364,2.949,1.092\r\nc0,1.457-3.604,0.971-7.208,2.063s-4.478,4.125-4.478,9.951v54.61C23.415,75.949,24.07,78.739,27.346,80.317z\"/>\r\n<path class=\"letter-2\" d=\"M49.627,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.242-0.354-5.242-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.075,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.375,0,16.165,5.674,16.165,15.724v27.546c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.419,0-5.133-0.709-11.031-0.709c-5.898,0-9.502,0.709-10.922,0.709\r\nc-1.092,0-1.748-0.473-1.748-1.3c0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994\r\nc0-8.394-3.386-12.532-10.267-12.532c-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.84,1.419,5.243,0.709,5.243,2.6c0,0.592-0.655,1.064-1.748,1.064c-1.42,0-5.024-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.092,0-1.638-0.473-1.638-1.3c0-1.655,2.512-1.064,5.242-2.364\r\nc2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-3\" d=\"M116.135,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.076-1.183-5.243-0.354-5.243-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.076,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.376,0,16.165,5.674,16.165,15.724v62.068c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.42,0-5.134-0.709-11.032-0.709s-9.501,0.709-10.921,0.709c-1.092,0-1.748-0.473-1.748-1.3\r\nc0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994c0-8.394-3.386-12.532-10.267-12.532\r\nc-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.11,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.655,1.064-1.748,1.064c-1.419,0-5.024-0.709-10.922-0.709s-9.611,0.709-11.032,0.709c-1.092,0-1.638-0.473-1.638-1.3\r\nc0-1.655,2.513-1.064,5.243-2.364c2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-4\" d=\"M189.871,31.561c6.881,0,12.779,2.72,17.584,7.803c5.025,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.073,0-26.322-11.467-26.322-27.545C163.22,43.383,175.016,31.561,189.871,31.561z\r\n  M188.996,84.171c10.267,0,15.728-8.631,15.728-25.417c0-16.197-6.007-24.946-15.728-24.946c-8.737,0-15.181,9.339-15.181,25.418\r\nC173.815,75.305,179.385,84.171,188.996,84.171z\"/>\r\n<path class=\"letter-5\" d=\"M254.752,48.939c0-5.218-6.116-3.761-6.116-5.825c0-0.85,0.437-1.092,1.638-1.092c1.53,0,3.715,0.486,6.443,0.486\r\nc2.841,0,4.807-0.364,6.008-0.364c1.311,0,1.967,0.364,1.967,1.092c0,1.214-1.748,0.971-3.277,2.427\r\nc-1.747,1.699-3.387,5.583-5.68,11.892l-12.125,26.524c-0.438,1.214-0.983,1.699-1.857,1.699c-1.748,0-1.857-1.821-3.167-5.34\r\nl-20.852-51.993c-1.201-3.034-2.402-4.976-3.386-5.461c-3.058-1.456-4.697-0.849-4.697-2.548c0-0.85,0.656-1.092,1.857-1.092\r\nc2.075,0,5.679,0.485,11.031,0.485c4.37,0,7.209-0.364,8.52-0.364c1.529,0,2.293,0.243,2.293,1.092c0,1.335-1.856,0.971-4.15,1.578\r\nc-1.529,0.364-2.403,1.457-2.403,3.156c0,1.456,6.434,15.95,8.291,20.683l10.267,26.333\r\nC252.346,52.285,254.752,52.217,254.752,48.939z\"/>\r\n<path class=\"letter-6\" d=\"M269.073,82.822c-6.989,0-11.14-4.368-11.14-11.043c0-10.316,9.938-15.655,30.146-23.786v-9.587\r\nc0-6.433-3.276-9.466-10.486-9.466c-5.461,0-8.956,2.184-9.393,5.825c-0.547,3.883-0.982,6.311-4.696,6.311\r\nc-2.293,0-3.823-1.82-3.823-4.49c0-5.34,6.553-10.073,18.896-10.073c12.779,0,18.786,4.369,18.786,13.956v30.825\r\nc0,4.246,1.311,6.553,3.605,6.553c2.074,0,3.385-2.307,4.477-2.307c0.654,0,0.983,0.364,0.983,1.093c0,2.063-3.933,6.31-8.847,6.31\r\nc-5.134,0-8.848-3.276-9.83-8.494C282.509,79.91,275.845,82.822,269.073,82.822z M268.091,69.23c0,5.581,2.839,8.979,7.318,8.979\r\nc5.68,0,12.67-5.097,12.67-10.557V50.663C274.534,56.488,268.091,61.706,268.091,69.23z\"/>\r\n<path class=\"letter-7\" d=\"M315.265,36.43c-1.421,0-2.076-0.349-2.076-1.047c0-1.163,3.277-2.327,7.319-6.981c4.478-5.12,5.132-8.726,6.333-8.726\r\nc0.765,0,0.983,0.465,0.983,1.629V32.94h10.049c2.185,0,3.167,0.116,3.167,1.746c0,1.28-0.982,1.744-3.275,1.744h-9.831v35.022\r\nc0,7.098,1.966,10.471,6.99,10.471c5.134,0,6.444-5.584,8.192-5.584c0.655,0,1.31,0.698,1.31,1.628\r\nc0,2.909-5.024,7.446-13.106,7.446c-9.829,0-12.67-4.537-12.67-14.543V36.43H315.265z\"/>\r\n<path class=\"letter-8\" d=\"M352.395,36.349c-2.402-0.931-5.461,0.117-5.461-1.397c0-1.28,1.528-1.164,4.479-1.862\r\nc6.772-1.514,10.485-3.608,11.469-3.608c0.873,0,1.201,0.583,1.201,1.746v41.436c0,3.839,0.109,5.47,2.622,6.634\r\nc2.838,1.396,5.241,0.699,5.241,2.56c0,0.582-0.655,1.048-1.748,1.048c-1.31,0-4.913-0.699-10.921-0.699s-9.722,0.699-11.032,0.699\r\nc-1.092,0-1.638-0.466-1.638-1.048c0-1.86,2.402-1.163,5.242-2.56c2.402-1.164,2.621-2.677,2.621-6.634V41.004\r\nC354.47,38.211,354.142,37.047,352.395,36.349z M358.185-0.314c3.057,0,5.569,2.677,5.569,6.052c0,3.259-2.403,5.936-5.569,5.936\r\nc-3.168,0-5.68-2.677-5.68-5.936C352.505,2.363,355.017-0.314,358.185-0.314z\"/>\r\n<path class=\"letter-9\" d=\"M406.231,31.561c6.881,0,12.779,2.72,17.585,7.803c5.023,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.072,0-26.321-11.467-26.321-27.545C379.582,43.383,391.378,31.561,406.231,31.561z\r\n  M405.358,84.171c10.267,0,15.727-8.631,15.727-25.417c0-16.197-6.007-24.946-15.727-24.946c-8.738,0-15.182,9.339-15.182,25.418\r\nC390.177,75.305,395.747,84.171,405.358,84.171z\"/>\r\n<path class=\"letter-10\" d=\"M449.253,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.243-0.354-5.243-1.892c0-1.064,1.64-1.3,4.261-1.892\r\nc5.788-1.3,9.064-3.191,10.156-3.191c2.076,0,1.856,3.31,2.513,11.585c4.26-7.447,10.158-11.231,18.021-11.231\r\nc10.378,0,16.166,5.674,16.166,15.724v27.546c0,3.901,0.108,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.547,1.064-1.639,1.064c-1.421,0-5.133-0.709-11.03-0.709c-5.898,0-9.503,0.709-10.923,0.709\r\nc-1.093,0-1.747-0.473-1.747-1.3c0-1.655,2.511-1.064,5.242-2.364c2.512-1.183,2.621-2.839,2.621-6.74V47.994\r\nc0-8.394-3.386-12.532-10.266-12.532c-7.428,0-13.764,7.094-13.764,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.841,1.419,5.244,0.709,5.244,2.6c0,0.592-0.656,1.064-1.748,1.064c-1.421,0-5.025-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.093,0-1.64-0.473-1.64-1.3c0-1.655,2.513-1.064,5.243-2.364\r\nc2.513-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<defs>\r\n    <filter id=\"mySVGfilter\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\"/>\r\n    </filter>\r\n</defs>\r\n</svg>`;\r\n\r\n    const introCenterTitle = document.createElement('div');\r\n    introCenterTitle.classList.add('center__title');\r\n    introCenter.appendChild(introCenterTitle);\r\n\r\n    const introBottom = document.createElement('div');\r\n    introBottom.classList.add('intro__bottom');\r\n    const introBottomLamps = document.createElement('div');\r\n    introBottomLamps.classList.add('bottom__lamp');\r\n    for (let i = 0; i < 3; i += 1) {\r\n      const introBottomLamp = document.createElement('div');\r\n      introBottomLamp.classList.add(`bottom__lamp--${i + 1}`);\r\n      introBottomLamps.appendChild(introBottomLamp);\r\n    }\r\n    introBottom.appendChild(introBottomLamps);\r\n\r\n    const introGear = document.createElement('div');\r\n    introGear.classList.add('intro__gear');\r\n    const introGear1 = document.createElement('div');\r\n    introGear1.classList.add('intro__gear1');\r\n    const introGear2 = document.createElement('div');\r\n    introGear2.classList.add('intro__gear2');\r\n    introGear.appendChild(introGear1);\r\n    introGear.appendChild(introGear2);\r\n\r\n    introContainer.appendChild(introTop);\r\n    introContainer.appendChild(introCenter);\r\n    introContainer.appendChild(introBottom);\r\n    introContainer.appendChild(introGear);\r\n    divIntro.appendChild(introContainer);\r\n    document.body.appendChild(divIntro);\r\n\r\n    const img = new Image();\r\n    img.src = './assets/img/intro/center.png';\r\n\r\n    img.addEventListener('load', () => {\r\n      introBottom.classList.add('show');\r\n      // set up and display main menu\r\n      const menu = new Menu(introTop);\r\n      menu.render();\r\n    });\r\n\r\n    divIntro.addEventListener('click', (event) => {\r\n      const menu = document.querySelector('.menu');\r\n      if (event.target.closest('.intro') === divIntro) {\r\n        menu.classList.add('menu__skip');\r\n        introCenter.classList.add('intro__skip');\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default intro;\r\n","import getCard from '../cards/getCard';\r\nimport renderCard from '../cards/renderCard';\r\nimport header from '../display/playerTable/displayHeader';\r\nimport gameState from './gameState';\r\n\r\n/*\r\n* store all player cards objects (hand/table/lead/influence)\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class Player {\r\n  constructor(gameUI, playerName, id) {\r\n    // store passed values\r\n    this.name = playerName;\r\n    this.id = id;\r\n    this.gameUI = gameUI;\r\n\r\n    // set default values\r\n    this.game = null; //! this field will be set at game object initialization\r\n    this.currentAge = 1;\r\n    this.hand = [];\r\n\r\n    //! Names of stacks are color field in card objects\r\n    this.activeStacks = {\r\n      blue: {\r\n        cards: [],\r\n        shift: 'right', //! TEST\r\n      },\r\n      red: {\r\n        cards: [],\r\n        shift: 'top', //! TEST\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null, //! TEST\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: 'left', //! TEST\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: 'top', //! TEST\r\n      },\r\n    };\r\n\r\n    // Resources\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n\r\n    // player leadership and influence objects\r\n    // TODO LATER\r\n    this.ownedLeadership = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n    // TODO LATER\r\n    this.influence = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n  }\r\n\r\n  // calculate current recourses\r\n  calculateResources() {\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      const currentStack = this.activeStacks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCard = currentStack.cards[currentStack.cards.length - 1];\r\n        highestCard.resourses.forEach((e) => {\r\n          this[e.resourceName] += 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // calculate and set current age, iterates througth each stack\r\n  //! Runs from Game each time when card taken\r\n  setCurrentAge() {\r\n    // console.log(this);\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      this.activeStacks[stack].cards.forEach((card) => {\r\n        if (+card.age > this.currentAge) {\r\n          this.currentAge = +card.age;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // render last taken card in hand of current player\r\n  renderLastTakenCard() {\r\n    const lastTakenCard = this.hand[this.hand.length - 1];\r\n    const cardElement = getCard.frontSide(lastTakenCard);\r\n\r\n    // add animation when card render to hand\r\n    cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n    cardElement.classList.add('xyz-in');\r\n\r\n    cardElement.onclick = () => { this.playCard(lastTakenCard, cardElement); };\r\n    this.gameUI.hand.append(cardElement);\r\n\r\n    // remove animation when card rendered\r\n    setTimeout(() => {\r\n      // cardElement.removeAttribute('xyz');\r\n      cardElement.classList.remove('xyz-in');\r\n    }, 450);\r\n  }\r\n\r\n  // render all cards in hand of current player\r\n  renderHand() {\r\n    this.gameUI.hand.innerHTML = ''; // clear previous rendered hand\r\n\r\n    this.hand.forEach((card) => {\r\n      const cardElement = getCard.frontSide(card);\r\n      cardElement.onclick = () => {\r\n        this.playCard(card, cardElement);\r\n      };\r\n      this.gameUI.hand.append(cardElement);\r\n    });\r\n  }\r\n\r\n  // render all cards in active zone of current player\r\n  renderActiveZone() {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      this.gameUI.activeStacks[stackName].innerHTML = ''; // clear previous rendered active zone\r\n      this.activeStacks[stackName].cards.forEach((card) => {\r\n        this.gameUI.activeStacks[stackName].append(getCard.frontSide(card));\r\n      });\r\n    });\r\n  }\r\n\r\n  // on click event for cards in hand. Play card in stack depends on category\r\n  // TODO: later this method should add dogma function to each played card\r\n  playCard(cardObj, cardElement) {\r\n    renderCard.toActive(cardElement);\r\n\r\n    // test block, emulate adding card to active zone\r\n    const test = cardElement.parentElement.id;\r\n    gameState.activePlayer.activeDecks[test].cards.push(1);\r\n    this.calculateResources();\r\n    header.changePlayerStats(this);\r\n    this.game.actionDone();\r\n  }\r\n}\r\n","const gameState = {\r\n  ageDecks: {\r\n    age1: [],\r\n    age2: [],\r\n    age3: [],\r\n    age4: [],\r\n    age5: [],\r\n    age6: [],\r\n    age7: [],\r\n    age8: [],\r\n    age9: [],\r\n    age10: [],\r\n  },\r\n  leadershipDeck: [],\r\n  specialDeck: [],\r\n  players: [],\r\n  currentPlayer: null,\r\n  activePlayer: null,\r\n  player0: {\r\n    name: null,\r\n    id: 0,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    currentDeck: 'age1',\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: 'right', //! test\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: 'left', //! test\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player1: {\r\n    name: null,\r\n    id: 1,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player2: {\r\n    name: null,\r\n    id: 2,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player3: {\r\n    name: null,\r\n    id: 3,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n};\r\n\r\nexport default gameState;\r\n","import initHotSeatGame from '../utility/initHotSeatGame';\r\nimport NEWinitHotSeatGame from '../NEW/NEWinitHotSeatGame';\r\nimport displayNewTurnModal from '../NEW/displayNewTurnModal';\r\n\r\nconst users = {};\r\n\r\nfunction validation(userObj) {\r\n  if (userObj.names.length === userObj.players) {\r\n    return userObj.names.every((name) => name.length > 2 && name.length < 11);\r\n  }\r\n  return false;\r\n}\r\n// TODO need some refactor later, move to display folder, use function?\r\nclass Menu {\r\n  constructor(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  createMenuItem(text, ...dopParam) {\r\n    return /* html */ `<a href=\"#\" class=\"menu__link ${dopParam[0] || ''}\" ${dopParam[1] || ''}>\r\n      ${text}\r\n      <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n        <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n      </svg>\r\n    </a><br>`;\r\n  }\r\n\r\n  render() {\r\n    this.menu = document.createElement('div');\r\n    this.menu.classList.add('menu');\r\n    this.menu.innerHTML = `\r\n    ${this.createMenuItem('Новая игра', 'start')}\r\n    ${this.createMenuItem('Продолжить')}\r\n    ${this.createMenuItem('Сохранить игру')}\r\n    ${this.createMenuItem('Правила игры', 'rules')}\r\n    ${this.createMenuItem('Обзор игры')}\r\n    `;\r\n\r\n    this.parent.append(this.menu);\r\n    this.renderPdfRules();\r\n\r\n    this.menu.addEventListener('click', (e) => {\r\n      if (e.target.tagName !== 'A' && e.target.tagName !== 'SPAN' && e.target !== this.menu.querySelector('button')) {\r\n        return;\r\n      }\r\n\r\n      if (e.target.className.includes('start')) {\r\n        this.createChoosePlayersItems();\r\n      } else if (e.target.className.includes('rules')) {\r\n        this.rulesWrraper.hidden = false;\r\n      } else if (e.target.className.includes('close')) {\r\n        this.rulesWrraper.hidden = true;\r\n      } else if (e.target.dataset.players) {\r\n        this.createNameInputField(e.target.dataset.players);\r\n      } else if (e.target.className.includes('get-names')) {\r\n        e.preventDefault();\r\n        this.addNamesToUsers();\r\n        if (validation(users)) {\r\n          const intro = this.menu.parentElement.parentElement.parentElement;\r\n          displayNewTurnModal(users.names[0]);\r\n          NEWinitHotSeatGame(users);\r\n          setTimeout(() => {\r\n            intro.classList.toggle('intro--hide');\r\n            // initHotSeatGame(usersInfo.names);\r\n          }, 500);\r\n        }\r\n      } else if (e.target.className.includes('back')) {\r\n        this.menu.remove();\r\n        this.render();\r\n        this.menu.classList.add('menu__used');\r\n      }\r\n    });\r\n  }\r\n\r\n  renderPdfRules() {\r\n    this.rulesWrraper = document.createElement('div');\r\n    this.rulesWrraper.classList.add('iframe__wrraper');\r\n    this.rulesWrraper.hidden = true;\r\n    this.rulesWrraper.innerHTML = /* html */ `\r\n        <span class=\"close\">&#10006</span>\r\n        <iframe class=\"iframe\" src=\"./assets/innovation_rules_rus_final.pdf\" width=\"70%\" height=\"70%\"></iframe>\r\n    `;\r\n\r\n    this.menu.append(this.rulesWrraper);\r\n  }\r\n\r\n  createChoosePlayersItems() {\r\n    for (let i = 0; i < this.menu.children.length; i += 1) {\r\n      this.menu.children[i].hidden = true;\r\n    }\r\n    this.menu.innerHTML = /* html */ `\r\n    ${this.createMenuItem('2 игрока', '', 'data-players=2')}\r\n    ${this.createMenuItem('3 игрока', '', 'data-players=3')}\r\n    ${this.createMenuItem('4 игрока', '', 'data-players=4')}\r\n    ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createNameInputField(numberOfFields) {\r\n    users.players = +numberOfFields;\r\n    this.menu.innerHTML = /* html */ `\r\n      <form>\r\n        ${this.createInputs(numberOfFields)}\r\n        <button class=\"menu__link get-names\" type=\"submit\">Принять</button>\r\n      </form>\r\n      ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createInputs(num) {\r\n    const inputHTML = [];\r\n\r\n    for (let i = 1; i <= num; i += 1) {\r\n      inputHTML.push(\r\n        /* html */ `\r\n        <label for=\"plaeyr${i}\">Введити имя игрока № ${i}</label>\r\n        <input type=\"text\" id=\"player${i}\" name=\"name\" data-name=\"\" pattern=\"[a-zA-Zа-яА-Я0-9_]{3,10}\" title=\"Введите от 3 до 10 символов\" required>\r\n      `,\r\n      );\r\n    }\r\n\r\n    return inputHTML;\r\n  }\r\n\r\n  addNamesToUsers() {\r\n    const inputs = this.menu.querySelectorAll('[data-name]');\r\n    const playerNames = [];\r\n    for (let i = 0; i < inputs.length; i += 1) {\r\n      if (inputs[i].value) {\r\n        playerNames.push(inputs[i].value);\r\n      }\r\n    }\r\n    users.names = playerNames;\r\n\r\n    return playerNames;\r\n  }\r\n}\r\nexport default Menu;\r\n","const displayActiveZone = {\r\n  wrapper: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('active-zone');\r\n\r\n    this.activeZoneTitle = document.createElement('div');\r\n    this.activeZoneTitle.classList.add('active-zone__title');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('active-zone__cards-block');\r\n\r\n    this.cardsBlockWrapper = document.createElement('div');\r\n    this.cardsBlockWrapper.classList.add('active-zone__cards-wrapper');\r\n\r\n    this.cardsBlock.append(this.cardsBlockWrapper);\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('active-zone__overlay');\r\n\r\n    // create players active stacks\r\n    // !Stack names are the color fields of cards object\r\n    const stacksNames = ['blue', 'red', 'green', 'purple', 'yellow'];\r\n    for (let i = 0; i < stacksNames.length; i += 1) {\r\n      const stack = document.createElement('div');\r\n      stack.classList.add('active-zone__stack');\r\n      stack.classList.add('active-zone__stack--empty');\r\n      stack.id = stacksNames[i]; // id stackName for each stack\r\n      this.cardsBlockWrapper.append(stack);\r\n    }\r\n\r\n    this.wrapper.append(this.activeZoneTitle);\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayActiveZone;\r\n","const displayAside = {\r\n  wrapper: null,\r\n  init() {\r\n    // create aside wrapper\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('aside');\r\n\r\n    // append block for style aside backgroung and border\r\n    this.wrapper.append(this.getStyleBlock('overlay'));\r\n    this.wrapper.append(this.getStyleBlock('top'));\r\n    this.wrapper.append(this.getStyleBlock('center'));\r\n    this.wrapper.append(this.getStyleBlock('bottom'));\r\n\r\n    // append createand blocks to aside wrapper\r\n    this.wrapper.append(this.getInfoBlock());\r\n    this.wrapper.append(this.getCurrentDeckBlock());\r\n    this.wrapper.append(this.getExtraCardsBlock());\r\n    this.wrapper.append(this.getLogBlock());\r\n\r\n    // create hidden modals blocks\r\n    this.ageDecksBlock = this.getAgeDecksBlock();\r\n    this.leadershipCardsBlock = this.getLeadershipCardsBlock();\r\n    this.specialCardsBlock = this.getSpecialCardsBlock();\r\n\r\n    // append hidden modal blocks to body\r\n    document.body.append(this.ageDecksBlock);\r\n    document.body.append(this.leadershipCardsBlock);\r\n    document.body.append(this.specialCardsBlock);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n  getStyleBlock(name) {\r\n    const block = document.createElement('div');\r\n    block.classList.add(`aside__${name}`);\r\n    return block;\r\n  },\r\n\r\n  getInfoBlock() {\r\n    // create info block\r\n    const infoBlock = document.createElement('div');\r\n    infoBlock.classList.add('info-table');\r\n\r\n    // create current player block\r\n    const currentPlayerBlock = document.createElement('div');\r\n    currentPlayerBlock.classList.add('info-table__player-block');\r\n\r\n    const currentPlayerText = document.createElement('div');\r\n    currentPlayerText.innerText = 'Ход игрока: ';\r\n\r\n    const currentPlayerName = document.createElement('div');\r\n    currentPlayerName.classList.add('info-table__player-name');\r\n\r\n    currentPlayerBlock.append(currentPlayerText);\r\n    currentPlayerBlock.append(currentPlayerName);\r\n\r\n    // create action points block\r\n    const actionPointsBlock = document.createElement('div');\r\n    actionPointsBlock.classList.add('info-table__action-points-block');\r\n\r\n    const actionPointsText = document.createElement('div');\r\n    actionPointsText.innerText = 'Осталось ОД: ';\r\n\r\n    const actionPointsValue = document.createElement('div');\r\n    actionPointsValue.classList.add('info-table__action-points');\r\n\r\n    actionPointsBlock.append(actionPointsText);\r\n    actionPointsBlock.append(actionPointsValue);\r\n\r\n    // append created blocks to info block\r\n    infoBlock.append(currentPlayerBlock);\r\n    infoBlock.append(actionPointsBlock);\r\n\r\n    return infoBlock;\r\n  },\r\n\r\n  getCurrentDeckBlock() {\r\n    // create current deck block\r\n    const currentDeck = document.createElement('div');\r\n    currentDeck.classList.add('current-deck');\r\n\r\n    const currentDeckTitle = document.createElement('div');\r\n    currentDeckTitle.classList.add('current-deck__title');\r\n    currentDeckTitle.innerText = 'Взять карту';\r\n\r\n    const currentDeckCards = document.createElement('div');\r\n    currentDeckCards.classList.add('current-deck__cards');\r\n\r\n    // create hover button element\r\n    const hoverBtn = document.createElement('button');\r\n    hoverBtn.classList.add('hover-btn');\r\n    hoverBtn.innerText = 'Показать все';\r\n    hoverBtn.addEventListener('click', () => {\r\n      this.ageDecksBlock.classList.toggle('age-decks--hidden');\r\n    });\r\n\r\n    // append button to deck block\r\n    currentDeckCards.append(hoverBtn);\r\n\r\n    // append title and cards blocks to current deck block\r\n    currentDeck.append(currentDeckTitle);\r\n    currentDeck.append(currentDeckCards);\r\n\r\n    return currentDeck;\r\n  },\r\n\r\n  getExtraCardsBlock() {\r\n    // create extra cards block\r\n    const extraCards = document.createElement('div');\r\n    extraCards.classList.add('extra-cards');\r\n\r\n    // create special cards block\r\n    const specialCards = document.createElement('div');\r\n    specialCards.classList.add('extra-cards__special-block');\r\n\r\n    const specialCardsTitle = document.createElement('div');\r\n    specialCardsTitle.classList.add('extra-cards__special-title');\r\n    specialCardsTitle.innerText = '5 карт';\r\n\r\n    const specialCardsCards = document.createElement('div');\r\n    specialCardsCards.classList.add('extra-cards__special-cards');\r\n\r\n    // create hover button for special cards block\r\n    const hoverBtnSpecial = document.createElement('button');\r\n    hoverBtnSpecial.classList.add('hover-btn');\r\n    hoverBtnSpecial.innerText = 'Показать все';\r\n    hoverBtnSpecial.addEventListener('click', () => {\r\n      this.specialCardsBlock.classList.toggle('special-cards--hidden');\r\n    });\r\n    specialCardsCards.append(hoverBtnSpecial);\r\n\r\n    // append title and cards to special cards block\r\n    specialCards.append(specialCardsTitle);\r\n    specialCards.append(specialCardsCards);\r\n\r\n    // create leadership cards block\r\n    const leadershipCards = document.createElement('div');\r\n    leadershipCards.classList.add('extra-cards__leadership-block');\r\n\r\n    const leadershipCardsTitle = document.createElement('div');\r\n    leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n    leadershipCardsTitle.innerText = 'Век 1';\r\n\r\n    const leadershipCardsCards = document.createElement('div');\r\n    leadershipCardsCards.classList.add('extra-cards__leadership-cards');\r\n\r\n    // create hover button for leadership cards block\r\n    const hoverBtnLeadership = document.createElement('button');\r\n    hoverBtnLeadership.classList.add('hover-btn');\r\n    hoverBtnLeadership.innerText = 'Показать все';\r\n    hoverBtnLeadership.addEventListener('click', () => {\r\n      this.leadershipCardsBlock.classList.toggle('leadership-cards--hidden');\r\n    });\r\n    leadershipCardsCards.append(hoverBtnLeadership);\r\n\r\n    // append title and cards to leadership cards block\r\n    leadershipCards.append(leadershipCardsTitle);\r\n    leadershipCards.append(leadershipCardsCards);\r\n\r\n    // apend special cards and leadership blocks to extra cards block\r\n    extraCards.append(specialCards);\r\n    extraCards.append(leadershipCards);\r\n\r\n    return extraCards;\r\n  },\r\n\r\n  getLogBlock() {\r\n    // create log block\r\n    const logBlock = document.createElement('div');\r\n    logBlock.classList.add('chat-log');\r\n\r\n    // chat tab\r\n    logBlock.innerHTML = `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"chat-block\" name=\"tab-group\" checked>\r\n      <label for=\"chat-block\" class=\"chat-log__tab-title\">Чат</label> \r\n      <section class=\"chat-log__tab-content chat-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // log tab\r\n    logBlock.innerHTML += `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"log-block\" name=\"tab-group\">\r\n      <label for=\"log-block\" class=\"chat-log__tab-title\">Лог</label> \r\n      <section class=\"chat-log__tab-content log-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // input\r\n    logBlock.innerHTML += `<form class=\"chat-log__form\" id=\"input-form\">\r\n      <input class=\"chat-log__input\">\r\n      <button class=\"chat-log__btn\" type=\"submit\" form=\"input-form\">Отправить</button>\r\n    </form>`;\r\n\r\n    // spread button\r\n    const spreadBtn = document.createElement('div');\r\n    spreadBtn.classList.add('chat-log__spread');\r\n    logBlock.append(spreadBtn);\r\n\r\n    spreadBtn.addEventListener('click', () => {\r\n      logBlock.classList.toggle('chat-log--full-screen');\r\n      spreadBtn.classList.toggle('chat-log__spread--open');\r\n    });\r\n\r\n    return logBlock;\r\n  },\r\n\r\n  getAgeDecksBlock() {\r\n    // create age decks modal block\r\n    const agesNumber = 10;\r\n    const ageDecksBlock = document.createElement('div');\r\n    ageDecksBlock.classList.add('age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    ageDecksBlock.classList.add('xyz-in');\r\n    ageDecksBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('age-decks__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('age-decks__second-line');\r\n\r\n    const thirdLine = document.createElement('div');\r\n    thirdLine.classList.add('age-decks__third-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('age-decks__btn-line');\r\n\r\n    // create age decks\r\n    for (let i = 0; i < agesNumber; i += 1) {\r\n      const deck = document.createElement('div');\r\n      deck.classList.add('age-deck');\r\n      deck.id = `age${i + 1}`; // id age1-10 for each deck\r\n      deck.innerText = `${i + 1} Age`; // TODO remove later\r\n      if (i < 9) {\r\n        deck.style.backgroundImage = `url(./assets/img/cards-bg/age-0${i + 1}.jpg)`;\r\n      } else if (i === 9) {\r\n        deck.style.backgroundImage = 'url(./assets/img/cards-bg/age-10.jpg)';\r\n      }\r\n\r\n      deck.addEventListener('click', () => this.ageDecksBlock.classList.toggle('age-decks--hidden'));\r\n\r\n      // Animation classes and attributes for cards here\r\n      deck.classList.add('xyz-in');\r\n      deck.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 4) {\r\n        firstLine.append(deck);\r\n      } else if (i < 7) {\r\n        secondLine.append(deck);\r\n      } else if (i < 10) {\r\n        thirdLine.append(deck);\r\n      }\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    ageDecksBlock.append(firstLine);\r\n    ageDecksBlock.append(secondLine);\r\n    ageDecksBlock.append(thirdLine);\r\n    ageDecksBlock.append(btnLine);\r\n\r\n    return ageDecksBlock;\r\n  },\r\n\r\n  getLeadershipCardsBlock() {\r\n    // create leadership decks modal block\r\n    const leadershipCardsBlock = document.createElement('div');\r\n    leadershipCardsBlock.classList.add('leadership-cards');\r\n    leadershipCardsBlock.classList.add('leadership-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    leadershipCardsBlock.classList.add('xyz-in');\r\n    leadershipCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('leadership-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('leadership-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('leadership-cards__btn-line');\r\n\r\n    // create leadership cards\r\n    const numOfLeadershipCards = 10;\r\n    for (let i = 0; i < numOfLeadershipCards; i += 1) {\r\n      const leadershipCard = document.createElement('div');\r\n      leadershipCard.classList.add('leadership-cards__card');\r\n      // leadershipCard.innerText = `${i + 1}`;\r\n\r\n      const leadershipCardsTitle = document.createElement('div');\r\n      leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n      leadershipCardsTitle.innerText = `Век ${i + 1}`;\r\n\r\n      leadershipCard.append(leadershipCardsTitle);\r\n\r\n      // Animation classes and attributes for cards here\r\n      leadershipCard.classList.add('xyz-in');\r\n      leadershipCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 5) firstLine.append(leadershipCard);\r\n      else if (i < 10) secondLine.append(leadershipCard);\r\n\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    leadershipCardsBlock.append(firstLine);\r\n    leadershipCardsBlock.append(secondLine);\r\n    leadershipCardsBlock.append(btnLine);\r\n\r\n    return leadershipCardsBlock;\r\n  },\r\n\r\n  getSpecialCardsBlock() {\r\n    // create special cards modal block\r\n    const specialCardsBlock = document.createElement('div');\r\n    specialCardsBlock.classList.add('special-cards');\r\n    specialCardsBlock.classList.add('special-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    specialCardsBlock.classList.add('xyz-in');\r\n    specialCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('special-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('special-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('special-cards__btn-line');\r\n\r\n    // create special cards\r\n    const numOfSpecialCards = 5;\r\n    for (let i = 0; i < numOfSpecialCards; i += 1) {\r\n      const specialCard = document.createElement('div');\r\n      specialCard.classList.add('special-cards__card');\r\n\r\n      // Animation classes and attributes for cards here\r\n      specialCard.classList.add('xyz-in');\r\n      specialCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 3) firstLine.append(specialCard);\r\n      else if (i < 5) secondLine.append(specialCard);\r\n\r\n      // create close button\r\n      if (i === 4) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    specialCardsBlock.append(firstLine);\r\n    specialCardsBlock.append(secondLine);\r\n    specialCardsBlock.append(btnLine);\r\n\r\n    return specialCardsBlock;\r\n  },\r\n};\r\n\r\nexport default displayAside;\r\n","const displayHand = {\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('hand');\r\n\r\n    this.handTitle = document.createElement('div');\r\n    this.handTitle.classList.add('hand__title');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('hand__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('hand__overlay');\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('hand__controls');\r\n\r\n    // disabled by default\r\n    this.arrowTop = document.createElement('button');\r\n    this.arrowTop.classList.add('hand__btn--top', 'hand__btn');\r\n    this.arrowTop.classList.add('hand__btn--disabled');\r\n    this.arrowTop.disabled = true;\r\n    this.arrowTop.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    // disabled by default\r\n    this.arrowBottom = document.createElement('button');\r\n    this.arrowBottom.classList.add('hand__btn--bottom', 'hand__btn');\r\n    this.arrowBottom.classList.add('hand__btn--disabled');\r\n    this.arrowBottom.disabled = true;\r\n    this.arrowBottom.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    this.controlsBlock.append(this.arrowTop);\r\n    this.controlsBlock.append(this.arrowBottom);\r\n\r\n    this.wrapper.append(this.handTitle);\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHand;\r\n","const displayHeader = {\r\n  wrapper: null,\r\n  headRowNames: [{ hand: ['fas', 'fa-hand-paper', 'yellow'] }, { influence: ['fas', 'fa-shield-alt', 'red'] }, { leadership: ['fas', 'fa-trophy', 'yellow'] }],\r\n  resourcesNames: [{ tree: ['fab', 'fa-pagelines', 'green'] }, { tower: ['fab', 'fa-fort-awesome', 'grey'] }, { crown: ['fas', 'fa-crown', 'yellow'] }, { bulb: ['fas', 'fa-lightbulb', 'purple'] }, { factory: ['fas', 'fa-industry', 'red'] }, { clock: ['far', 'fa-clock', 'blue'] }],\r\n  player0: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player1: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player2: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player3: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n\r\n  initPlayerStats(id) {\r\n    const player = `player${id}`;\r\n\r\n    this[player].container = document.createElement('div');\r\n    this[player].container.classList.add('player-container');\r\n\r\n    const headRow = document.createElement('div');\r\n    headRow.classList.add('head-row');\r\n    this[player].name = document.createElement('div');\r\n    this[player].name.classList.add('head-row__name');\r\n    this[player].name.textContent = `Player${id}`;\r\n    headRow.appendChild(this[player].name);\r\n\r\n    this.headRowNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      const container = document.createElement('div');\r\n      container.classList.add('cards-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'cards-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('cards-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      headRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(headRow);\r\n\r\n    const activeZoneRow = document.createElement('div');\r\n    activeZoneRow.classList.add('active-zone-row');\r\n\r\n    this[player].red = document.createElement('div');\r\n    this[player].red.classList.add('active-zone-row__red');\r\n    this[player].red.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].red);\r\n\r\n    this[player].green = document.createElement('div');\r\n    this[player].green.classList.add('active-zone-row__green');\r\n    this[player].green.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].green);\r\n\r\n    this[player].blue = document.createElement('div');\r\n    this[player].blue.classList.add('active-zone-row__blue');\r\n    this[player].blue.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].blue);\r\n\r\n    this[player].purple = document.createElement('div');\r\n    this[player].purple.classList.add('active-zone-row__purple');\r\n    this[player].purple.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].purple);\r\n\r\n    this[player].yellow = document.createElement('div');\r\n    this[player].yellow.classList.add('active-zone-row__yellow');\r\n    this[player].yellow.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].yellow);\r\n\r\n    this[player].container.appendChild(activeZoneRow);\r\n\r\n    const recourcesRow = document.createElement('div');\r\n    recourcesRow.classList.add('recources-row');\r\n    this.resourcesNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      // console.log(e[i][0]);\r\n      const container = document.createElement('div');\r\n      container.classList.add('recource-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'recource-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('recource-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      recourcesRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(recourcesRow);\r\n    this[player].container.classList.add('player-container__hidden');\r\n    this.headerTableWrapper.appendChild(this[player].container);\r\n  },\r\n\r\n  changePlayerStats(player) {\r\n    const playerId = `player${player.id}`;\r\n\r\n    this[playerId].hand.textContent = player.hand.length;\r\n    this[playerId].red.textContent = player.activeDecks.red.cards.length;\r\n    this[playerId].green.textContent = player.activeDecks.green.cards.length;\r\n    this[playerId].blue.textContent = player.activeDecks.blue.cards.length;\r\n    this[playerId].purple.textContent = player.activeDecks.purple.cards.length;\r\n    this[playerId].yellow.textContent = player.activeDecks.yellow.cards.length;\r\n    this[playerId].tree.textContent = player.tree;\r\n    this[playerId].tower.textContent = player.tower;\r\n    this[playerId].crown.textContent = player.crown;\r\n    this[playerId].bulb.textContent = player.bulb;\r\n    this[playerId].factory.textContent = player.factory;\r\n    this[playerId].clock.textContent = player.clock;\r\n  },\r\n\r\n  initPlayerNames(players) {\r\n    for (let i = 0; i < players.length; i += 1) {\r\n      const currentPlayer = `player${i}`;\r\n      this[currentPlayer].name.textContent = players[i];\r\n      this[currentPlayer].container.classList.remove('player-container__hidden');\r\n    }\r\n  },\r\n\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('header');\r\n\r\n    this.headerTitle = document.createElement('div');\r\n    this.headerTitle.classList.add('header__title');\r\n    this.wrapper.appendChild(this.headerTitle);\r\n\r\n    this.headerOverlay = document.createElement('div');\r\n    this.headerOverlay.classList.add('header__overlay');\r\n    this.wrapper.appendChild(this.headerOverlay);\r\n\r\n    this.headerTable = document.createElement('div');\r\n    this.headerTable.classList.add('header__table');\r\n    this.headerTableWrapper = document.createElement('div');\r\n    this.headerTableWrapper.classList.add('header__table__wrapper');\r\n    this.headerTable.appendChild(this.headerTableWrapper);\r\n    this.wrapper.appendChild(this.headerTable);\r\n\r\n    this.initPlayerStats(0);\r\n    this.initPlayerStats(1);\r\n    this.initPlayerStats(2);\r\n    this.initPlayerStats(3);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHeader;\r\n\r\n/* 'tower', 'crown', 'bulb', 'factory', 'clock' */\r\n","import displayHeader from './displayHeader';\r\nimport displayAside from './displayAside';\r\nimport displayActiveZone from './displayActiveZone';\r\nimport displayHand from './displayHand';\r\n\r\nconst displayPlayerTable = {\r\n  wrapper: null,\r\n  header: null,\r\n  aside: null,\r\n  activeZone: null,\r\n  hand: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('wrapper');\r\n\r\n    this.wrapperMain = document.createElement('div');\r\n    this.wrapperMain.classList.add('wrapper__main');\r\n\r\n    this.header = displayHeader.init();\r\n    this.wrapperMain.appendChild(this.header);\r\n\r\n    this.activeZone = displayActiveZone.init();\r\n    this.wrapperMain.appendChild(this.activeZone);\r\n\r\n    this.hand = displayHand.init();\r\n    this.wrapperMain.appendChild(this.hand);\r\n\r\n    this.aside = displayAside.init();\r\n\r\n    this.wrapper.appendChild(this.wrapperMain);\r\n    this.wrapper.appendChild(this.aside);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n};\r\n\r\nexport default displayPlayerTable;\r\n","import GameField from '../components/GameField';\r\nimport Player from '../components/Player';\r\nimport Game from '../components/Game';\r\n\r\nimport parseCards from '../cards/parseCards';\r\nimport GameUI from '../components/GameUI';\r\n// import setChat from './setChat';\r\nimport shuffle from './shuffle';\r\n\r\n\r\nimport cardsJSON from '../cards/cards.json';\r\n\r\n\r\n\r\nexport default function initHotSeatGame(playerNames) {\r\n  // contains dom elements\r\n  const gameUI = new GameUI();\r\n\r\n  // contains sorted card objects\r\n  const arrOfCards = parseCards(cardsJSON);\r\n\r\n  // shuffle arr of cards objects\r\n  shuffle(arrOfCards);\r\n\r\n  // create gameField which contains all cards avaiable for players\r\n  const gameField = new GameField(arrOfCards);\r\n\r\n  // contains players properties and cards\r\n  const players = [];\r\n  for (let i = 0; i < playerNames.length; i += 1) {\r\n    const player = new Player(gameUI, playerNames[i], i + 1);\r\n    players.push(player);\r\n  }\r\n\r\n  // work with all main objects\r\n  const game = new Game(gameUI, gameField, players, arrOfCards);\r\n  game.newTurn();\r\n  // display first modal without animation\r\n  document.querySelector('.modal').style.opacity = '1';\r\n\r\n  // init chat\r\n  // setChat();\r\n}\r\n","export default function setAsideControls() {\r\n  const buttons = Array.from(document.querySelectorAll('.close-modal-btn'));\r\n\r\n  function animation(e) {\r\n    const button = e.target;\r\n    const parentBlock = e.target.parentElement.parentElement;\r\n    const childLines = Array.from(parentBlock.children);\r\n    const childBlocks = childLines.map((line) => Array.from(line.children)).flat();\r\n\r\n    button.removeEventListener('click', animation);\r\n    parentBlock.classList.remove('xyz-in');\r\n    parentBlock.classList.add('xyz-out');\r\n\r\n    childBlocks.forEach((child) => {\r\n      child.classList.remove('xyz-in');\r\n      child.classList.add('xyz-out');\r\n    });\r\n\r\n    setTimeout(() => {\r\n      parentBlock.classList.toggle(`${parentBlock.className.split(' ')[0]}--hidden`);\r\n      childBlocks.forEach((child) => {\r\n        child.classList.remove('xyz-out');\r\n        child.classList.add('xyz-in');\r\n        parentBlock.classList.remove('xyz-out');\r\n        parentBlock.classList.add('xyz-in');\r\n      });\r\n      button.addEventListener('click', animation);\r\n    }, 600);\r\n  }\r\n\r\n  buttons.forEach((button) => {\r\n    button.addEventListener('click', animation);\r\n  });\r\n}\r\n","// function which disable passed dom element button\r\nfunction disableBtn(btnElement) {\r\n  btnElement.disabled = true;\r\n  btnElement.classList.add('hand__btn--disabled');\r\n}\r\n\r\n// function which enable passed dom element button\r\nfunction enableBtn(btnElement) {\r\n  btnElement.disabled = false;\r\n  btnElement.classList.remove('hand__btn--disabled');\r\n}\r\n\r\nexport default function setGameControls() {\r\n  // get needed dom elements\r\n  const btnTop = document.querySelector('.hand__btn--top');\r\n  const btnBottom = document.querySelector('.hand__btn--bottom');\r\n  const hand = document.querySelector('.hand__cards');\r\n\r\n  // const height of one line of cards (current = 200px card + 70px margins/decoration)\r\n  // dinamically calculated depends on html font-size property\r\n  const html = document.documentElement;\r\n  const style = window.getComputedStyle(html, null).getPropertyValue('font-size');\r\n  const fontSize = parseFloat(style);\r\n\r\n  const cardsLineHeight = fontSize * 27;\r\n  // const timeout used because time needed for scroll animation before values updated\r\n  const timeoutTime = 350;\r\n\r\n  // disable scrolling in hand block\r\n  hand.onwheel = function disableScroll() { return false; };\r\n\r\n  // event activated on each inserted card\r\n  hand.addEventListener('DOMNodeInserted', () => {\r\n    // scroll to inserted card (or do nothing)\r\n    hand.scrollTop = hand.scrollHeight - cardsLineHeight;\r\n    disableBtn(btnBottom);\r\n    // if scrolled to second+ line of cards\r\n    if (hand.scrollHeight > cardsLineHeight) {\r\n      enableBtn(btnTop);\r\n    }\r\n  });\r\n\r\n  // event activated on each removed card\r\n  hand.addEventListener('DOMNodeRemoved', () => {\r\n    setTimeout(() => {\r\n      // only one line of card left - disable both buttons\r\n      if (hand.scrollHeight === cardsLineHeight) {\r\n        disableBtn(btnBottom);\r\n        disableBtn(btnTop);\r\n      // if point of view is on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      } else if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at top button\r\n  btnTop.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnTop.disabled = true;\r\n\r\n    // scroll up one line\r\n    hand.scrollTop -= cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    // !important: dont use else here, need 2 separate if blocks\r\n    setTimeout(() => {\r\n      // if point of view at first line\r\n      if (hand.scrollTop === 0) {\r\n        disableBtn(btnTop);\r\n        enableBtn(btnBottom);\r\n      }\r\n      // if point of view not at first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnBottom);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnTop.disabled = false;\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at botom button\r\n  btnBottom.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnBottom.disabled = true;\r\n\r\n    // scroll down on one line\r\n    hand.scrollTop += cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    setTimeout(() => {\r\n      // if point of view isnt on first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnTop);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnBottom.disabled = false;\r\n      }\r\n      // if point of view on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2 && hand.scrollTop !== 0) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n}\r\n","export default function shuffle(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/js/app.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}