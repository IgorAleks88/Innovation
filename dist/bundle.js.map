{"version":3,"sources":["webpack://innovation/./src/js/app.js","webpack://innovation/./src/js/cards/getCardElement.js","webpack://innovation/./src/js/cards/getCardObject.js","webpack://innovation/./src/js/cards/renderCard.js","webpack://innovation/./src/js/components/Intro.js","webpack://innovation/./src/js/components/dogma.js","webpack://innovation/./src/js/components/gameBoard.js","webpack://innovation/./src/js/components/gameState.js","webpack://innovation/./src/js/components/mainMenu.js","webpack://innovation/./src/js/display/displayNewTurnModal.js","webpack://innovation/./src/js/display/playerTable/displayActiveZone.js","webpack://innovation/./src/js/display/playerTable/displayAside.js","webpack://innovation/./src/js/display/playerTable/displayHand.js","webpack://innovation/./src/js/display/playerTable/displayHeader.js","webpack://innovation/./src/js/display/playerTable/displayPlayerTable.js","webpack://innovation/./src/js/utility/initGameState.js","webpack://innovation/./src/js/utility/initHotSeatGame.js","webpack://innovation/./src/js/utility/setAsideControls.js","webpack://innovation/./src/js/utility/setHandControls.js","webpack://innovation/./src/js/utility/shuffleArr.js","webpack://innovation/./src/js/utility/updateGameState.js","webpack://innovation/./node_modules/@animxyz/core/dist/animxyz.css","webpack://innovation/./src/scss/style.scss","webpack://innovation/webpack/bootstrap","webpack://innovation/webpack/runtime/define property getters","webpack://innovation/webpack/runtime/hasOwnProperty shorthand","webpack://innovation/webpack/runtime/make namespace object","webpack://innovation/webpack/startup"],"names":["intro","document","body","prepend","displayPlayerTable","setHandControls","setAsideControls","getCardElement","cardObj","getCardHeader","card","divHeader","createElement","classList","add","color","posTopLeft","title","textContent","innovation","appendChild","getCardMain","divMain","divDogmsBlock","dogma","forEach","item","divDogma","setAttribute","type","icon","innerHTML","effect","getCardFooter","divFooter","posBottomLeft","posBottomCenter","posBottomRight","setObjByPosition","divCard","agePos","querySelector","agePosition","age","resourses","res","pos","position","style","background","cardImg","dataset","getCardObject","all","resultArr","cardsJSON","setOfCards","cards","cardObject","Object","assign","push","byID","id","getRenderCard","hand","activeStacks","renderCard","initObject","querySelectorAll","toHand","cardElement","setTimeout","remove","append","toActive","targetStack","stack","children","contains","dom","width","offsetWidth","height","offsetHeight","shift","gameState","length","cardHeight","cardShiftValue","Array","from","i","bottom","parentElement","right","left","scrollIntoView","init","divIntro","introContainer","introTop","introCenter","introCenterTitle","introBottom","introBottomLamps","introBottomLamp","introGear","introGear1","introGear2","img","Image","src","addEventListener","menu","Menu","render","event","target","closest","getAffectedPlayers","resource","idPlayers","player","map","pl","takeCard","cardsNum","ageNum","playerID","cardID","pop","onclick","gameBoard","playCard","cardIndex","indexOf","splice","activeDecks","dogmas","corporateBonus","arrOfId","письменность","колесо","парус","display","nameBlock","innerText","actionPointsBlock","cloneCurrentDeck","activeDeck","avaiableAgeDeck","prevDeckClone","cloneNode","backgroundImage","stacks","stackElement","keys","activeDeckName","cardElements","elem","ageDeckElements","activeZoneStacks","stackLength","childNodes","stackTopCardElement","update","setHeaderCurrent","displayNextTurnBtn","updateGameState","header","e","ageDecksBlock","ageDeck","movingCardElement","nextTurnBtn","displayNewTurnModal","excistedNextTurnBtn","infoTable","disableEvents","headerName","cursor","transform","cardDogms","cardDogma","decks","deck","ageDecks","age1","age2","age3","age4","age5","age6","age7","age8","age9","age10","leadershipDeck","specialDeck","players","currentPlayer","activePlayer","dogmPlayers","player0","name","actionPoints","currentAge","currentDeck","red","green","blue","purple","yellow","tree","tower","crown","bulb","factory","clock","player1","player2","player3","users","isValidate","userObj","names","every","parent","text","createMenuItem","renderPdfRules","tagName","className","includes","createChoosePlayersItems","rulesWrraper","hidden","createNameInputField","addNamesToUsers","preventDefault","initHotSeatGame","toggle","numberOfFields","createInputs","num","inputHTML","inputs","playerNames","value","displayModal","playerName","modalBg","modalBlock","modalOverlay","modalWrapper","modalText","modalBtn","displayActiveZone","wrapper","activeZoneTitle","cardsBlock","cardsBlockWrapper","cardsBlockOverlay","stacksNames","displayAside","getStyleBlock","getInfoBlock","getCurrentDeckBlock","getExtraCardsBlock","getLogBlock","getAgeDecksBlock","leadershipCardsBlock","getLeadershipCardsBlock","specialCardsBlock","getSpecialCardsBlock","block","infoBlock","currentPlayerBlock","currentPlayerText","currentPlayerName","actionPointsText","actionPointsValue","currentDeckTitle","currentDeckCards","hoverBtn","extraCards","specialCards","specialCardsTitle","specialCardsCards","hoverBtnSpecial","leadershipCards","leadershipCardsTitle","leadershipCardsCards","hoverBtnLeadership","logBlock","spreadBtn","agesNumber","firstLine","secondLine","thirdLine","btnLine","button","numOfLeadershipCards","leadershipCard","numOfSpecialCards","specialCard","displayHand","handTitle","controlsBlock","arrowTop","disabled","arrowBottom","displayHeader","headRowNames","influence","leadership","resourcesNames","container","initPlayerStats","headRow","iconContainer","activeZoneRow","recourcesRow","headerTableWrapper","changePlayerStats","playerId","initPlayerNames","headerTitle","headerOverlay","headerTable","aside","activeZone","wrapperMain","initGameState","usersInfo","arrOfCardObjects","Error","values","shuffleArr","buttons","animation","parentBlock","childLines","childBlocks","line","flat","removeEventListener","child","split","disableBtn","btnElement","enableBtn","setGameControls","btnTop","btnBottom","html","documentElement","window","getComputedStyle","getPropertyValue","fontSize","parseFloat","cardsLineHeight","timeoutTime","scrollTop","scrollHeight","array","j","Math","floor","random","currentStack","highestCardInnovation","highestCard","arrOfPositions","currentCardInnovation","currentCardObj"],"mappings":"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","file":"bundle.js","sourcesContent":["// import styles\r\nimport '../scss/style.scss';\r\nimport '@animxyz/core';\r\n\r\n// import js modules\r\nimport intro from './components/Intro';\r\nimport displayPlayerTable from './display/playerTable/displayPlayerTable';\r\nimport setHandControls from './utility/setHandControls';\r\nimport setAsideControls from './utility/setAsideControls';\r\n\r\n// display intro & menu\r\nintro.init();\r\n\r\n// load and display base game UI\r\ndocument.body.prepend(displayPlayerTable.init());\r\nsetHandControls();\r\nsetAsideControls();\r\n","export default function getCardElement(cardObj) {\r\n  // get card header\r\n  function getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  }\r\n  // get card body\r\n  function getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    const divDogmsBlock = document.createElement('div');\r\n    divDogmsBlock.classList.add('card__dogms-block');\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-type', item.type);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.icon[0], item.icon[1], 'card__icon', `card__icon-color--${item.color}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.effect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divDogmsBlock.appendChild(divDogma);\r\n    });\r\n\r\n    divMain.appendChild(divDogmsBlock);\r\n\r\n    return divMain;\r\n  }\r\n  // get card footer\r\n  function getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  }\r\n  // place age number and resourses by card position\r\n  function setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.position}`);\r\n      pos.classList.add(`${res.type[0]}`, `${res.type[1]}`,\r\n        `card__icon-color--${res.color}`, `card__icon-border--${card.color}`);\r\n    });\r\n  }\r\n\r\n  const divCard = document.createElement('div');\r\n  divCard.classList.add('card');\r\n  divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n  divCard.dataset.innovation = cardObj.innovation;\r\n\r\n  divCard.appendChild(getCardHeader(cardObj));\r\n  divCard.appendChild(getCardMain(cardObj));\r\n  divCard.appendChild(getCardFooter());\r\n  setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n  return divCard;\r\n}\r\n","import cardsJSON from './cards.json';\r\n\r\nconst getCardObject = {\r\n  all() {\r\n    const resultArr = [];\r\n    cardsJSON.forEach((setOfCards) => {\r\n      setOfCards.cards.forEach((card) => {\r\n        const cardObject = {};\r\n        Object.assign(cardObject, setOfCards, card);\r\n        delete cardObject.cards; // remove duplicated field\r\n        resultArr.push(cardObject);\r\n      });\r\n    });\r\n    return resultArr;\r\n  },\r\n\r\n  byID(id) {\r\n    const cardObject = {};\r\n    cardsJSON.forEach((setOfCards) => {\r\n      setOfCards.cards.forEach((card) => {\r\n        if (card.innovation === id) {\r\n          Object.assign(cardObject, setOfCards, card);\r\n          delete cardObject.cards; // remove duplicated field\r\n        }\r\n      });\r\n    });\r\n    return cardObject;\r\n  },\r\n};\r\n\r\nexport default getCardObject;\r\n","import gameState from '../components/gameState';\r\n\r\nfunction getRenderCard() {\r\n  let hand = null;\r\n  let activeStacks = null;\r\n\r\n  const renderCard = {\r\n    initObject() {\r\n      hand = document.querySelector('.hand__cards');\r\n      activeStacks = document.querySelectorAll('.active-zone__stack');\r\n    },\r\n\r\n    toHand(cardElement) {\r\n      if (hand === null || activeStacks === null) this.initObject();\r\n      cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n      cardElement.classList.add('xyz-in');\r\n      setTimeout(() => {\r\n        cardElement.classList.remove('xyz-in');\r\n      }, 450);\r\n      hand.append(cardElement);\r\n    },\r\n\r\n    toActive(cardElement) {\r\n      if (hand === null || activeStacks === null) this.initObject();\r\n      // get properties of target stack to calcualte later\r\n      const targetStack = {};\r\n      activeStacks.forEach((stack) => {\r\n        if (cardElement.children[0].classList.contains(`card__color--${stack.id}`)) {\r\n          stack.classList.remove('active-zone__stack--empty');\r\n          targetStack.dom = stack;\r\n          targetStack.dom.style = null;\r\n          targetStack.width = stack.offsetWidth;\r\n          targetStack.height = stack.offsetHeight;\r\n          targetStack.shift = gameState.activePlayer.activeDecks[targetStack.dom.id].shift;\r\n          targetStack.length = gameState.activePlayer.activeDecks[targetStack.dom.id].cards.length;\r\n        }\r\n      });\r\n\r\n      cardElement.style.position = 'absolute';\r\n      cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n      cardElement.classList.add('xyz-in');\r\n\r\n      const cardHeight = cardElement.offsetHeight;\r\n      let cardShiftValue = 40;\r\n\r\n      switch (targetStack.shift) {\r\n        case 'top':\r\n          while (targetStack.height < cardHeight + (targetStack.length * cardShiftValue)\r\n            && cardShiftValue !== 10) {\r\n            cardShiftValue -= 10;\r\n          }\r\n          Array.from(targetStack.dom.children).forEach((card, i) => {\r\n            card.style.bottom = `${i * cardShiftValue}px`;\r\n          });\r\n          if (targetStack.length !== 1) cardElement.style.bottom = `${(targetStack.length - 1) * cardShiftValue}px`;\r\n          break;\r\n\r\n        case 'left':\r\n          while (targetStack.dom.parentElement.offsetWidth / 2.5 < targetStack.width\r\n            + (targetStack.length * cardShiftValue)\r\n            && cardShiftValue !== 10) {\r\n            cardShiftValue -= 10;\r\n          }\r\n          Array.from(targetStack.dom.children).forEach((card, i) => {\r\n            card.style.right = `${i * cardShiftValue}px`;\r\n          });\r\n          cardElement.style.right = `${(targetStack.length - 1) * cardShiftValue}px`;\r\n          if (targetStack.length > 1) {\r\n            targetStack.dom.style.width = `${targetStack.width + cardShiftValue * (targetStack.length - 1)}px`;\r\n          }\r\n          break;\r\n\r\n        case 'right':\r\n          while (targetStack.dom.parentElement.offsetWidth / 2.5 < targetStack.width\r\n            + (targetStack.length * cardShiftValue)\r\n            && cardShiftValue !== 10) {\r\n            cardShiftValue -= 10;\r\n          }\r\n          Array.from(targetStack.dom.children).forEach((card, i) => {\r\n            card.style.left = `${i * cardShiftValue}px`;\r\n          });\r\n          cardElement.style.left = `${(targetStack.length - 1) * cardShiftValue}px`;\r\n          if (targetStack.length > 1) {\r\n            targetStack.dom.style.width = `${targetStack.width + cardShiftValue * (targetStack.length - 1)}px`;\r\n          }\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n\r\n      targetStack.dom.append(cardElement);\r\n      targetStack.dom.scrollIntoView();\r\n    },\r\n\r\n  };\r\n  return renderCard;\r\n}\r\n\r\nconst renderCard = getRenderCard();\r\n\r\nexport default renderCard;\r\n","import Menu from './mainMenu';\r\n\r\nconst intro = {\r\n  init() {\r\n    const divIntro = document.createElement('div');\r\n    divIntro.classList.add('intro');\r\n\r\n    const introContainer = document.createElement('div');\r\n    introContainer.classList.add('intro__container');\r\n\r\n    const introTop = document.createElement('div');\r\n    introTop.classList.add('intro__top');\r\n\r\n    // svg title letters - I n n o v a t i o n\r\n    const introCenter = document.createElement('div');\r\n    introCenter.classList.add('intro__center');\r\n    introCenter.innerHTML = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\r\nwidth=\"500px\" height=\"120px\" viewBox=\"0 0 500 120\" enable-background=\"new 0 0 500 120\" xml:space=\"preserve\">\r\n<path class=\"letter-1\" d=\"M27.346,80.317c3.604,1.819,7.755,0.485,7.755,2.67c0,0.728-0.656,1.334-2.075,1.334c-0.983,0-6.117-0.606-15.292-0.606\r\nS3.536,84.321,2.553,84.321c-1.42,0-2.184-0.606-2.184-1.334c0-2.185,4.259-0.851,7.863-2.67c3.386-1.698,3.932-4.49,3.932-9.829\r\nv-54.61c0-5.218-0.546-8.01-3.604-9.587C5.721,4.835,0.369,5.685,0.369,3.985c0-0.728,1.857-1.213,3.167-1.213\r\nc1.202,0,5.898,0.485,14.199,0.485c8.628,0,13.544-0.485,14.417-0.485c1.201,0,2.949,0.364,2.949,1.092\r\nc0,1.457-3.604,0.971-7.208,2.063s-4.478,4.125-4.478,9.951v54.61C23.415,75.949,24.07,78.739,27.346,80.317z\"/>\r\n<path class=\"letter-2\" d=\"M49.627,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.242-0.354-5.242-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.075,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.375,0,16.165,5.674,16.165,15.724v27.546c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.419,0-5.133-0.709-11.031-0.709c-5.898,0-9.502,0.709-10.922,0.709\r\nc-1.092,0-1.748-0.473-1.748-1.3c0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994\r\nc0-8.394-3.386-12.532-10.267-12.532c-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.84,1.419,5.243,0.709,5.243,2.6c0,0.592-0.655,1.064-1.748,1.064c-1.42,0-5.024-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.092,0-1.638-0.473-1.638-1.3c0-1.655,2.512-1.064,5.242-2.364\r\nc2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-3\" d=\"M116.135,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.076-1.183-5.243-0.354-5.243-1.892c0-1.064,1.638-1.3,4.26-1.892\r\nc5.789-1.3,9.065-3.191,10.157-3.191c2.076,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\r\nc10.376,0,16.165,5.674,16.165,15.724v62.068c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.546,1.064-1.639,1.064c-1.42,0-5.134-0.709-11.032-0.709s-9.501,0.709-10.921,0.709c-1.092,0-1.748-0.473-1.748-1.3\r\nc0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994c0-8.394-3.386-12.532-10.267-12.532\r\nc-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.11,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.655,1.064-1.748,1.064c-1.419,0-5.024-0.709-10.922-0.709s-9.611,0.709-11.032,0.709c-1.092,0-1.638-0.473-1.638-1.3\r\nc0-1.655,2.513-1.064,5.243-2.364c2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<path class=\"letter-4\" d=\"M189.871,31.561c6.881,0,12.779,2.72,17.584,7.803c5.025,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.073,0-26.322-11.467-26.322-27.545C163.22,43.383,175.016,31.561,189.871,31.561z\r\n  M188.996,84.171c10.267,0,15.728-8.631,15.728-25.417c0-16.197-6.007-24.946-15.728-24.946c-8.737,0-15.181,9.339-15.181,25.418\r\nC173.815,75.305,179.385,84.171,188.996,84.171z\"/>\r\n<path class=\"letter-5\" d=\"M254.752,48.939c0-5.218-6.116-3.761-6.116-5.825c0-0.85,0.437-1.092,1.638-1.092c1.53,0,3.715,0.486,6.443,0.486\r\nc2.841,0,4.807-0.364,6.008-0.364c1.311,0,1.967,0.364,1.967,1.092c0,1.214-1.748,0.971-3.277,2.427\r\nc-1.747,1.699-3.387,5.583-5.68,11.892l-12.125,26.524c-0.438,1.214-0.983,1.699-1.857,1.699c-1.748,0-1.857-1.821-3.167-5.34\r\nl-20.852-51.993c-1.201-3.034-2.402-4.976-3.386-5.461c-3.058-1.456-4.697-0.849-4.697-2.548c0-0.85,0.656-1.092,1.857-1.092\r\nc2.075,0,5.679,0.485,11.031,0.485c4.37,0,7.209-0.364,8.52-0.364c1.529,0,2.293,0.243,2.293,1.092c0,1.335-1.856,0.971-4.15,1.578\r\nc-1.529,0.364-2.403,1.457-2.403,3.156c0,1.456,6.434,15.95,8.291,20.683l10.267,26.333\r\nC252.346,52.285,254.752,52.217,254.752,48.939z\"/>\r\n<path class=\"letter-6\" d=\"M269.073,82.822c-6.989,0-11.14-4.368-11.14-11.043c0-10.316,9.938-15.655,30.146-23.786v-9.587\r\nc0-6.433-3.276-9.466-10.486-9.466c-5.461,0-8.956,2.184-9.393,5.825c-0.547,3.883-0.982,6.311-4.696,6.311\r\nc-2.293,0-3.823-1.82-3.823-4.49c0-5.34,6.553-10.073,18.896-10.073c12.779,0,18.786,4.369,18.786,13.956v30.825\r\nc0,4.246,1.311,6.553,3.605,6.553c2.074,0,3.385-2.307,4.477-2.307c0.654,0,0.983,0.364,0.983,1.093c0,2.063-3.933,6.31-8.847,6.31\r\nc-5.134,0-8.848-3.276-9.83-8.494C282.509,79.91,275.845,82.822,269.073,82.822z M268.091,69.23c0,5.581,2.839,8.979,7.318,8.979\r\nc5.68,0,12.67-5.097,12.67-10.557V50.663C274.534,56.488,268.091,61.706,268.091,69.23z\"/>\r\n<path class=\"letter-7\" d=\"M315.265,36.43c-1.421,0-2.076-0.349-2.076-1.047c0-1.163,3.277-2.327,7.319-6.981c4.478-5.12,5.132-8.726,6.333-8.726\r\nc0.765,0,0.983,0.465,0.983,1.629V32.94h10.049c2.185,0,3.167,0.116,3.167,1.746c0,1.28-0.982,1.744-3.275,1.744h-9.831v35.022\r\nc0,7.098,1.966,10.471,6.99,10.471c5.134,0,6.444-5.584,8.192-5.584c0.655,0,1.31,0.698,1.31,1.628\r\nc0,2.909-5.024,7.446-13.106,7.446c-9.829,0-12.67-4.537-12.67-14.543V36.43H315.265z\"/>\r\n<path class=\"letter-8\" d=\"M352.395,36.349c-2.402-0.931-5.461,0.117-5.461-1.397c0-1.28,1.528-1.164,4.479-1.862\r\nc6.772-1.514,10.485-3.608,11.469-3.608c0.873,0,1.201,0.583,1.201,1.746v41.436c0,3.839,0.109,5.47,2.622,6.634\r\nc2.838,1.396,5.241,0.699,5.241,2.56c0,0.582-0.655,1.048-1.748,1.048c-1.31,0-4.913-0.699-10.921-0.699s-9.722,0.699-11.032,0.699\r\nc-1.092,0-1.638-0.466-1.638-1.048c0-1.86,2.402-1.163,5.242-2.56c2.402-1.164,2.621-2.677,2.621-6.634V41.004\r\nC354.47,38.211,354.142,37.047,352.395,36.349z M358.185-0.314c3.057,0,5.569,2.677,5.569,6.052c0,3.259-2.403,5.936-5.569,5.936\r\nc-3.168,0-5.68-2.677-5.68-5.936C352.505,2.363,355.017-0.314,358.185-0.314z\"/>\r\n<path class=\"letter-9\" d=\"M406.231,31.561c6.881,0,12.779,2.72,17.585,7.803c5.023,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\r\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.072,0-26.321-11.467-26.321-27.545C379.582,43.383,391.378,31.561,406.231,31.561z\r\n  M405.358,84.171c10.267,0,15.727-8.631,15.727-25.417c0-16.197-6.007-24.946-15.727-24.946c-8.738,0-15.182,9.339-15.182,25.418\r\nC390.177,75.305,395.747,84.171,405.358,84.171z\"/>\r\n<path class=\"letter-10\" d=\"M449.253,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.243-0.354-5.243-1.892c0-1.064,1.64-1.3,4.261-1.892\r\nc5.788-1.3,9.064-3.191,10.156-3.191c2.076,0,1.856,3.31,2.513,11.585c4.26-7.447,10.158-11.231,18.021-11.231\r\nc10.378,0,16.166,5.674,16.166,15.724v27.546c0,3.901,0.108,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\r\nc0,0.592-0.547,1.064-1.639,1.064c-1.421,0-5.133-0.709-11.03-0.709c-5.898,0-9.503,0.709-10.923,0.709\r\nc-1.093,0-1.747-0.473-1.747-1.3c0-1.655,2.511-1.064,5.242-2.364c2.512-1.183,2.621-2.839,2.621-6.74V47.994\r\nc0-8.394-3.386-12.532-10.266-12.532c-7.428,0-13.764,7.094-13.764,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\r\nc2.841,1.419,5.244,0.709,5.244,2.6c0,0.592-0.656,1.064-1.748,1.064c-1.421,0-5.025-0.709-10.922-0.709\r\nc-5.898,0-9.611,0.709-11.031,0.709c-1.093,0-1.64-0.473-1.64-1.3c0-1.655,2.513-1.064,5.243-2.364\r\nc2.513-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\r\n<defs>\r\n    <filter id=\"mySVGfilter\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\r\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\"/>\r\n    </filter>\r\n</defs>\r\n</svg>`;\r\n\r\n    const introCenterTitle = document.createElement('div');\r\n    introCenterTitle.classList.add('center__title');\r\n    introCenter.appendChild(introCenterTitle);\r\n\r\n    const introBottom = document.createElement('div');\r\n    introBottom.classList.add('intro__bottom');\r\n    const introBottomLamps = document.createElement('div');\r\n    introBottomLamps.classList.add('bottom__lamp');\r\n    for (let i = 0; i < 3; i += 1) {\r\n      const introBottomLamp = document.createElement('div');\r\n      introBottomLamp.classList.add(`bottom__lamp--${i + 1}`);\r\n      introBottomLamps.appendChild(introBottomLamp);\r\n    }\r\n    introBottom.appendChild(introBottomLamps);\r\n\r\n    const introGear = document.createElement('div');\r\n    introGear.classList.add('intro__gear');\r\n    const introGear1 = document.createElement('div');\r\n    introGear1.classList.add('intro__gear1');\r\n    const introGear2 = document.createElement('div');\r\n    introGear2.classList.add('intro__gear2');\r\n    introGear.appendChild(introGear1);\r\n    introGear.appendChild(introGear2);\r\n\r\n    introContainer.appendChild(introTop);\r\n    introContainer.appendChild(introCenter);\r\n    introContainer.appendChild(introBottom);\r\n    introContainer.appendChild(introGear);\r\n    divIntro.appendChild(introContainer);\r\n    document.body.appendChild(divIntro);\r\n\r\n    const img = new Image();\r\n    img.src = './assets/img/intro/center.png';\r\n\r\n    img.addEventListener('load', () => {\r\n      introBottom.classList.add('show');\r\n      // set up and display main menu\r\n      const menu = new Menu(introTop);\r\n      menu.render();\r\n    });\r\n\r\n    divIntro.addEventListener('click', (event) => {\r\n      const menu = document.querySelector('.menu');\r\n      if (event.target.closest('.intro') === divIntro) {\r\n        menu.classList.add('menu__skip');\r\n        introCenter.classList.add('intro__skip');\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default intro;\r\n","import renderCard from '../cards/renderCard';\r\nimport getCardElement from '../cards/getCardElement';\r\nimport getCardObject from '../cards/getCardObject';\r\nimport gameState from './gameState';\r\nimport gameBoard from './gameBoard';\r\n\r\nfunction getAffectedPlayers(cardObj) {\r\n  const res = cardObj.dogma[0].resource;\r\n  let idPlayers;\r\n  if (cardObj.dogma[0].type === 'corporate') {\r\n    idPlayers = gameState.players.filter((player) => player[res] >= gameState.currentPlayer[res])\r\n      .map((player) => player.id);\r\n  } else {\r\n    idPlayers = gameState.players\r\n      .filter((player) => {\r\n        const pl = player[res] < gameState.currentPlayer[res] && player !== gameState.currentPlayer;\r\n        return pl;\r\n      }).map((player) => player.id);\r\n  }\r\n  return idPlayers;\r\n}\r\n\r\nfunction takeCard(cardsNum, ageNum, playerID) {\r\n  while (cardsNum > 0) {\r\n    if (gameState.ageDecks[`age${ageNum}`].length === 0) ageNum += 1;\r\n    const cardID = gameState.ageDecks[`age${ageNum}`].pop();\r\n    gameState.players[playerID].hand.push(cardID);\r\n    cardsNum -= 1;\r\n    if (gameState.players[playerID] === gameState.currentPlayer) {\r\n      const cardObj = getCardObject.byID(cardID);\r\n      const cardElement = getCardElement(cardObj);\r\n      cardElement.onclick = gameBoard.playCard;\r\n      renderCard.toHand(cardElement);\r\n    }\r\n  }\r\n}\r\n\r\nfunction playCard(cardID, playerID) {\r\n  const cardIndex = gameState.players[playerID].hand.indexOf(cardID);\r\n  gameState.players[playerID].hand.splice(cardIndex, 1);\r\n  const cardObj = getCardObject.byID(cardID);\r\n  const cardElement = getCardElement(cardObj);\r\n  const targetStack = gameState.players[playerID].activeDecks[cardObj.color].cards;\r\n  targetStack.push(cardID);\r\n  if (gameState.players[playerID] === gameState.currentPlayer) {\r\n    cardElement.onclick = () => dogmas['письменность'](cardObj); //! change later\r\n    renderCard.toActive(cardElement);\r\n  }\r\n}\r\n\r\nfunction corporateBonus(arrOfId) {\r\n  if (arrOfId.length > 1) {\r\n    takeCard(1, gameState.currentPlayer.currentAge, gameState.currentPlayer.id);\r\n  }\r\n}\r\n\r\nconst dogmas = {\r\n  письменность: (cardObj) => {\r\n    const arrOfId = getAffectedPlayers(cardObj);\r\n    arrOfId.forEach((id) => {\r\n      takeCard(1, 2, id);\r\n    });\r\n    corporateBonus(arrOfId);\r\n  },\r\n  колесо: (cardObj) => {\r\n    const arrOfId = getAffectedPlayers(cardObj);\r\n    arrOfId.forEach((id) => {\r\n      takeCard(2, 1, id);\r\n    });\r\n    corporateBonus(arrOfId);\r\n  },\r\n  парус: (cardObj) => {\r\n    const arrOfId = getAffectedPlayers(cardObj);\r\n    arrOfId.forEach((id) => {\r\n      takeCard(1, 1, id);\r\n      playCard(gameState.players[id].hand[gameState.players[id].hand.length - 1], id);\r\n    });\r\n    corporateBonus(arrOfId);\r\n  },\r\n};\r\n\r\nexport default dogmas;\r\n","import gameState from './gameState';\r\nimport getCardObject from '../cards/getCardObject';\r\nimport getCardElement from '../cards/getCardElement';\r\nimport renderCard from '../cards/renderCard';\r\nimport updateGameState from '../utility/updateGameState';\r\nimport displayNewTurnModal from '../display/displayNewTurnModal';\r\nimport header from '../display/playerTable/displayHeader';\r\nimport dogmas from './dogma';\r\n\r\nconst gameBoard = {\r\n  display() {\r\n    // display info block aside\r\n    const nameBlock = document.querySelector('.info-table__player-name');\r\n    nameBlock.innerText = gameState.activePlayer.name;\r\n    const actionPointsBlock = document.querySelector('.info-table__action-points');\r\n    actionPointsBlock.innerText = gameState.activePlayer.actionPoints;\r\n\r\n    // remove previous active age deck\r\n    let cloneCurrentDeck = document.querySelector('#cloneCurrentDeck');\r\n    if (cloneCurrentDeck !== null) cloneCurrentDeck.onclick = '';\r\n    const activeDeck = document.querySelector('.age-deck--active');\r\n    if (activeDeck !== null) {\r\n      activeDeck.classList.remove('age-deck--active');\r\n      activeDeck.onclick = '';\r\n    }\r\n\r\n    // set avaiable age deck in modal block\r\n    while (gameState.ageDecks[`age${gameState.activePlayer.currentAge}`].length === 0) {\r\n      gameState.activePlayer.currentAge += 1;\r\n    }\r\n    const avaiableAgeDeck = document.querySelector(`#age${gameState.activePlayer.currentAge}`);\r\n    avaiableAgeDeck.classList.add('age-deck--active');\r\n\r\n    // set avaiable age deck in aside\r\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\r\n    if (prevDeckClone !== null) prevDeckClone.remove();\r\n    // clone current active deck\r\n    cloneCurrentDeck = avaiableAgeDeck.cloneNode();\r\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\r\n    cloneCurrentDeck.classList.add('age-deck--active');\r\n    cloneCurrentDeck.classList.remove('xyz-in');\r\n    if (gameState.activePlayer.currentAge !== 10) {\r\n      cloneCurrentDeck.style.backgroundImage = `url(/assets/img/cards-bg/age-0${gameState.activePlayer.currentAge}-title.png)`;\r\n    } else {\r\n      cloneCurrentDeck.style.backgroundImage = 'url(/assets/img/cards-bg/age-10-title.png)';\r\n    }\r\n    // display cloned deck in currentDeck block\r\n    document.querySelector('.current-deck__cards').append(cloneCurrentDeck);\r\n\r\n    // get hand cards of active player\r\n    const hand = document.querySelector('.hand__cards');\r\n    hand.innerHTML = '';\r\n    gameState.activePlayer.hand.forEach((cardID) => {\r\n      const cardObject = getCardObject.byID(cardID);\r\n      const cardElement = getCardElement(cardObject);\r\n      cardElement.onclick = this.playCard;\r\n      hand.append(cardElement);\r\n    });\r\n\r\n    // get active cards of active player\r\n    const stacks = document.querySelectorAll('.active-zone__stack');\r\n    stacks.forEach((stackElement) => {\r\n      stackElement.innerHTML = '';\r\n      stackElement.classList.add('active-zone__stack--empty');\r\n      stackElement.style = null;\r\n      Object.keys(gameState.activePlayer.activeDecks).forEach((activeDeckName) => {\r\n        if (activeDeckName === stackElement.id) {\r\n          gameState.activePlayer.activeDecks[activeDeckName].cards.forEach((card) => {\r\n            const cardObj = getCardObject.byID(card);\r\n            const cardElement = getCardElement(cardObj);\r\n            renderCard.toActive(cardElement);\r\n            cardElement.classList.remove('xyz-in');\r\n          });\r\n        }\r\n      });\r\n    });\r\n  },\r\n\r\n  init() {\r\n    // set hand events\r\n    const cardElements = document.querySelectorAll('.card');\r\n    cardElements.forEach((elem) => {\r\n      if (gameState.currentPlayer.hand.indexOf(elem.dataset.innovation) > -1) {\r\n        elem.onclick = this.playCard;\r\n      }\r\n    });\r\n    // set age decks events\r\n    const ageDeckElements = document.querySelectorAll('.age-deck--active');\r\n    ageDeckElements.forEach((elem) => {\r\n      elem.onclick = this.takeCard;\r\n    });\r\n    // set active zone events\r\n    const activeZoneStacks = document.querySelectorAll('.active-zone__stack');\r\n    activeZoneStacks.forEach((stack) => {\r\n      const stackLength = stack.childNodes.length;\r\n      if (stackLength >= 1) {\r\n        const stackTopCardElement = stack.childNodes[stackLength - 1];\r\n        stackTopCardElement.onclick = () => {\r\n          const cardID = stackTopCardElement.dataset.innovation;\r\n          const cardObj = getCardObject.byID(cardID);\r\n          dogmas[cardID](cardObj);\r\n          gameBoard.update();\r\n        };\r\n      }\r\n    });\r\n    this.setHeaderCurrent();\r\n  },\r\n\r\n  update() {\r\n    gameState.currentPlayer.actionPoints -= 1;\r\n\r\n    if (gameState.currentPlayer.actionPoints === 0) {\r\n      this.displayNextTurnBtn();\r\n    }\r\n\r\n    updateGameState(gameState);\r\n    gameState.players.forEach((player) => header.changePlayerStats(player));\r\n\r\n    document.querySelector('.info-table__player-name').innerText = gameState.currentPlayer.name;\r\n    document.querySelector('.info-table__action-points').innerText = gameState.currentPlayer.actionPoints;\r\n  },\r\n\r\n  takeCard(e) {\r\n    // protection of multiple clicks\r\n    e.target.onclick = null;\r\n\r\n    // hide age decks modal block after card taken\r\n    const ageDecksBlock = document.querySelector('.age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // get age deck form which card was taken to use in next block\r\n    let ageDeck = e.target.id;\r\n    if (ageDeck === 'cloneCurrentDeck') { ageDeck = gameState.currentPlayer.currentDeck; }\r\n\r\n    // change gameState\r\n    const cardID = gameState.ageDecks[ageDeck].pop();\r\n    gameState.currentPlayer.hand.push(cardID);\r\n\r\n    // get card DOM element and render it to hand\r\n    const cardObj = getCardObject.byID(cardID);\r\n    const movingCardElement = getCardElement(cardObj);\r\n    movingCardElement.onclick = gameBoard.playCard;\r\n    renderCard.toHand(movingCardElement);\r\n\r\n    gameBoard.update();\r\n\r\n    // protection of multiple clicks\r\n    setTimeout(() => {\r\n      if (gameState.currentPlayer.actionPoints !== 0) {\r\n        e.target.onclick = gameBoard.takeCard;\r\n      }\r\n    }, 250);\r\n  },\r\n\r\n  playCard(e) {\r\n    // get current card\r\n    const cardID = e.target.closest('.card').dataset.innovation;\r\n    const cardElement = e.target.closest('.card');\r\n    const cardObj = getCardObject.byID(cardID);\r\n\r\n    // change gameState\r\n    const cardIndex = gameState.currentPlayer.hand.indexOf(cardID);\r\n    gameState.currentPlayer.hand.splice(cardIndex, 1);\r\n    const targetStack = gameState.currentPlayer.activeDecks[cardObj.color].cards;\r\n    targetStack.push(cardID);\r\n\r\n    // set dogma function\r\n    cardElement.onclick = () => {\r\n      dogmas[cardID](cardObj);\r\n      gameBoard.update();\r\n    };\r\n    renderCard.toActive(cardElement);\r\n\r\n    gameBoard.update();\r\n  },\r\n\r\n  displayNextTurnBtn() {\r\n    const nextTurnBtn = document.createElement('div');\r\n    nextTurnBtn.classList.add('info-table__next-turn-btn');\r\n    nextTurnBtn.innerText = 'Закончить ход';\r\n    nextTurnBtn.addEventListener('click', () => {\r\n      // change current player\r\n      for (let i = 0; i < gameState.players.length; i += 1) {\r\n        if (gameState.currentPlayer === gameState.players[i]) {\r\n          i += 1;\r\n          if (i === gameState.players.length) i = 0;\r\n          gameState.currentPlayer = gameState.players[i];\r\n          gameState.activePlayer = gameState.currentPlayer;\r\n          gameState.currentPlayer.actionPoints = 2;\r\n          break;\r\n        }\r\n      }\r\n      displayNewTurnModal(gameState.currentPlayer.name);\r\n      setTimeout(() => {\r\n        gameBoard.display();\r\n        gameBoard.init();\r\n        const excistedNextTurnBtn = document.querySelector('.info-table__next-turn-btn');\r\n        excistedNextTurnBtn.remove();\r\n      }, 500);\r\n    });\r\n    const infoTable = document.querySelector('.info-table');\r\n    this.disableEvents();\r\n    infoTable.append(nextTurnBtn);\r\n  },\r\n\r\n  setHeaderCurrent() {\r\n    Array.from(document.querySelectorAll('.head-row__name')).forEach((headerName) => {\r\n      headerName.parentElement.parentElement.classList.remove('player-container--active');\r\n      if (headerName.innerText === gameState.currentPlayer.name) {\r\n        setTimeout(() => {\r\n          headerName.parentElement.parentElement.classList.add('player-container--active');\r\n        }, 250);\r\n      }\r\n    });\r\n  },\r\n\r\n  disableEvents() {\r\n    const cards = Array.from(document.querySelectorAll('.card'));\r\n    cards.forEach((card) => {\r\n      card.onclick = '';\r\n      card.style.cursor = 'default';\r\n      card.style.transform = 'none';\r\n    });\r\n    const cardDogms = Array.from(document.querySelectorAll('.card__dogma'));\r\n    cardDogms.forEach((cardDogma) => {\r\n      cardDogma.onclick = '';\r\n      cardDogma.style.cursor = 'default';\r\n      cardDogma.style.transform = 'none';\r\n    });\r\n    const decks = Array.from(document.querySelectorAll('.age-deck'));\r\n    decks.forEach((deck) => {\r\n      deck.onclick = '';\r\n      deck.classList.remove('age-deck--active');\r\n    });\r\n  },\r\n};\r\n\r\nexport default gameBoard;\r\n","const gameState = {\r\n  ageDecks: {\r\n    age1: [],\r\n    age2: [],\r\n    age3: [],\r\n    age4: [],\r\n    age5: [],\r\n    age6: [],\r\n    age7: [],\r\n    age8: [],\r\n    age9: [],\r\n    age10: [],\r\n  },\r\n  leadershipDeck: [],\r\n  specialDeck: [],\r\n  players: [],\r\n  currentPlayer: null,\r\n  activePlayer: null,\r\n  dogmPlayers: null,\r\n  player0: {\r\n    name: null,\r\n    id: 0,\r\n    actionPoints: 0,\r\n    hand: ['колесо', 'письменность', 'парус'], //! remove\r\n    currentAge: 1,\r\n    currentDeck: 'age1', // test\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: 'right', //! test\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null, //! test\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: 'left', //! test\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player1: {\r\n    name: null,\r\n    id: 1,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: 'left', //! test\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: 'top', //! test\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: 'right', //! test\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player2: {\r\n    name: null,\r\n    id: 2,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n  player3: {\r\n    name: null,\r\n    id: 3,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    currentAge: 1,\r\n    activeDecks: {\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    },\r\n    tree: 0,\r\n    tower: 0,\r\n    crown: 0,\r\n    bulb: 0,\r\n    factory: 0,\r\n    clock: 0,\r\n  },\r\n};\r\n\r\nexport default gameState;\r\n","import initHotSeatGame from '../utility/initHotSeatGame';\r\nimport displayNewTurnModal from '../display/displayNewTurnModal';\r\n\r\nconst users = {};\r\n\r\nfunction isValidate(userObj) {\r\n  if (userObj.names.length === userObj.players) {\r\n    return userObj.names.every((name) => name.length > 2 && name.length < 8);\r\n  }\r\n  return false;\r\n}\r\n\r\nclass Menu {\r\n  constructor(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  createMenuItem(text, ...dopParam) {\r\n    return /* html */ `<a href=\"#\" class=\"menu__link ${dopParam[0] || ''}\" ${dopParam[1] || ''}>\r\n      ${text}\r\n      <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n        <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n      </svg>\r\n    </a><br>`;\r\n  }\r\n\r\n  render() {\r\n    this.menu = document.createElement('div');\r\n    this.menu.classList.add('menu');\r\n    this.menu.innerHTML = `\r\n    ${this.createMenuItem('Новая игра', 'start')}\r\n    ${this.createMenuItem('Продолжить')}\r\n    ${this.createMenuItem('Сохранить игру')}\r\n    ${this.createMenuItem('Правила игры', 'rules')}\r\n    ${this.createMenuItem('Обзор игры')}\r\n    `;\r\n\r\n    this.parent.append(this.menu);\r\n    this.renderPdfRules();\r\n\r\n    this.menu.addEventListener('click', (e) => {\r\n      if (e.target.tagName !== 'A' && e.target.tagName !== 'SPAN' && e.target !== this.menu.querySelector('button')) {\r\n        return;\r\n      }\r\n\r\n      if (e.target.className.includes('start')) {\r\n        this.createChoosePlayersItems();\r\n      } else if (e.target.className.includes('rules')) {\r\n        this.rulesWrraper.hidden = false;\r\n      } else if (e.target.className.includes('close')) {\r\n        this.rulesWrraper.hidden = true;\r\n      } else if (e.target.dataset.players) {\r\n        this.createNameInputField(e.target.dataset.players);\r\n      } else if (e.target.className.includes('get-names')) {\r\n        this.addNamesToUsers();\r\n        if (isValidate(users)) {\r\n          e.preventDefault();\r\n          const intro = this.menu.parentElement.parentElement.parentElement;\r\n          displayNewTurnModal(users.names[0]);\r\n          initHotSeatGame(users);\r\n          setTimeout(() => {\r\n            intro.classList.toggle('intro--hide');\r\n          }, 500);\r\n        }\r\n      } else if (e.target.className.includes('back')) {\r\n        this.menu.remove();\r\n        this.render();\r\n        this.menu.classList.add('menu__used');\r\n      }\r\n    });\r\n  }\r\n\r\n  renderPdfRules() {\r\n    this.rulesWrraper = document.createElement('div');\r\n    this.rulesWrraper.classList.add('iframe__wrraper');\r\n    this.rulesWrraper.hidden = true;\r\n    this.rulesWrraper.innerHTML = /* html */ `\r\n        <span class=\"close\">&#10006</span>\r\n        <iframe class=\"iframe\" src=\"./assets/innovation_rules_rus_final.pdf\" width=\"70%\" height=\"70%\"></iframe>\r\n    `;\r\n\r\n    this.menu.append(this.rulesWrraper);\r\n  }\r\n\r\n  createChoosePlayersItems() {\r\n    for (let i = 0; i < this.menu.children.length; i += 1) {\r\n      this.menu.children[i].hidden = true;\r\n    }\r\n    this.menu.innerHTML = /* html */ `\r\n    ${this.createMenuItem('2 игрока', '', 'data-players=2')}\r\n    ${this.createMenuItem('3 игрока', '', 'data-players=3')}\r\n    ${this.createMenuItem('4 игрока', '', 'data-players=4')}\r\n    ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createNameInputField(numberOfFields) {\r\n    users.players = +numberOfFields;\r\n    this.menu.innerHTML = /* html */ `\r\n      <form>\r\n        ${this.createInputs(numberOfFields)}\r\n        <button class=\"menu__link get-names\" type=\"submit\">Принять</button>\r\n      </form>\r\n      ${this.createMenuItem('Главное меню', 'back')}\r\n    `;\r\n  }\r\n\r\n  createInputs(num) {\r\n    const inputHTML = [];\r\n\r\n    for (let i = 1; i <= num; i += 1) {\r\n      inputHTML.push(\r\n        /* html */ `\r\n        <label for=\"plaeyr${i}\">Введити имя игрока № ${i}</label>\r\n        <input type=\"text\" id=\"player${i}\" value=\"player${i}\" name=\"name\" data-name=\"\" pattern=\"[a-zA-Zа-яА-Я0-9_]{3,7}\" title=\"Введите от 3 до 7 символов\" required>\r\n      `,\r\n      );\r\n    }\r\n\r\n    return inputHTML;\r\n  }\r\n\r\n  addNamesToUsers() {\r\n    const inputs = this.menu.querySelectorAll('[data-name]');\r\n    const playerNames = [];\r\n    for (let i = 0; i < inputs.length; i += 1) {\r\n      if (inputs[i].value) {\r\n        playerNames.push(inputs[i].value);\r\n      }\r\n    }\r\n    users.names = playerNames;\r\n\r\n    return playerNames;\r\n  }\r\n}\r\nexport default Menu;\r\n","export default function displayModal(playerName) {\r\n  const modalBg = document.createElement('div');\r\n  modalBg.classList.add('modal');\r\n  modalBg.classList.add('modal--hidden');\r\n\r\n  const modalBlock = document.createElement('div');\r\n  modalBlock.classList.add('modal__block');\r\n\r\n  const modalOverlay = document.createElement('div');\r\n  modalOverlay.classList.add('modal__overlay');\r\n\r\n  const modalWrapper = document.createElement('div');\r\n  modalWrapper.classList.add('modal__wrapper');\r\n\r\n  const modalText = document.createElement('div');\r\n  modalText.classList.add('modal__text');\r\n  modalText.innerText = `Сейчас ход игрока ${playerName}`;\r\n\r\n  const modalBtn = document.createElement('button');\r\n  modalBtn.classList.add('modal__btn');\r\n  modalBtn.innerText = 'Начать ход!';\r\n  modalBtn.addEventListener('click', () => {\r\n    modalBg.style = '';\r\n    modalBg.classList.toggle('modal--hidden');\r\n    setTimeout(() => {\r\n      modalBg.remove();\r\n    }, 500);\r\n  });\r\n\r\n  modalWrapper.append(modalText, modalBtn);\r\n  modalBlock.append(modalOverlay, modalWrapper);\r\n  modalBg.append(modalBlock);\r\n\r\n  document.body.prepend(modalBg);\r\n  setTimeout(() => {\r\n    modalBg.classList.toggle('modal--hidden');\r\n  }, 0);\r\n}\r\n","const displayActiveZone = {\r\n  wrapper: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('active-zone');\r\n\r\n    this.activeZoneTitle = document.createElement('div');\r\n    this.activeZoneTitle.classList.add('active-zone__title');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('active-zone__cards-block');\r\n\r\n    this.cardsBlockWrapper = document.createElement('div');\r\n    this.cardsBlockWrapper.classList.add('active-zone__cards-wrapper');\r\n\r\n    this.cardsBlock.append(this.cardsBlockWrapper);\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('active-zone__overlay');\r\n\r\n    // create players active stacks\r\n    const stacksNames = ['red', 'green', 'blue', 'purple', 'yellow'];\r\n    for (let i = 0; i < stacksNames.length; i += 1) {\r\n      const stack = document.createElement('div');\r\n      stack.classList.add('active-zone__stack');\r\n      stack.classList.add('active-zone__stack--empty');\r\n      stack.id = stacksNames[i];\r\n      this.cardsBlockWrapper.append(stack);\r\n    }\r\n\r\n    this.wrapper.append(this.activeZoneTitle);\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayActiveZone;\r\n","const displayAside = {\r\n  wrapper: null,\r\n  init() {\r\n    // create aside wrapper\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('aside');\r\n\r\n    // append block for style aside backgroung and border\r\n    this.wrapper.append(this.getStyleBlock('overlay'));\r\n    this.wrapper.append(this.getStyleBlock('top'));\r\n    this.wrapper.append(this.getStyleBlock('center'));\r\n    this.wrapper.append(this.getStyleBlock('bottom'));\r\n\r\n    // append createand blocks to aside wrapper\r\n    this.wrapper.append(this.getInfoBlock());\r\n    this.wrapper.append(this.getCurrentDeckBlock());\r\n    this.wrapper.append(this.getExtraCardsBlock());\r\n    this.wrapper.append(this.getLogBlock());\r\n\r\n    // create hidden modals blocks\r\n    this.ageDecksBlock = this.getAgeDecksBlock();\r\n    this.leadershipCardsBlock = this.getLeadershipCardsBlock();\r\n    this.specialCardsBlock = this.getSpecialCardsBlock();\r\n\r\n    // append hidden modal blocks to body\r\n    document.body.append(this.ageDecksBlock);\r\n    document.body.append(this.leadershipCardsBlock);\r\n    document.body.append(this.specialCardsBlock);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n  getStyleBlock(name) {\r\n    const block = document.createElement('div');\r\n    block.classList.add(`aside__${name}`);\r\n    return block;\r\n  },\r\n\r\n  getInfoBlock() {\r\n    // create info block\r\n    const infoBlock = document.createElement('div');\r\n    infoBlock.classList.add('info-table');\r\n\r\n    // create current player block\r\n    const currentPlayerBlock = document.createElement('div');\r\n    currentPlayerBlock.classList.add('info-table__player-block');\r\n\r\n    const currentPlayerText = document.createElement('div');\r\n    currentPlayerText.innerText = 'Ход игрока: ';\r\n\r\n    const currentPlayerName = document.createElement('div');\r\n    currentPlayerName.classList.add('info-table__player-name');\r\n\r\n    currentPlayerBlock.append(currentPlayerText);\r\n    currentPlayerBlock.append(currentPlayerName);\r\n\r\n    // create action points block\r\n    const actionPointsBlock = document.createElement('div');\r\n    actionPointsBlock.classList.add('info-table__action-points-block');\r\n\r\n    const actionPointsText = document.createElement('div');\r\n    actionPointsText.innerText = 'Осталось ОД: ';\r\n\r\n    const actionPointsValue = document.createElement('div');\r\n    actionPointsValue.classList.add('info-table__action-points');\r\n\r\n    actionPointsBlock.append(actionPointsText);\r\n    actionPointsBlock.append(actionPointsValue);\r\n\r\n    // append created blocks to info block\r\n    infoBlock.append(currentPlayerBlock);\r\n    infoBlock.append(actionPointsBlock);\r\n\r\n    return infoBlock;\r\n  },\r\n\r\n  getCurrentDeckBlock() {\r\n    // create current deck block\r\n    const currentDeck = document.createElement('div');\r\n    currentDeck.classList.add('current-deck');\r\n\r\n    const currentDeckTitle = document.createElement('div');\r\n    currentDeckTitle.classList.add('current-deck__title');\r\n    currentDeckTitle.innerText = 'Взять карту';\r\n\r\n    const currentDeckCards = document.createElement('div');\r\n    currentDeckCards.classList.add('current-deck__cards');\r\n\r\n    // create hover button element\r\n    const hoverBtn = document.createElement('button');\r\n    hoverBtn.classList.add('hover-btn');\r\n    hoverBtn.innerText = 'Показать все';\r\n    hoverBtn.addEventListener('click', () => {\r\n      this.ageDecksBlock.classList.toggle('age-decks--hidden');\r\n    });\r\n\r\n    // append button to deck block\r\n    currentDeckCards.append(hoverBtn);\r\n\r\n    // append title and cards blocks to current deck block\r\n    currentDeck.append(currentDeckTitle);\r\n    currentDeck.append(currentDeckCards);\r\n\r\n    return currentDeck;\r\n  },\r\n\r\n  getExtraCardsBlock() {\r\n    // create extra cards block\r\n    const extraCards = document.createElement('div');\r\n    extraCards.classList.add('extra-cards');\r\n\r\n    // create special cards block\r\n    const specialCards = document.createElement('div');\r\n    specialCards.classList.add('extra-cards__special-block');\r\n\r\n    const specialCardsTitle = document.createElement('div');\r\n    specialCardsTitle.classList.add('extra-cards__special-title');\r\n    specialCardsTitle.innerText = '5 карт';\r\n\r\n    const specialCardsCards = document.createElement('div');\r\n    specialCardsCards.classList.add('extra-cards__special-cards');\r\n\r\n    // create hover button for special cards block\r\n    const hoverBtnSpecial = document.createElement('button');\r\n    hoverBtnSpecial.classList.add('hover-btn');\r\n    hoverBtnSpecial.innerText = 'Показать все';\r\n    hoverBtnSpecial.addEventListener('click', () => {\r\n      this.specialCardsBlock.classList.toggle('special-cards--hidden');\r\n    });\r\n    specialCardsCards.append(hoverBtnSpecial);\r\n\r\n    // append title and cards to special cards block\r\n    specialCards.append(specialCardsTitle);\r\n    specialCards.append(specialCardsCards);\r\n\r\n    // create leadership cards block\r\n    const leadershipCards = document.createElement('div');\r\n    leadershipCards.classList.add('extra-cards__leadership-block');\r\n\r\n    const leadershipCardsTitle = document.createElement('div');\r\n    leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n    leadershipCardsTitle.innerText = 'Век 1';\r\n\r\n    const leadershipCardsCards = document.createElement('div');\r\n    leadershipCardsCards.classList.add('extra-cards__leadership-cards');\r\n\r\n    // create hover button for leadership cards block\r\n    const hoverBtnLeadership = document.createElement('button');\r\n    hoverBtnLeadership.classList.add('hover-btn');\r\n    hoverBtnLeadership.innerText = 'Показать все';\r\n    hoverBtnLeadership.addEventListener('click', () => {\r\n      this.leadershipCardsBlock.classList.toggle('leadership-cards--hidden');\r\n    });\r\n    leadershipCardsCards.append(hoverBtnLeadership);\r\n\r\n    // append title and cards to leadership cards block\r\n    leadershipCards.append(leadershipCardsTitle);\r\n    leadershipCards.append(leadershipCardsCards);\r\n\r\n    // apend special cards and leadership blocks to extra cards block\r\n    extraCards.append(specialCards);\r\n    extraCards.append(leadershipCards);\r\n\r\n    return extraCards;\r\n  },\r\n\r\n  getLogBlock() {\r\n    // create log block\r\n    const logBlock = document.createElement('div');\r\n    logBlock.classList.add('chat-log');\r\n\r\n    // chat tab\r\n    logBlock.innerHTML = `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"chat-block\" name=\"tab-group\" checked>\r\n      <label for=\"chat-block\" class=\"chat-log__tab-title\">Чат</label> \r\n      <section class=\"chat-log__tab-content chat-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // log tab\r\n    logBlock.innerHTML += `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"log-block\" name=\"tab-group\">\r\n      <label for=\"log-block\" class=\"chat-log__tab-title\">Лог</label> \r\n      <section class=\"chat-log__tab-content log-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // input\r\n    logBlock.innerHTML += `<form class=\"chat-log__form\" id=\"input-form\">\r\n      <input class=\"chat-log__input\">\r\n      <button class=\"chat-log__btn\" type=\"submit\" form=\"input-form\">Отправить</button>\r\n    </form>`;\r\n\r\n    // spread button\r\n    const spreadBtn = document.createElement('div');\r\n    spreadBtn.classList.add('chat-log__spread');\r\n    logBlock.append(spreadBtn);\r\n\r\n    spreadBtn.addEventListener('click', () => {\r\n      logBlock.classList.toggle('chat-log--full-screen');\r\n      spreadBtn.classList.toggle('chat-log__spread--open');\r\n    });\r\n\r\n    return logBlock;\r\n  },\r\n\r\n  getAgeDecksBlock() {\r\n    // create age decks modal block\r\n    const agesNumber = 10;\r\n    const ageDecksBlock = document.createElement('div');\r\n    ageDecksBlock.classList.add('age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    ageDecksBlock.classList.add('xyz-in');\r\n    ageDecksBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('age-decks__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('age-decks__second-line');\r\n\r\n    const thirdLine = document.createElement('div');\r\n    thirdLine.classList.add('age-decks__third-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('age-decks__btn-line');\r\n\r\n    // create age decks\r\n    for (let i = 0; i < agesNumber; i += 1) {\r\n      const deck = document.createElement('div');\r\n      deck.classList.add('age-deck');\r\n      deck.id = `age${i + 1}`;\r\n      if (i < 9) {\r\n        deck.style.backgroundImage = `url(./assets/img/cards-bg/age-0${i + 1}-title.png)`;\r\n      } else if (i === 9) {\r\n        deck.style.backgroundImage = 'url(./assets/img/cards-bg/age-10-title.png)';\r\n      }\r\n\r\n      // Animation classes and attributes for cards here\r\n      deck.classList.add('xyz-in');\r\n      deck.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 4) {\r\n        firstLine.append(deck);\r\n      } else if (i < 7) {\r\n        secondLine.append(deck);\r\n      } else if (i < 10) {\r\n        thirdLine.append(deck);\r\n      }\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    ageDecksBlock.append(firstLine);\r\n    ageDecksBlock.append(secondLine);\r\n    ageDecksBlock.append(thirdLine);\r\n    ageDecksBlock.append(btnLine);\r\n\r\n    return ageDecksBlock;\r\n  },\r\n\r\n  getLeadershipCardsBlock() {\r\n    // create leadership decks modal block\r\n    const leadershipCardsBlock = document.createElement('div');\r\n    leadershipCardsBlock.classList.add('leadership-cards');\r\n    leadershipCardsBlock.classList.add('leadership-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    leadershipCardsBlock.classList.add('xyz-in');\r\n    leadershipCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('leadership-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('leadership-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('leadership-cards__btn-line');\r\n\r\n    // create leadership cards\r\n    const numOfLeadershipCards = 10;\r\n    for (let i = 0; i < numOfLeadershipCards; i += 1) {\r\n      const leadershipCard = document.createElement('div');\r\n      leadershipCard.classList.add('leadership-cards__card');\r\n      // leadershipCard.innerText = `${i + 1}`;\r\n\r\n      const leadershipCardsTitle = document.createElement('div');\r\n      leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n      leadershipCardsTitle.innerText = `Век ${i + 1}`;\r\n\r\n      leadershipCard.append(leadershipCardsTitle);\r\n\r\n      // Animation classes and attributes for cards here\r\n      leadershipCard.classList.add('xyz-in');\r\n      leadershipCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 5) firstLine.append(leadershipCard);\r\n      else if (i < 10) secondLine.append(leadershipCard);\r\n\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    leadershipCardsBlock.append(firstLine);\r\n    leadershipCardsBlock.append(secondLine);\r\n    leadershipCardsBlock.append(btnLine);\r\n\r\n    return leadershipCardsBlock;\r\n  },\r\n\r\n  getSpecialCardsBlock() {\r\n    // create special cards modal block\r\n    const specialCardsBlock = document.createElement('div');\r\n    specialCardsBlock.classList.add('special-cards');\r\n    specialCardsBlock.classList.add('special-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    specialCardsBlock.classList.add('xyz-in');\r\n    specialCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('special-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('special-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('special-cards__btn-line');\r\n\r\n    // create special cards\r\n    const numOfSpecialCards = 5;\r\n    for (let i = 0; i < numOfSpecialCards; i += 1) {\r\n      const specialCard = document.createElement('div');\r\n      specialCard.classList.add('special-cards__card');\r\n\r\n      // Animation classes and attributes for cards here\r\n      specialCard.classList.add('xyz-in');\r\n      specialCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 3) firstLine.append(specialCard);\r\n      else if (i < 5) secondLine.append(specialCard);\r\n\r\n      // create close button\r\n      if (i === 4) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    specialCardsBlock.append(firstLine);\r\n    specialCardsBlock.append(secondLine);\r\n    specialCardsBlock.append(btnLine);\r\n\r\n    return specialCardsBlock;\r\n  },\r\n};\r\n\r\nexport default displayAside;\r\n","const displayHand = {\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('hand');\r\n\r\n    this.handTitle = document.createElement('div');\r\n    this.handTitle.classList.add('hand__title');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('hand__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('hand__overlay');\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('hand__controls');\r\n\r\n    // disabled by default\r\n    this.arrowTop = document.createElement('button');\r\n    this.arrowTop.classList.add('hand__btn--top', 'hand__btn');\r\n    this.arrowTop.classList.add('hand__btn--disabled');\r\n    this.arrowTop.disabled = true;\r\n    this.arrowTop.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    // disabled by default\r\n    this.arrowBottom = document.createElement('button');\r\n    this.arrowBottom.classList.add('hand__btn--bottom', 'hand__btn');\r\n    this.arrowBottom.classList.add('hand__btn--disabled');\r\n    this.arrowBottom.disabled = true;\r\n    this.arrowBottom.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    this.controlsBlock.append(this.arrowTop);\r\n    this.controlsBlock.append(this.arrowBottom);\r\n\r\n    this.wrapper.append(this.handTitle);\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHand;\r\n","const displayHeader = {\r\n  wrapper: null,\r\n  headRowNames: [{ hand: ['fas', 'fa-hand-paper', 'yellow'] }, { influence: ['fas', 'fa-shield-alt', 'red'] }, { leadership: ['fas', 'fa-trophy', 'yellow'] }],\r\n  resourcesNames: [{ tree: ['fab', 'fa-pagelines', 'green'] }, { tower: ['fab', 'fa-fort-awesome', 'grey'] }, { crown: ['fas', 'fa-crown', 'yellow'] }, { bulb: ['fas', 'fa-lightbulb', 'purple'] }, { factory: ['fas', 'fa-industry', 'red'] }, { clock: ['far', 'fa-clock', 'blue'] }],\r\n  player0: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player1: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player2: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player3: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n\r\n  initPlayerStats(id) {\r\n    const player = `player${id}`;\r\n\r\n    this[player].container = document.createElement('div');\r\n    this[player].container.classList.add('player-container');\r\n\r\n    const headRow = document.createElement('div');\r\n    headRow.classList.add('head-row');\r\n    this[player].name = document.createElement('div');\r\n    this[player].name.classList.add('head-row__name');\r\n    this[player].name.textContent = `Player${id}`;\r\n    headRow.appendChild(this[player].name);\r\n\r\n    this.headRowNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      const container = document.createElement('div');\r\n      container.classList.add('cards-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'cards-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('cards-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      headRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(headRow);\r\n\r\n    const activeZoneRow = document.createElement('div');\r\n    activeZoneRow.classList.add('active-zone-row');\r\n\r\n    this[player].red = document.createElement('div');\r\n    this[player].red.classList.add('active-zone-row__red');\r\n    this[player].red.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].red);\r\n\r\n    this[player].green = document.createElement('div');\r\n    this[player].green.classList.add('active-zone-row__green');\r\n    this[player].green.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].green);\r\n\r\n    this[player].blue = document.createElement('div');\r\n    this[player].blue.classList.add('active-zone-row__blue');\r\n    this[player].blue.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].blue);\r\n\r\n    this[player].purple = document.createElement('div');\r\n    this[player].purple.classList.add('active-zone-row__purple');\r\n    this[player].purple.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].purple);\r\n\r\n    this[player].yellow = document.createElement('div');\r\n    this[player].yellow.classList.add('active-zone-row__yellow');\r\n    this[player].yellow.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].yellow);\r\n\r\n    this[player].container.appendChild(activeZoneRow);\r\n\r\n    const recourcesRow = document.createElement('div');\r\n    recourcesRow.classList.add('recources-row');\r\n    this.resourcesNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      // console.log(e[i][0]);\r\n      const container = document.createElement('div');\r\n      container.classList.add('recource-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'recource-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('recource-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      recourcesRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(recourcesRow);\r\n    this[player].container.classList.add('player-container__hidden');\r\n    this.headerTableWrapper.appendChild(this[player].container);\r\n  },\r\n\r\n  changePlayerStats(player) {\r\n    const playerId = `player${player.id}`;\r\n\r\n    this[playerId].hand.textContent = player.hand.length;\r\n    this[playerId].red.textContent = player.activeDecks.red.cards.length;\r\n    this[playerId].green.textContent = player.activeDecks.green.cards.length;\r\n    this[playerId].blue.textContent = player.activeDecks.blue.cards.length;\r\n    this[playerId].purple.textContent = player.activeDecks.purple.cards.length;\r\n    this[playerId].yellow.textContent = player.activeDecks.yellow.cards.length;\r\n    this[playerId].tree.textContent = player.tree;\r\n    this[playerId].tower.textContent = player.tower;\r\n    this[playerId].crown.textContent = player.crown;\r\n    this[playerId].bulb.textContent = player.bulb;\r\n    this[playerId].factory.textContent = player.factory;\r\n    this[playerId].clock.textContent = player.clock;\r\n  },\r\n\r\n  initPlayerNames(players) {\r\n    for (let i = 0; i < players.length; i += 1) {\r\n      const currentPlayer = `player${i}`;\r\n      this[currentPlayer].name.textContent = players[i];\r\n      this[currentPlayer].container.classList.remove('player-container__hidden');\r\n    }\r\n  },\r\n\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('header');\r\n\r\n    this.headerTitle = document.createElement('div');\r\n    this.headerTitle.classList.add('header__title');\r\n    this.wrapper.appendChild(this.headerTitle);\r\n\r\n    this.headerOverlay = document.createElement('div');\r\n    this.headerOverlay.classList.add('header__overlay');\r\n    this.wrapper.appendChild(this.headerOverlay);\r\n\r\n    this.headerTable = document.createElement('div');\r\n    this.headerTable.classList.add('header__table');\r\n    this.headerTableWrapper = document.createElement('div');\r\n    this.headerTableWrapper.classList.add('header__table__wrapper');\r\n    this.headerTable.appendChild(this.headerTableWrapper);\r\n    this.wrapper.appendChild(this.headerTable);\r\n\r\n    this.initPlayerStats(0);\r\n    this.initPlayerStats(1);\r\n    this.initPlayerStats(2);\r\n    this.initPlayerStats(3);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHeader;\r\n\r\n/* 'tower', 'crown', 'bulb', 'factory', 'clock' */\r\n","import displayHeader from './displayHeader';\r\nimport displayAside from './displayAside';\r\nimport displayActiveZone from './displayActiveZone';\r\nimport displayHand from './displayHand';\r\n\r\nconst displayPlayerTable = {\r\n  wrapper: null,\r\n  header: null,\r\n  aside: null,\r\n  activeZone: null,\r\n  hand: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('wrapper');\r\n\r\n    this.wrapperMain = document.createElement('div');\r\n    this.wrapperMain.classList.add('wrapper__main');\r\n\r\n    this.header = displayHeader.init();\r\n    this.wrapperMain.appendChild(this.header);\r\n\r\n    this.activeZone = displayActiveZone.init();\r\n    this.wrapperMain.appendChild(this.activeZone);\r\n\r\n    this.hand = displayHand.init();\r\n    this.wrapperMain.appendChild(this.hand);\r\n\r\n    this.aside = displayAside.init();\r\n\r\n    this.wrapper.appendChild(this.wrapperMain);\r\n    this.wrapper.appendChild(this.aside);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n};\r\n\r\nexport default displayPlayerTable;\r\n","import gameState from '../components/gameState';\r\nimport getCardObject from '../cards/getCardObject';\r\nimport shuffleArr from './shuffleArr';\r\n\r\nexport default function initGameState(usersInfo) {\r\n  // fill age decks\r\n  const arrOfCardObjects = getCardObject.all();\r\n  arrOfCardObjects.forEach((cardObj) => {\r\n    switch (+cardObj.age) {\r\n      case 1:\r\n        gameState.ageDecks.age1.push(cardObj.innovation);\r\n        break;\r\n      case 2:\r\n        gameState.ageDecks.age2.push(cardObj.innovation);\r\n        break;\r\n      case 3:\r\n        gameState.ageDecks.age3.push(cardObj.innovation);\r\n        break;\r\n      case 4:\r\n        gameState.ageDecks.age4.push(cardObj.innovation);\r\n        break;\r\n      case 5:\r\n        gameState.ageDecks.age5.push(cardObj.innovation);\r\n        break;\r\n      case 6:\r\n        gameState.ageDecks.age6.push(cardObj.innovation);\r\n        break;\r\n      case 7:\r\n        gameState.ageDecks.age7.push(cardObj.innovation);\r\n        break;\r\n      case 8:\r\n        gameState.ageDecks.age8.push(cardObj.innovation);\r\n        break;\r\n      case 9:\r\n        gameState.ageDecks.age9.push(cardObj.innovation);\r\n        break;\r\n      case 10:\r\n        gameState.ageDecks.age10.push(cardObj.innovation);\r\n        break;\r\n      default:\r\n        throw new Error(`Wrong number on age field in ${cardObj}`);\r\n    }\r\n  });\r\n\r\n  // shuffle each age deck & fill leadership deck\r\n  Object.values(gameState.ageDecks).forEach((ageDeck, i) => {\r\n    gameState.ageDecks[`age${i + 1}`] = shuffleArr(ageDeck);\r\n    gameState.leadershipDeck.push(ageDeck.pop());\r\n  });\r\n\r\n  // set up players fields\r\n  for (let i = 0; i < usersInfo.players; i += 1) {\r\n    const player = `player${i}`;\r\n    gameState[player].name = usersInfo.names[i];\r\n    gameState.players.push(gameState[player]);\r\n  }\r\n  gameState.currentPlayer = gameState.players[0];\r\n  gameState.activePlayer = gameState.players[0];\r\n  gameState.currentPlayer.actionPoints = 2; // test\r\n}\r\n","import initGameState from './initGameState';\r\nimport gameBoard from '../components/gameBoard';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\nexport default function initHotSeatGame(usersInfo) {\r\n  initGameState(usersInfo);\r\n  gameBoard.display();\r\n  header.initPlayerNames(usersInfo.names);\r\n  gameBoard.init();\r\n}\r\n","export default function setAsideControls() {\r\n  const buttons = Array.from(document.querySelectorAll('.close-modal-btn'));\r\n\r\n  function animation(e) {\r\n    const button = e.target;\r\n    const parentBlock = e.target.parentElement.parentElement;\r\n    const childLines = Array.from(parentBlock.children);\r\n    const childBlocks = childLines.map((line) => Array.from(line.children)).flat();\r\n\r\n    button.removeEventListener('click', animation);\r\n    parentBlock.classList.remove('xyz-in');\r\n    parentBlock.classList.add('xyz-out');\r\n\r\n    childBlocks.forEach((child) => {\r\n      child.classList.remove('xyz-in');\r\n      child.classList.add('xyz-out');\r\n    });\r\n\r\n    setTimeout(() => {\r\n      parentBlock.classList.toggle(`${parentBlock.className.split(' ')[0]}--hidden`);\r\n      childBlocks.forEach((child) => {\r\n        child.classList.remove('xyz-out');\r\n        child.classList.add('xyz-in');\r\n        parentBlock.classList.remove('xyz-out');\r\n        parentBlock.classList.add('xyz-in');\r\n      });\r\n      button.addEventListener('click', animation);\r\n    }, 600);\r\n  }\r\n\r\n  buttons.forEach((button) => {\r\n    button.addEventListener('click', animation);\r\n  });\r\n}\r\n","// function which disable passed dom element button\r\nfunction disableBtn(btnElement) {\r\n  btnElement.disabled = true;\r\n  btnElement.classList.add('hand__btn--disabled');\r\n}\r\n\r\n// function which enable passed dom element button\r\nfunction enableBtn(btnElement) {\r\n  btnElement.disabled = false;\r\n  btnElement.classList.remove('hand__btn--disabled');\r\n}\r\n\r\nexport default function setGameControls() {\r\n  // get needed dom elements\r\n  const btnTop = document.querySelector('.hand__btn--top');\r\n  const btnBottom = document.querySelector('.hand__btn--bottom');\r\n  const hand = document.querySelector('.hand__cards');\r\n\r\n  // const height of one line of cards (current = 200px card + 70px margins/decoration)\r\n  // dinamically calculated depends on html font-size property\r\n  const html = document.documentElement;\r\n  const style = window.getComputedStyle(html, null).getPropertyValue('font-size');\r\n  const fontSize = parseFloat(style);\r\n\r\n  const cardsLineHeight = fontSize * 27;\r\n  // const timeout used because time needed for scroll animation before values updated\r\n  const timeoutTime = 350;\r\n\r\n  // event activated on each inserted card\r\n  hand.addEventListener('DOMNodeInserted', () => {\r\n    // scroll to inserted card (or do nothing)\r\n    hand.scrollTop = hand.scrollHeight - cardsLineHeight;\r\n    disableBtn(btnBottom);\r\n    // if scrolled to second+ line of cards\r\n    if (hand.scrollHeight > cardsLineHeight) {\r\n      enableBtn(btnTop);\r\n    }\r\n  });\r\n\r\n  // event activated on each removed card\r\n  hand.addEventListener('DOMNodeRemoved', () => {\r\n    setTimeout(() => {\r\n      // only one line of card left - disable both buttons\r\n      if (hand.scrollHeight === cardsLineHeight) {\r\n        disableBtn(btnBottom);\r\n        disableBtn(btnTop);\r\n      // if point of view is on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      } else if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at top button\r\n  btnTop.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnTop.disabled = true;\r\n\r\n    // scroll up one line\r\n    hand.scrollTop -= cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    // !important: dont use else here, need 2 separate if blocks\r\n    setTimeout(() => {\r\n      // if point of view at first line\r\n      if (hand.scrollTop === 0) {\r\n        disableBtn(btnTop);\r\n        enableBtn(btnBottom);\r\n      }\r\n      // if point of view not at first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnBottom);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnTop.disabled = false;\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at botom button\r\n  btnBottom.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnBottom.disabled = true;\r\n\r\n    // scroll down on one line\r\n    hand.scrollTop += cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    setTimeout(() => {\r\n      // if point of view isnt on first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnTop);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnBottom.disabled = false;\r\n      }\r\n      // if point of view on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2 && hand.scrollTop !== 0) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n}\r\n","export default function shuffleArr(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n  return array;\r\n}\r\n","import getCardObject from '../cards/getCardObject';\r\n\r\nexport default function updateGameState(gameState) {\r\n  // update resources for each player\r\n  gameState.players.forEach((player) => {\r\n    player.tree = 0;\r\n    player.tower = 0;\r\n    player.crown = 0;\r\n    player.bulb = 0;\r\n    player.factory = 0;\r\n    player.clock = 0;\r\n    Object.keys(player.activeDecks).forEach((stack) => {\r\n      const currentStack = player.activeDecks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n        const highestCard = getCardObject.byID(highestCardInnovation);\r\n        highestCard.resourses.forEach((e) => {\r\n          player[e.name] += 1;\r\n        });\r\n      }\r\n      // calculate shift\r\n      if (currentStack.cards.length > 1) {\r\n        // calculate top shift\r\n        if (currentStack.shift === 'top') {\r\n          const arrOfPositions = ['bottomLeft', 'bottomCenter', 'bottomRight'];\r\n          for (let i = 0; i <= currentStack.cards.length - 2; i += 1) {\r\n            const currentCardInnovation = currentStack.cards[i];\r\n            const currentCardObj = getCardObject.byID(currentCardInnovation);\r\n            currentCardObj.resourses.forEach((e) => {\r\n              if (arrOfPositions.indexOf(e.position) > -1) {\r\n                player[e.name] += 1;\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        // calculate left shift\r\n        if (currentStack.shift === 'left') {\r\n          for (let i = 0; i <= currentStack.cards.length - 2; i += 1) {\r\n            const currentCardInnovation = currentStack.cards[i];\r\n            const currentCardObj = getCardObject.byID(currentCardInnovation);\r\n            currentCardObj.resourses.forEach((e) => {\r\n              if (e.position === 'bottomRight') {\r\n                player[e.name] += 1;\r\n              }\r\n            });\r\n          }\r\n        }\r\n\r\n        // calculate right shift\r\n        if (currentStack.shift === 'right') {\r\n          const arrOfPositions = ['bottomLeft', 'topLeft'];\r\n          for (let i = 0; i <= currentStack.cards.length - 2; i += 1) {\r\n            const currentCardInnovation = currentStack.cards[i];\r\n            const currentCardObj = getCardObject.byID(currentCardInnovation);\r\n            currentCardObj.resourses.forEach((e) => {\r\n              if (arrOfPositions.indexOf(e.position) > -1) {\r\n                player[e.name] += 1;\r\n              }\r\n            });\r\n          }\r\n        }\r\n      }\r\n    });\r\n  });\r\n\r\n  // update currentAge for each player\r\n  gameState.players.forEach((player) => {\r\n    player.currentAge = 1;\r\n    Object.keys(player.activeDecks).forEach((stack) => {\r\n      const currentStack = player.activeDecks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCardInnovation = currentStack.cards[currentStack.cards.length - 1];\r\n        const highestCard = getCardObject.byID(highestCardInnovation);\r\n        if (highestCard.age > player.currentAge) { player.currentAge = highestCard.age; }\r\n      }\r\n    });\r\n  });\r\n\r\n  // update currentDeck for each player\r\n  gameState.players.forEach((player) => {\r\n    for (let i = player.currentAge; i < 11; i += 1) {\r\n      const deck = gameState.ageDecks[`age${i}`];\r\n      if (deck.length > 0) {\r\n        player.currentDeck = `age${i}`;\r\n        break;\r\n      }\r\n    }\r\n  });\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/js/app.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}