{"version":3,"sources":["webpack://innovation/./src/js/display/playerTable/displayHeader.js","webpack://innovation/./src/js/display/playerTable/displayAside.js","webpack://innovation/./src/js/display/playerTable/displayActiveZone.js","webpack://innovation/./src/js/display/playerTable/displayHand.js","webpack://innovation/./src/js/display/playerTable/displayPlayerTable.js","webpack://innovation/./src/js/utility/setHandControls.js","webpack://innovation/./src/js/components/GameField.js","webpack://innovation/./src/js/cards/getCard.js","webpack://innovation/./src/js/components/Player.js","webpack://innovation/./src/js/components/Game.js","webpack://innovation/./src/js/components/GameUI.js","webpack://innovation/./src/js/components/mainMenu.js","webpack://innovation/./src/js/components/Intro.js","webpack://innovation/./src/js/app.js","webpack://innovation/./src/js/utility/setAsideControls.js","webpack://innovation/./src/js/cards/parseCards.js","webpack://innovation/./src/js/utility/shuffle.js","webpack://innovation/./src/js/utility/setChat.js"],"names":["wrapper","headRowNames","hand","influence","leadership","resourcesNames","tree","tower","crown","bulb","factory","clock","player1","container","name","red","green","blue","purple","yellow","player2","player3","player4","initPlayerStats","id","player","this","document","createElement","classList","add","headRow","textContent","appendChild","forEach","e","i","Object","keys","iconContainer","activeZoneRow","recourcesRow","changePlayerStats","playerId","length","activeStacks","cards","init","append","getInfoBlock","getCurrentDeckBlock","getExtraCardsBlock","getLogBlock","ageDecksBlock","getAgeDecksBlock","leadershipCardsBlock","getLeadershipCardsBlock","specialCardsBlock","getSpecialCardsBlock","body","infoBlock","currentPlayerBlock","currentPlayerText","innerText","currentPlayerName","actionPointsBlock","actionPointsText","actionPointsValue","currentDeck","currentDeckTitle","currentDeckCards","hoverBtn","addEventListener","toggle","extraCards","specialCards","specialCardsTitle","specialCardsCards","hoverBtnSpecial","leadershipCards","leadershipCardsTitle","leadershipCardsCards","hoverBtnLeadership","logBlock","innerHTML","spreadBtn","setAttribute","firstLine","secondLine","thirdLine","btnLine","deck","style","backgroundImage","button","leadershipCard","specialCard","cardsBlock","cardsBlockOverlay","stacksNames","stack","controlsBlock","arrowTop","disabled","arrowBottom","header","aside","activeZone","wrapperMain","displayHeader","displayActiveZone","displayHand","displayAside","disableBtn","btnElement","enableBtn","remove","GameField","arrOfCardObjects","ageDecks","age1","age2","age3","age4","age5","age6","age7","age8","age9","age10","leadershipDeck","specialDeck","setDeckArrays","cardsObj","age","push","Error","frontSide","cardObj","divCard","background","cardImg","getCardHeader","getCardMain","getCardFooter","setObjByPosition","color","card","divHeader","posTopLeft","title","innovation","divMain","dogma","item","divDogma","dogmaType","icon","dogmaIcon","dogmaColor","dogmaEffect","divFooter","posBottomLeft","posBottomCenter","posBottomRight","agePos","querySelector","agePosition","resourses","res","resoursePosition","resourseType","resourseColor","Player","gameUI","playerName","game","currentAge","shift","ownedLeadership","domElement","cardsArray","currentStack","resourceName","lastTakenCard","cardElement","getCard","onclick","playCard","setTimeout","removeAttribute","stackName","splice","calculateResources","actionDone","Game","gameField","players","currentPlayer","turnPoints","updateInfoTable","removeActiveDeck","setActiveDeck","renderHand","renderActiveZone","newTurn","ageDeckKey","takeCard","bind","updateCurrentDeckBlock","setCurrentAge","pop","renderLastTakenCard","infoTable","actionPoints","prevDeckClone","cloneCurrentDeck","cloneNode","GameUI","getAgeDecks","getActiveStacks","getInfoTable","ageDecksElements","Array","from","getElementsByClassName","ageDeck","activeStack","currentPlayerNameBlock","currentPlayerActionPoints","parent","menu","renderPdfRules","target","tagName","className","includes","parentElement","rulesWrraper","hidden","btnTop","btnBottom","html","cardsLineHeight","divIntro","introContainer","introTop","introCenter","introCenterTitle","introBottom","introBottomLamps","introBottomLamp","introGear","introGear1","introGear2","img","Image","src","Menu","render","prepend","displayPlayerTable","documentElement","window","getComputedStyle","getPropertyValue","parseFloat","onwheel","scrollTop","scrollHeight","animation","parentBlock","childBlocks","children","map","line","flat","removeEventListener","child","split","querySelectorAll","setAsideControls","resultArr","arrOfCards","cardsJSON","setOfCards","cardObject","assign","array","j","Math","floor","random","shuffle","socket","io","messageContainer","messageForm","messageInput","userName","prompt","appendMessage","message","messageElement","autoScroll","emit","on","data","nameOfUsers","values","el","preventDefault","value","setChat"],"mappings":"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","file":"bundle.js","sourcesContent":["const displayHeader = {\n  wrapper: null,\n  headRowNames: [{ hand: ['fas', 'fa-hand-paper', 'yellow'] }, { influence: ['fas', 'fa-shield-alt', 'red'] }, { leadership: ['fas', 'fa-trophy', 'yellow'] }],\n  resourcesNames: [{ tree: ['fab', 'fa-pagelines', 'green'] }, { tower: ['fab', 'fa-fort-awesome', 'grey'] }, { crown: ['fas', 'fa-crown', 'yellow'] }, { bulb: ['fas', 'fa-lightbulb', 'purple'] }, { factory: ['fas', 'fa-industry', 'red'] }, { clock: ['far', 'fa-clock', 'blue'] }],\n  player1: {\n    container: null,\n    name: null,\n    hand: null,\n    influence: null,\n    leadership: null,\n    red: null,\n    green: null,\n    blue: null,\n    purple: null,\n    yellow: null,\n    tree: null,\n    tower: null,\n    crown: null,\n    bulb: null,\n    factory: null,\n    clock: null,\n  },\n  player2: {\n    container: null,\n    name: null,\n    hand: null,\n    influence: null,\n    leadership: null,\n    red: null,\n    green: null,\n    blue: null,\n    purple: null,\n    yellow: null,\n    tree: null,\n    tower: null,\n    crown: null,\n    bulb: null,\n    factory: null,\n    clock: null,\n  },\n  player3: {\n    container: null,\n    name: null,\n    hand: null,\n    influence: null,\n    leadership: null,\n    red: null,\n    green: null,\n    blue: null,\n    purple: null,\n    yellow: null,\n    tree: null,\n    tower: null,\n    crown: null,\n    bulb: null,\n    factory: null,\n    clock: null,\n  },\n  player4: {\n    container: null,\n    name: null,\n    hand: null,\n    influence: null,\n    leadership: null,\n    red: null,\n    green: null,\n    blue: null,\n    purple: null,\n    yellow: null,\n    tree: null,\n    tower: null,\n    crown: null,\n    bulb: null,\n    factory: null,\n    clock: null,\n  },\n\n  initPlayerStats(id) {\n    const player = `player${id}`;\n\n    this[player].container = document.createElement('div');\n    this[player].container.classList.add('player-container');\n\n    const headRow = document.createElement('div');\n    headRow.classList.add('head-row');\n    this[player].name = document.createElement('div');\n    this[player].name.classList.add('head-row__name');\n    this[player].name.textContent = `Player${id}`;\n    headRow.appendChild(this[player].name);\n\n    this.headRowNames.forEach((e) => {\n      const i = Object.keys(e)[0];\n      const container = document.createElement('div');\n      container.classList.add('cards-container');\n      const iconContainer = document.createElement('div');\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'cards-container__icon', `card__icon-color--${e[i][2]}`);\n      container.appendChild(iconContainer);\n      this[player][i] = document.createElement('div');\n      this[player][i].classList.add('cards-container__counter');\n      this[player][i].textContent = 0;\n      container.appendChild(this[player][i]);\n      headRow.appendChild(container);\n    });\n\n    this[player].container.appendChild(headRow);\n\n    const activeZoneRow = document.createElement('div');\n    activeZoneRow.classList.add('active-zone-row');\n\n    this[player].red = document.createElement('div');\n    this[player].red.classList.add('active-zone-row__red');\n    this[player].red.textContent = 0;\n    activeZoneRow.appendChild(this[player].red);\n\n    this[player].green = document.createElement('div');\n    this[player].green.classList.add('active-zone-row__green');\n    this[player].green.textContent = 0;\n    activeZoneRow.appendChild(this[player].green);\n\n    this[player].blue = document.createElement('div');\n    this[player].blue.classList.add('active-zone-row__blue');\n    this[player].blue.textContent = 0;\n    activeZoneRow.appendChild(this[player].blue);\n\n    this[player].purple = document.createElement('div');\n    this[player].purple.classList.add('active-zone-row__purple');\n    this[player].purple.textContent = 0;\n    activeZoneRow.appendChild(this[player].purple);\n\n    this[player].yellow = document.createElement('div');\n    this[player].yellow.classList.add('active-zone-row__yellow');\n    this[player].yellow.textContent = 0;\n    activeZoneRow.appendChild(this[player].yellow);\n\n    this[player].container.appendChild(activeZoneRow);\n\n    const recourcesRow = document.createElement('div');\n    recourcesRow.classList.add('recources-row');\n    this.resourcesNames.forEach((e) => {\n      const i = Object.keys(e)[0];\n      // console.log(e[i][0]);\n      const container = document.createElement('div');\n      container.classList.add('recource-container');\n      const iconContainer = document.createElement('div');\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'recource-container__icon', `card__icon-color--${e[i][2]}`);\n      container.appendChild(iconContainer);\n      this[player][i] = document.createElement('div');\n      this[player][i].classList.add('recource-container__counter');\n      this[player][i].textContent = 0;\n      container.appendChild(this[player][i]);\n      recourcesRow.appendChild(container);\n    });\n\n    this[player].container.appendChild(recourcesRow);\n    this.wrapper.appendChild(this[player].container);\n  },\n\n  changePlayerStats(player) {\n    const playerId = `player${player.id}`;\n\n    this[playerId].hand.textContent = player.hand.length;\n    this[playerId].red.textContent = player.activeStacks.red.cards.length;\n    this[playerId].green.textContent = player.activeStacks.green.cards.length;\n    this[playerId].blue.textContent = player.activeStacks.blue.cards.length;\n    this[playerId].purple.textContent = player.activeStacks.purple.cards.length;\n    this[playerId].yellow.textContent = player.activeStacks.yellow.cards.length;\n    this[playerId].tree.textContent = player.tree;\n    this[playerId].tower.textContent = player.tower;\n    this[playerId].crown.textContent = player.crown;\n    this[playerId].bulb.textContent = player.bulb;\n    this[playerId].factory.textContent = player.factory;\n    this[playerId].clock.textContent = player.clock;\n  },\n\n  init() {\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('header');\n    this.initPlayerStats(1);\n    this.initPlayerStats(2);\n    /* this.initPlayerStats(this.testPlayer3);\n    this.initPlayerStats(this.testPlayer4); */\n    return this.wrapper;\n  },\n};\n\nexport default displayHeader;\n\n/* 'tower', 'crown', 'bulb', 'factory', 'clock' */\n","const displayAside = {\r\n  wrapper: null,\r\n  init() {\r\n    // create aside wrapper\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('aside');\r\n\r\n    // append createand blocks to aside wrapper\r\n    this.wrapper.append(this.getInfoBlock());\r\n    this.wrapper.append(this.getCurrentDeckBlock());\r\n    this.wrapper.append(this.getExtraCardsBlock());\r\n    this.wrapper.append(this.getLogBlock());\r\n\r\n    // create hidden modals blocks\r\n    this.ageDecksBlock = this.getAgeDecksBlock();\r\n    this.leadershipCardsBlock = this.getLeadershipCardsBlock();\r\n    this.specialCardsBlock = this.getSpecialCardsBlock();\r\n\r\n    // append hidden modal blocks to body\r\n    document.body.append(this.ageDecksBlock);\r\n    document.body.append(this.leadershipCardsBlock);\r\n    document.body.append(this.specialCardsBlock);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n  getInfoBlock() {\r\n    // create info block\r\n    const infoBlock = document.createElement('div');\r\n    infoBlock.classList.add('info-table');\r\n\r\n    // create current player block\r\n    const currentPlayerBlock = document.createElement('div');\r\n    currentPlayerBlock.classList.add('info-table__player-block');\r\n\r\n    const currentPlayerText = document.createElement('div');\r\n    currentPlayerText.innerText = 'Ход игрока: ';\r\n\r\n    const currentPlayerName = document.createElement('div');\r\n    currentPlayerName.classList.add('info-table__player-name');\r\n\r\n    currentPlayerBlock.append(currentPlayerText);\r\n    currentPlayerBlock.append(currentPlayerName);\r\n\r\n    // create action points block\r\n    const actionPointsBlock = document.createElement('div');\r\n    actionPointsBlock.classList.add('info-table__action-points-block');\r\n\r\n    const actionPointsText = document.createElement('div');\r\n    actionPointsText.innerText = 'Осталось ОД: ';\r\n\r\n    const actionPointsValue = document.createElement('div');\r\n    actionPointsValue.classList.add('info-table__action-points');\r\n\r\n    actionPointsBlock.append(actionPointsText);\r\n    actionPointsBlock.append(actionPointsValue);\r\n\r\n    // append created blocks to info block\r\n    infoBlock.append(currentPlayerBlock);\r\n    infoBlock.append(actionPointsBlock);\r\n\r\n    return infoBlock;\r\n  },\r\n\r\n  getCurrentDeckBlock() {\r\n    // create current deck block\r\n    const currentDeck = document.createElement('div');\r\n    currentDeck.classList.add('current-deck');\r\n\r\n    const currentDeckTitle = document.createElement('div');\r\n    currentDeckTitle.classList.add('current-deck__title');\r\n    currentDeckTitle.innerText = 'Взять карту';\r\n\r\n    const currentDeckCards = document.createElement('div');\r\n    currentDeckCards.classList.add('current-deck__cards');\r\n\r\n    // create hover button element\r\n    const hoverBtn = document.createElement('button');\r\n    hoverBtn.classList.add('hover-btn');\r\n    hoverBtn.innerText = 'Показать все';\r\n    hoverBtn.addEventListener('click', () => {\r\n      this.ageDecksBlock.classList.toggle('age-decks--hidden');\r\n    });\r\n\r\n    // append button to deck block\r\n    currentDeckCards.append(hoverBtn);\r\n\r\n    // append title and cards blocks to current deck block\r\n    currentDeck.append(currentDeckTitle);\r\n    currentDeck.append(currentDeckCards);\r\n\r\n    return currentDeck;\r\n  },\r\n\r\n  getExtraCardsBlock() {\r\n    // create extra cards block\r\n    const extraCards = document.createElement('div');\r\n    extraCards.classList.add('extra-cards');\r\n\r\n    // create special cards block\r\n    const specialCards = document.createElement('div');\r\n    specialCards.classList.add('extra-cards__special-block');\r\n\r\n    const specialCardsTitle = document.createElement('div');\r\n    specialCardsTitle.classList.add('extra-cards__special-title');\r\n    specialCardsTitle.innerText = 'Специальные';\r\n\r\n    const specialCardsCards = document.createElement('div');\r\n    specialCardsCards.classList.add('extra-cards__special-cards');\r\n\r\n    // create hover button for special cards block\r\n    const hoverBtnSpecial = document.createElement('button');\r\n    hoverBtnSpecial.classList.add('hover-btn');\r\n    hoverBtnSpecial.innerText = 'Показать все';\r\n    hoverBtnSpecial.addEventListener('click', () => {\r\n      this.specialCardsBlock.classList.toggle('special-cards--hidden');\r\n    });\r\n    specialCardsCards.append(hoverBtnSpecial);\r\n\r\n    // append title and cards to special cards block\r\n    specialCards.append(specialCardsTitle);\r\n    specialCards.append(specialCardsCards);\r\n\r\n    // create leadership cards block\r\n    const leadershipCards = document.createElement('div');\r\n    leadershipCards.classList.add('extra-cards__leadership-block');\r\n\r\n    const leadershipCardsTitle = document.createElement('div');\r\n    leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n    leadershipCardsTitle.innerText = 'Лидерство';\r\n\r\n    const leadershipCardsCards = document.createElement('div');\r\n    leadershipCardsCards.classList.add('extra-cards__leadership-cards');\r\n\r\n    // create hover button for leadership cards block\r\n    const hoverBtnLeadership = document.createElement('button');\r\n    hoverBtnLeadership.classList.add('hover-btn');\r\n    hoverBtnLeadership.innerText = 'Показать все';\r\n    hoverBtnLeadership.addEventListener('click', () => {\r\n      this.leadershipCardsBlock.classList.toggle('leadership-cards--hidden');\r\n    });\r\n    leadershipCardsCards.append(hoverBtnLeadership);\r\n\r\n    // append title and cards to leadership cards block\r\n    leadershipCards.append(leadershipCardsTitle);\r\n    leadershipCards.append(leadershipCardsCards);\r\n\r\n    // apend special cards and leadership blocks to extra cards block\r\n    extraCards.append(specialCards);\r\n    extraCards.append(leadershipCards);\r\n\r\n    return extraCards;\r\n  },\r\n\r\n  getLogBlock() {\r\n    // create log block\r\n    const logBlock = document.createElement('div');\r\n    logBlock.classList.add('chat-log');\r\n\r\n    // chat tab\r\n    logBlock.innerHTML = `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"chat-block\" name=\"tab-group\" checked>\r\n      <label for=\"chat-block\" class=\"chat-log__tab-title\">Чат</label> \r\n      <section class=\"chat-log__tab-content chat-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // log tab\r\n    logBlock.innerHTML += `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"log-block\" name=\"tab-group\">\r\n      <label for=\"log-block\" class=\"chat-log__tab-title\">Лог</label> \r\n      <section class=\"chat-log__tab-content log-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // input\r\n    logBlock.innerHTML += `<form class=\"chat-log__form\" id=\"input-form\">\r\n      <input class=\"chat-log__input\">\r\n      <button class=\"chat-log__btn\" type=\"submit\" form=\"input-form\">Отправить</button>\r\n    </form>`;\r\n\r\n    // spread button\r\n    const spreadBtn = document.createElement('div');\r\n    spreadBtn.classList.add('chat-log__spread');\r\n    logBlock.append(spreadBtn);\r\n\r\n    spreadBtn.addEventListener('click', () => {\r\n      logBlock.classList.toggle('chat-log--full-screen');\r\n      spreadBtn.classList.toggle('chat-log__spread--open');\r\n    });\r\n\r\n    return logBlock;\r\n  },\r\n\r\n  getAgeDecksBlock() {\r\n    // create age decks modal block\r\n    const agesNumber = 10;\r\n    const ageDecksBlock = document.createElement('div');\r\n    ageDecksBlock.classList.add('age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    ageDecksBlock.classList.add('xyz-in');\r\n    ageDecksBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('age-decks__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('age-decks__second-line');\r\n\r\n    const thirdLine = document.createElement('div');\r\n    thirdLine.classList.add('age-decks__third-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('age-decks__btn-line');\r\n\r\n    // create age decks\r\n    for (let i = 0; i < agesNumber; i += 1) {\r\n      const deck = document.createElement('div');\r\n      deck.classList.add('age-deck');\r\n      deck.id = `age${i + 1}`; // id age1-10 for each deck\r\n      deck.innerText = `${i + 1} Age`; // TODO remove later\r\n      deck.style.backgroundImage = 'url(./assets/img/cards-bg/age-01.jpg)'; //! use `` age-0${i+1} later\r\n\r\n      deck.addEventListener('click', () => this.ageDecksBlock.classList.toggle('age-decks--hidden'));\r\n\r\n      // Animation classes and attributes for cards here\r\n      deck.classList.add('xyz-in');\r\n      deck.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 4) {\r\n        firstLine.append(deck);\r\n      } else if (i < 7) {\r\n        secondLine.append(deck);\r\n      } else if (i < 10) {\r\n        thirdLine.append(deck);\r\n      }\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    ageDecksBlock.append(firstLine);\r\n    ageDecksBlock.append(secondLine);\r\n    ageDecksBlock.append(thirdLine);\r\n    ageDecksBlock.append(btnLine);\r\n\r\n    return ageDecksBlock;\r\n  },\r\n\r\n  getLeadershipCardsBlock() {\r\n    // create leadership decks modal block\r\n    const leadershipCardsBlock = document.createElement('div');\r\n    leadershipCardsBlock.classList.add('leadership-cards');\r\n    leadershipCardsBlock.classList.add('leadership-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    leadershipCardsBlock.classList.add('xyz-in');\r\n    leadershipCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('leadership-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('leadership-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('leadership-cards__btn-line');\r\n\r\n    // create leadership cards\r\n    const numOfLeadershipCards = 10;\r\n    for (let i = 0; i < numOfLeadershipCards; i += 1) {\r\n      const leadershipCard = document.createElement('div');\r\n      leadershipCard.classList.add('leadership-cards__card');\r\n      leadershipCard.innerText = `${i + 1}`;\r\n\r\n      // Animation classes and attributes for cards here\r\n      leadershipCard.classList.add('xyz-in');\r\n      leadershipCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 5) firstLine.append(leadershipCard);\r\n      else if (i < 10) secondLine.append(leadershipCard);\r\n\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    leadershipCardsBlock.append(firstLine);\r\n    leadershipCardsBlock.append(secondLine);\r\n    leadershipCardsBlock.append(btnLine);\r\n\r\n    return leadershipCardsBlock;\r\n  },\r\n\r\n  getSpecialCardsBlock() {\r\n    // create special cards modal block\r\n    const specialCardsBlock = document.createElement('div');\r\n    specialCardsBlock.classList.add('special-cards');\r\n    specialCardsBlock.classList.add('special-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    specialCardsBlock.classList.add('xyz-in');\r\n    specialCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('special-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('special-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('special-cards__btn-line');\r\n\r\n    // create special cards\r\n    const numOfSpecialCards = 5;\r\n    for (let i = 0; i < numOfSpecialCards; i += 1) {\r\n      const specialCard = document.createElement('div');\r\n      specialCard.classList.add('special-cards__card');\r\n\r\n      // Animation classes and attributes for cards here\r\n      specialCard.classList.add('xyz-in');\r\n      specialCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 3) firstLine.append(specialCard);\r\n      else if (i < 5) secondLine.append(specialCard);\r\n\r\n      // create close button\r\n      if (i === 4) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    specialCardsBlock.append(firstLine);\r\n    specialCardsBlock.append(secondLine);\r\n    specialCardsBlock.append(btnLine);\r\n\r\n    return specialCardsBlock;\r\n  },\r\n};\r\n\r\nexport default displayAside;\r\n","const displayActiveZone = {\n  wrapper: null,\n  init() {\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('active-zone');\n\n    this.cardsBlock = document.createElement('div');\n    this.cardsBlock.classList.add('active-zone__cards');\n\n    this.cardsBlockOverlay = document.createElement('div');\n    this.cardsBlockOverlay.classList.add('active-zone__overlay');\n\n    // create players active stacks\n    // !Stack names are the color fields of cards object\n    const stacksNames = ['blue', 'red', 'green', 'purple', 'yellow'];\n    for (let i = 0; i < stacksNames.length; i += 1) {\n      const stack = document.createElement('div');\n      stack.classList.add('active-zone__stack');\n      stack.id = stacksNames[i]; // id stackName for each stack\n      this.cardsBlock.append(stack);\n    }\n\n    this.wrapper.append(this.cardsBlockOverlay);\n    this.wrapper.append(this.cardsBlock);\n\n    this.controlsBlock = document.createElement('div');\n    this.controlsBlock.classList.add('active-zone__controls');\n\n    this.wrapper.append(this.controlsBlock);\n    return this.wrapper;\n  },\n};\n\nexport default displayActiveZone;\n","const displayHand = {\n  init() {\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('hand');\n\n    this.cardsBlock = document.createElement('div');\n    this.cardsBlock.classList.add('hand__cards');\n\n    this.cardsBlockOverlay = document.createElement('div');\n    this.cardsBlockOverlay.classList.add('hand__overlay');\n\n    this.controlsBlock = document.createElement('div');\n    this.controlsBlock.classList.add('hand__controls');\n\n    // disabled by default\n    this.arrowTop = document.createElement('button');\n    this.arrowTop.classList.add('hand__btn--top', 'hand__btn');\n    this.arrowTop.classList.add('hand__btn--disabled');\n    this.arrowTop.disabled = true;\n    this.arrowTop.innerHTML = /* html */ `\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\n      xml:space=\"preserve\">\n\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\n\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\n    </svg>\n    `;\n\n    // disabled by default\n    this.arrowBottom = document.createElement('button');\n    this.arrowBottom.classList.add('hand__btn--bottom', 'hand__btn');\n    this.arrowBottom.classList.add('hand__btn--disabled');\n    this.arrowBottom.disabled = true;\n    this.arrowBottom.innerHTML = /* html */ `\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\n      xml:space=\"preserve\">\n\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\n\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\n    </svg>\n    `;\n\n    this.controlsBlock.append(this.arrowTop);\n    this.controlsBlock.append(this.arrowBottom);\n\n    this.wrapper.append(this.cardsBlockOverlay);\n    this.wrapper.append(this.cardsBlock);\n    this.wrapper.append(this.controlsBlock);\n    return this.wrapper;\n  },\n};\n\nexport default displayHand;\n","import displayHeader from './displayHeader';\nimport displayAside from './displayAside';\nimport displayActiveZone from './displayActiveZone';\nimport displayHand from './displayHand';\n\nconst displayPlayerTable = {\n  wrapper: null,\n  header: null,\n  aside: null,\n  activeZone: null,\n  hand: null,\n  init() {\n    this.wrapper = document.createElement('div');\n    this.wrapper.classList.add('wrapper');\n\n    this.wrapperMain = document.createElement('div');\n    this.wrapperMain.classList.add('wrapper__main');\n\n    this.header = displayHeader.init();\n    this.wrapperMain.appendChild(this.header);\n\n    this.activeZone = displayActiveZone.init();\n    this.wrapperMain.appendChild(this.activeZone);\n\n    this.hand = displayHand.init();\n    this.wrapperMain.appendChild(this.hand);\n\n    this.aside = displayAside.init();\n\n    this.wrapper.appendChild(this.wrapperMain);\n    this.wrapper.appendChild(this.aside);\n\n    return this.wrapper;\n  },\n\n};\n\nexport default displayPlayerTable;\n","// function which disable passed dom element button\r\nfunction disableBtn(btnElement) {\r\n  btnElement.disabled = true;\r\n  btnElement.classList.add('hand__btn--disabled');\r\n}\r\n\r\n// function which enable passed dom element button\r\nfunction enableBtn(btnElement) {\r\n  btnElement.disabled = false;\r\n  btnElement.classList.remove('hand__btn--disabled');\r\n}\r\n\r\nexport default function setGameControls() {\r\n  // get needed dom elements\r\n  const btnTop = document.querySelector('.hand__btn--top');\r\n  const btnBottom = document.querySelector('.hand__btn--bottom');\r\n  const hand = document.querySelector('.hand__cards');\r\n\r\n  // const height of one line of cards (current = 200px card + 70px margins/decoration)\r\n  // dinamically calculated depends on html font-size property\r\n  const html = document.documentElement;\r\n  const style = window.getComputedStyle(html, null).getPropertyValue('font-size');\r\n  const fontSize = parseFloat(style);\r\n\r\n  const cardsLineHeight = fontSize * 27;\r\n  // const timeout used because time needed for scroll animation before values updated\r\n  const timeoutTime = 350;\r\n\r\n  // disable scrolling in hand block\r\n  hand.onwheel = function disableScroll() { return false; };\r\n\r\n  // event activated on each inserted card\r\n  hand.addEventListener('DOMNodeInserted', () => {\r\n    // scroll to inserted card (or do nothing)\r\n    hand.scrollTop = hand.scrollHeight - cardsLineHeight;\r\n    disableBtn(btnBottom);\r\n    // if scrolled to second+ line of cards\r\n    if (hand.scrollHeight > cardsLineHeight) {\r\n      enableBtn(btnTop);\r\n    }\r\n  });\r\n\r\n  // event activated on each removed card\r\n  hand.addEventListener('DOMNodeRemoved', () => {\r\n    setTimeout(() => {\r\n      // only one line of card left - disable both buttons\r\n      if (hand.scrollHeight === cardsLineHeight) {\r\n        disableBtn(btnBottom);\r\n        disableBtn(btnTop);\r\n      // if point of view is on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      } else if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at top button\r\n  btnTop.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnTop.disabled = true;\r\n\r\n    // scroll up one line\r\n    hand.scrollTop -= cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    // !important: dont use else here, need 2 separate if blocks\r\n    setTimeout(() => {\r\n      // if point of view at first line\r\n      if (hand.scrollTop === 0) {\r\n        disableBtn(btnTop);\r\n        enableBtn(btnBottom);\r\n      }\r\n      // if point of view not at first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnBottom);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnTop.disabled = false;\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at botom button\r\n  btnBottom.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnBottom.disabled = true;\r\n\r\n    // scroll down on one line\r\n    hand.scrollTop += cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    setTimeout(() => {\r\n      // if point of view isnt on first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnTop);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnBottom.disabled = false;\r\n      }\r\n      // if point of view on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2 && hand.scrollTop !== 0) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n}\r\n","/*\r\n* take cards objects and sort them to separate decks\r\n* store all cards avaible for all players (ages/leadership/special)\r\n* store cards as objects\r\n* this object passed as argument to Game constructor\r\n*/\r\nexport default class GameField {\r\n  constructor(arrOfCardObjects) {\r\n    // create empty decks for each age\r\n    this.ageDecks = {\r\n      age1: [],\r\n      age2: [],\r\n      age3: [],\r\n      age4: [],\r\n      age5: [],\r\n      age6: [],\r\n      age7: [],\r\n      age8: [],\r\n      age9: [],\r\n      age10: [],\r\n    };\r\n\r\n    // TODO leadership later\r\n    // create empty leadership deck\r\n    this.leadershipDeck = [];\r\n    // TODO special deck later\r\n    // create empty special deck\r\n    this.specialDeck = [];\r\n\r\n    // fill age decks with card objects\r\n    this.setDeckArrays(arrOfCardObjects);\r\n  }\r\n\r\n  // TODO add shuffle later\r\n  // fill deck arays depends on card age field\r\n  setDeckArrays(cardsObj) {\r\n    cardsObj.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          this.ageDecks.age1.push(e);\r\n          break;\r\n        case 2:\r\n          this.ageDecks.age2.push(e);\r\n          break;\r\n        case 3:\r\n          this.ageDecks.age3.push(e);\r\n          break;\r\n        case 4:\r\n          this.ageDecks.age4.push(e);\r\n          break;\r\n        case 5:\r\n          this.ageDecks.age5.push(e);\r\n          break;\r\n        case 6:\r\n          this.ageDecks.age6.push(e);\r\n          break;\r\n        case 7:\r\n          this.ageDecks.age7.push(e);\r\n          break;\r\n        case 8:\r\n          this.ageDecks.age8.push(e);\r\n          break;\r\n        case 9:\r\n          this.ageDecks.age9.push(e);\r\n          break;\r\n        case 10:\r\n          this.ageDecks.age10.push(e);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n  }\r\n}\r\n","// take card object and return builded card DOM element\r\nconst getCard = {\r\n  // get playing card\r\n  frontSide(cardObj) {\r\n    const divCard = document.createElement('div');\r\n    divCard.classList.add('card');\r\n    divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n\r\n    divCard.appendChild(this.getCardHeader(cardObj));\r\n    divCard.appendChild(this.getCardMain(cardObj));\r\n    divCard.appendChild(this.getCardFooter());\r\n    this.setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n    return divCard;\r\n  },\r\n\r\n  // get card header\r\n  getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  },\r\n\r\n  // get card body\r\n  getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-dogmatype', item.dogmaType);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.dogmaIcon[0], item.dogmaIcon[1], 'card__icon', `card__icon-color--${item.dogmaColor}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.dogmaEffect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divMain.appendChild(divDogma);\r\n    });\r\n\r\n    return divMain;\r\n  },\r\n\r\n  // get card footer\r\n  getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  },\r\n\r\n  // place age number and resourses by card position\r\n  setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.resoursePosition}`);\r\n      pos.classList.add(`${res.resourseType[0]}`, `${res.resourseType[1]}`,\r\n        `card__icon-color--${res.resourseColor}`, `card__icon-border--${card.color}`);\r\n    });\r\n  },\r\n};\r\n\r\nexport default getCard;\r\n","import getCard from '../cards/getCard';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\n/*\r\n* store all player cards objects (hand/table/lead/influence)\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class Player {\r\n  constructor(gameUI, playerName, id) {\r\n    // store passed values\r\n    this.name = playerName;\r\n    this.id = id;\r\n    this.gameUI = gameUI;\r\n\r\n    // set default values\r\n    this.game = null; //! this field will be set at game object initialization\r\n    this.currentAge = 1;\r\n    this.hand = [];\r\n\r\n    //! Names of stacks are color field in card objects\r\n    this.activeStacks = {\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    };\r\n\r\n    // Resources\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n\r\n    // player leadership and influence objects\r\n    // TODO LATER\r\n    this.ownedLeadership = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n    // TODO LATER\r\n    this.influence = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n  }\r\n\r\n  // calculate current recourses\r\n  calculateResources() {\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      const currentStack = this.activeStacks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCard = currentStack.cards[currentStack.cards.length - 1];\r\n        highestCard.resourses.forEach((e) => {\r\n          this[e.resourceName] += 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // calculate and set current age, iterates througth each stack\r\n  //! Runs from Game each time when card taken\r\n  setCurrentAge() {\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      this.activeStacks[stack].cards.forEach((card) => {\r\n        if (+card.age > this.currentAge) {\r\n          this.currentAge = +card.age;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // render last taken card in hand of current player\r\n  renderLastTakenCard() {\r\n    const lastTakenCard = this.hand[this.hand.length - 1];\r\n    const cardElement = getCard.frontSide(lastTakenCard);\r\n\r\n    // add animation when card render to hand\r\n    cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n    cardElement.classList.add('xyz-in');\r\n\r\n    cardElement.onclick = () => { this.playCard(lastTakenCard, cardElement); };\r\n    this.gameUI.hand.append(cardElement);\r\n\r\n    // remove animation when card rendered\r\n    setTimeout(() => {\r\n      cardElement.removeAttribute('xyz');\r\n      cardElement.classList.remove('xyz-in');\r\n    }, 450);\r\n  }\r\n\r\n  // render all cards in hand of current player\r\n  renderHand() {\r\n    setTimeout(() => {\r\n      this.gameUI.hand.innerHTML = ''; // clear previous rendered hand\r\n    }, 450);\r\n\r\n    setTimeout(() => {\r\n      this.hand.forEach((card) => {\r\n        const cardElement = getCard.frontSide(card);\r\n        cardElement.onclick = () => {\r\n          this.playCard(card, cardElement);\r\n        };\r\n        this.gameUI.hand.append(cardElement);\r\n      });\r\n    }, 450);\r\n  }\r\n\r\n  // render all cards in active zone of current player\r\n  renderActiveZone() {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      this.gameUI.activeStacks[stackName].innerHTML = ''; // clear previous rendered active zone\r\n      this.activeStacks[stackName].cards.forEach((card) => {\r\n        this.gameUI.activeStacks[stackName].append(getCard.frontSide(card));\r\n      });\r\n    });\r\n  }\r\n\r\n  // on click event for cards in hand. Play card in stack depends on category\r\n  // TODO: later this method should add dogma function to each played card\r\n  playCard(cardObj, cardElement) {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      if (stackName === cardObj.color) {\r\n        this.hand.forEach((e, i) => {\r\n          if (e === cardObj) {\r\n            this.hand.splice(i, 1);\r\n          }\r\n        });\r\n        this.activeStacks[stackName].cards.push(cardObj);\r\n        this.gameUI.activeStacks[stackName].append(cardElement);\r\n      }\r\n    });\r\n    this.calculateResources();\r\n    header.changePlayerStats(this);\r\n    this.game.actionDone();\r\n  }\r\n}\r\n","/*\n* all game action happens here\n* take gameUI obj which contains all dom elements\n* take gameField obj which contains all cards avaiable for all players (ages/leadership/special)\n* take players objects which contains all cards avaible for players (hand/table/lead/influence)\n* count avaible actions per turn, reduce on each action\n* when avaible ections ends - turn passed to next player\n*/\nimport header from '../display/playerTable/displayHeader';\n\nexport default class Game {\n  constructor(gameUI, player1, player2, gameField) { // TODO should take more then 2 players\n    // store passed objects\n    this.players = [ // TODO should take all players passed as args\n      player1,\n      player2,\n    ];\n    this.gameField = gameField;\n    this.gameUI = gameUI;\n\n    // initialize game field in players objects\n    this.players.forEach((player) => {\n      player.game = this;\n    });\n\n    // set default values\n    this.currentPlayer = player1; // TODO should be random later\n    this.currentDeck = {\n      domElement: gameUI.ageDecks.age1,\n      cardsArray: gameField.ageDecks.age1,\n    };\n    this.turnPoints = 2;\n  }\n\n  // if current player still have turn points - recalculate active deck\n  // else give turn to next player\n  newTurn() {\n    this.updateInfoTable();\n    if (this.turnPoints > 0) {\n      this.removeActiveDeck();\n      this.setActiveDeck(this.currentPlayer);\n    } else {\n      // TODO HARDCODED FOR TWO PLAYERS. CHANGE LATER\n      // set current player\n      if (this.players[0] === this.currentPlayer) this.currentPlayer = this.players[1];\n      else if (this.players[1] === this.currentPlayer) this.currentPlayer = this.players[0];\n\n      this.currentPlayer.renderHand();\n      this.currentPlayer.renderActiveZone();\n\n      // start new turn with full(2) turn points\n      this.turnPoints = 2;\n      this.newTurn();\n    }\n  }\n\n  // set active deck for current player\n  setActiveDeck(currentPlayer) {\n    Object.keys(this.gameField.ageDecks).forEach((ageDeckKey) => {\n      if (ageDeckKey === `age${currentPlayer.currentAge}`) {\n        // store active deck dom element\n        this.currentDeck.domElement = this.gameUI.ageDecks[`age${currentPlayer.currentAge}`];\n        // store active deck cards array\n        this.currentDeck.cardsArray = this.gameField.ageDecks[ageDeckKey];\n        //! Change current players currentAge if needed deck empty to go for the next deck\n        //! Need recalcualte current age after each action, done by players method setCurrentAge\n        if (this.currentDeck.cardsArray.length === 0) {\n          this.currentPlayer.currentAge += 1;\n        }\n      }\n    });\n    // set style and event listener of active deck when all calculations finished\n    this.currentDeck.domElement.classList.add('age-deck--active');\n    //! USED onclick because got bug with AddEvenListener - cant remove listener\n    this.currentDeck.domElement.onclick = this.takeCard.bind(this);\n\n    // update current active deck displayed in aside\n    this.updateCurrentDeckBlock();\n  }\n\n  // remove active deck class and eventlistener\n  //! should use before each setActiveDeck method\n  removeActiveDeck() {\n    this.currentDeck.domElement.classList.remove('age-deck--active');\n    //! USED onclick because got bug with AddEvenListener - cant remove listener\n    this.currentDeck.domElement.onclick = '';\n  }\n\n  // get card and render it in hand\n  takeCard() {\n    this.currentPlayer.setCurrentAge(); // recalculate current age of player\n    this.currentPlayer.hand.push(this.currentDeck.cardsArray.pop());\n    this.currentPlayer.renderLastTakenCard();\n    header.changePlayerStats(this.currentPlayer);\n    // starts next phase of turn\n    this.actionDone();\n  }\n\n  // use this after each action\n  actionDone() {\n    this.turnPoints -= 1;\n    this.newTurn();\n  }\n\n  // update info table in aside, use after each action done in newTurn method\n  updateInfoTable() {\n    this.gameUI.infoTable.name.innerText = this.currentPlayer.name;\n    this.gameUI.infoTable.actionPoints.innerText = this.turnPoints;\n  }\n\n  // update current active deck displayed in aside, use after each time when setActiveDeck run\n  updateCurrentDeckBlock() {\n    // remove previous active deck if exists\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\n    if (prevDeckClone !== null) prevDeckClone.remove();\n\n    // clone current active deck\n    const cloneCurrentDeck = this.currentDeck.domElement.cloneNode();\n    cloneCurrentDeck.innerText = this.currentDeck.domElement.innerText;\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\n    cloneCurrentDeck.onclick = this.takeCard.bind(this);\n\n    // remove animation on each update of aside current deck\n    cloneCurrentDeck.classList.remove('xyz-in');\n\n    // display cloned deck in currentDeck block\n    this.gameUI.currentDeck.append(cloneCurrentDeck);\n  }\n}\n","/*\n* store all game UI dom elements\n* this obj passed as argument to Game constructor\n*/\nexport default class GameUI {\n  constructor() {\n    this.ageDecks = {};\n    this.getAgeDecks();\n\n    this.activeStacks = {};\n    this.getActiveStacks();\n\n    this.infoTable = {};\n    this.getInfoTable();\n\n    this.currentDeck = document.querySelector('.current-deck__cards');\n    this.hand = document.querySelector('.hand__cards');\n  }\n\n  getAgeDecks() {\n    const ageDecksElements = Array.from(document.getElementsByClassName('age-deck'));\n    ageDecksElements.forEach((ageDeck, i) => {\n      this.ageDecks[`age${i + 1}`] = ageDecksElements[i];\n    });\n  }\n\n  getActiveStacks() {\n    const activeStacksElements = Array.from(document.getElementsByClassName('active-zone__stack'));\n    activeStacksElements.forEach((activeStack) => {\n      this.activeStacks[activeStack.id] = activeStack;\n    });\n  }\n\n  getInfoTable() {\n    const currentPlayerNameBlock = document.querySelector('.info-table__player-name');\n    this.infoTable.name = currentPlayerNameBlock;\n    const currentPlayerActionPoints = document.querySelector('.info-table__action-points');\n    this.infoTable.actionPoints = currentPlayerActionPoints;\n  }\n}\n","// TODO need some refactor later, move to display folder, use function?\r\nclass Menu {\r\n  constructor(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  render() {\r\n    this.menu = document.createElement('div');\r\n    this.menu.classList.add('menu');\r\n    this.menu.innerHTML = /* html */ `\r\n      <a href=\"#\" class=\"menu__link start\">\r\n        Начать игру\r\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n          <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n        </svg>\r\n      </a><br>\r\n      <a href=\"#\" class=\"menu__link\">\r\n        Продолжить игру\r\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n          <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n        </svg>\r\n      </a><br>\r\n      <a href=\"#\" class=\"menu__link\">\r\n      Сохранить игру\r\n      <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n        <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n      </svg>\r\n    </a><br>\r\n      <a href=\"#\" class=\"menu__link rules\">\r\n        Правила игры\r\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n          <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n        </svg>\r\n      </a><br>\r\n      <a href=\"https://www.youtube.com/watch?v=um86iag3ip8&feature=youtu.be\" target=\"_blank\" class=\"menu__link\">\r\n        Обзор игры\r\n        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 152.9 43.4\" style=\"enable-background:new 0 0 152.9 43.4;\" xml:space=\"preserve\">\r\n          <path d=\"M151.9,13.6c0,0,3.3-9.5-85-8.3c-97,1.3-58.3,29-58.3,29s9.7,8.1,69.7,8.1c68.3,0,69.3-23.1,69.3-23.1 s1.7-10.5-14.7-18.4\"/>\r\n        </svg>\r\n      </a>\r\n    `;\r\n\r\n    this.parent.append(this.menu);\r\n    this.renderPdfRules();\r\n\r\n    this.menu.addEventListener('click', (e) => {\r\n      if (e.target.tagName !== 'A' && e.target.tagName !== 'SPAN') {\r\n        return;\r\n      }\r\n      if (e.target.className.includes('start')) {\r\n        this.menu.classList.toggle('hide');\r\n        const intro = this.menu.parentElement.parentElement.parentElement;\r\n        intro.classList.toggle('intro--hide');\r\n      }\r\n      if (e.target.className.includes('rules')) {\r\n        this.rulesWrraper.hidden = false;\r\n      }\r\n      if (e.target.className.includes('close')) {\r\n        this.rulesWrraper.hidden = true;\r\n      }\r\n    });\r\n  }\r\n\r\n  renderPdfRules() {\r\n    this.rulesWrraper = document.createElement('div');\r\n    this.rulesWrraper.classList.add('iframe__wrraper');\r\n    this.rulesWrraper.hidden = true;\r\n    this.rulesWrraper.innerHTML = /* html */ `\r\n        <span class=\"close\">&#10006</span>\r\n        <iframe class=\"iframe\" src=\"./assets/innovation_rules_rus_final.pdf\" width=\"70%\" height=\"70%\"></iframe>\r\n    `;\r\n\r\n    this.menu.append(this.rulesWrraper);\r\n  }\r\n}\r\nexport default Menu;\r\n","import Menu from './mainMenu';\n\nexport default class Intro {\n  static init() {\n    const divIntro = document.createElement('div');\n    divIntro.classList.add('intro');\n\n    const introContainer = document.createElement('div');\n    introContainer.classList.add('intro__container');\n\n    const introTop = document.createElement('div');\n    introTop.classList.add('intro__top');\n\n    // svg title letters - I n n o v a t i o n\n    const introCenter = document.createElement('div');\n    introCenter.classList.add('intro__center');\n    introCenter.innerHTML = `<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\nwidth=\"500px\" height=\"120px\" viewBox=\"0 0 500 120\" enable-background=\"new 0 0 500 120\" xml:space=\"preserve\">\n<path class=\"letter-1\" d=\"M27.346,80.317c3.604,1.819,7.755,0.485,7.755,2.67c0,0.728-0.656,1.334-2.075,1.334c-0.983,0-6.117-0.606-15.292-0.606\nS3.536,84.321,2.553,84.321c-1.42,0-2.184-0.606-2.184-1.334c0-2.185,4.259-0.851,7.863-2.67c3.386-1.698,3.932-4.49,3.932-9.829\nv-54.61c0-5.218-0.546-8.01-3.604-9.587C5.721,4.835,0.369,5.685,0.369,3.985c0-0.728,1.857-1.213,3.167-1.213\nc1.202,0,5.898,0.485,14.199,0.485c8.628,0,13.544-0.485,14.417-0.485c1.201,0,2.949,0.364,2.949,1.092\nc0,1.457-3.604,0.971-7.208,2.063s-4.478,4.125-4.478,9.951v54.61C23.415,75.949,24.07,78.739,27.346,80.317z\"/>\n<path class=\"letter-2\" d=\"M49.627,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.242-0.354-5.242-1.892c0-1.064,1.638-1.3,4.26-1.892\nc5.789-1.3,9.065-3.191,10.157-3.191c2.075,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\nc10.375,0,16.165,5.674,16.165,15.724v27.546c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\nc0,0.592-0.546,1.064-1.639,1.064c-1.419,0-5.133-0.709-11.031-0.709c-5.898,0-9.502,0.709-10.922,0.709\nc-1.092,0-1.748-0.473-1.748-1.3c0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994\nc0-8.394-3.386-12.532-10.267-12.532c-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\nc2.84,1.419,5.243,0.709,5.243,2.6c0,0.592-0.655,1.064-1.748,1.064c-1.42,0-5.024-0.709-10.922-0.709\nc-5.898,0-9.611,0.709-11.031,0.709c-1.092,0-1.638-0.473-1.638-1.3c0-1.655,2.512-1.064,5.242-2.364\nc2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\n<path class=\"letter-3\" d=\"M116.135,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.076-1.183-5.243-0.354-5.243-1.892c0-1.064,1.638-1.3,4.26-1.892\nc5.789-1.3,9.065-3.191,10.157-3.191c2.076,0,1.856,3.31,2.512,11.585c4.26-7.447,10.157-11.231,18.021-11.231\nc10.376,0,16.165,5.674,16.165,15.724v62.068c0,3.901,0.109,5.439,2.622,6.74c2.839,1.419,5.243,0.709,5.243,2.6\nc0,0.592-0.546,1.064-1.639,1.064c-1.42,0-5.134-0.709-11.032-0.709s-9.501,0.709-10.921,0.709c-1.092,0-1.748-0.473-1.748-1.3\nc0-1.655,2.512-1.064,5.243-2.364c2.512-1.183,2.622-2.839,2.622-6.74V47.994c0-8.394-3.386-12.532-10.267-12.532\nc-7.427,0-13.762,7.094-13.762,17.024v22.345c0,3.901,0.11,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\nc0,0.592-0.655,1.064-1.748,1.064c-1.419,0-5.024-0.709-10.922-0.709s-9.611,0.709-11.032,0.709c-1.092,0-1.638-0.473-1.638-1.3\nc0-1.655,2.513-1.064,5.243-2.364c2.512-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\n<path class=\"letter-4\" d=\"M189.871,31.561c6.881,0,12.779,2.72,17.584,7.803c5.025,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.073,0-26.322-11.467-26.322-27.545C163.22,43.383,175.016,31.561,189.871,31.561z\n  M188.996,84.171c10.267,0,15.728-8.631,15.728-25.417c0-16.197-6.007-24.946-15.728-24.946c-8.737,0-15.181,9.339-15.181,25.418\nC173.815,75.305,179.385,84.171,188.996,84.171z\"/>\n<path class=\"letter-5\" d=\"M254.752,48.939c0-5.218-6.116-3.761-6.116-5.825c0-0.85,0.437-1.092,1.638-1.092c1.53,0,3.715,0.486,6.443,0.486\nc2.841,0,4.807-0.364,6.008-0.364c1.311,0,1.967,0.364,1.967,1.092c0,1.214-1.748,0.971-3.277,2.427\nc-1.747,1.699-3.387,5.583-5.68,11.892l-12.125,26.524c-0.438,1.214-0.983,1.699-1.857,1.699c-1.748,0-1.857-1.821-3.167-5.34\nl-20.852-51.993c-1.201-3.034-2.402-4.976-3.386-5.461c-3.058-1.456-4.697-0.849-4.697-2.548c0-0.85,0.656-1.092,1.857-1.092\nc2.075,0,5.679,0.485,11.031,0.485c4.37,0,7.209-0.364,8.52-0.364c1.529,0,2.293,0.243,2.293,1.092c0,1.335-1.856,0.971-4.15,1.578\nc-1.529,0.364-2.403,1.457-2.403,3.156c0,1.456,6.434,15.95,8.291,20.683l10.267,26.333\nC252.346,52.285,254.752,52.217,254.752,48.939z\"/>\n<path class=\"letter-6\" d=\"M269.073,82.822c-6.989,0-11.14-4.368-11.14-11.043c0-10.316,9.938-15.655,30.146-23.786v-9.587\nc0-6.433-3.276-9.466-10.486-9.466c-5.461,0-8.956,2.184-9.393,5.825c-0.547,3.883-0.982,6.311-4.696,6.311\nc-2.293,0-3.823-1.82-3.823-4.49c0-5.34,6.553-10.073,18.896-10.073c12.779,0,18.786,4.369,18.786,13.956v30.825\nc0,4.246,1.311,6.553,3.605,6.553c2.074,0,3.385-2.307,4.477-2.307c0.654,0,0.983,0.364,0.983,1.093c0,2.063-3.933,6.31-8.847,6.31\nc-5.134,0-8.848-3.276-9.83-8.494C282.509,79.91,275.845,82.822,269.073,82.822z M268.091,69.23c0,5.581,2.839,8.979,7.318,8.979\nc5.68,0,12.67-5.097,12.67-10.557V50.663C274.534,56.488,268.091,61.706,268.091,69.23z\"/>\n<path class=\"letter-7\" d=\"M315.265,36.43c-1.421,0-2.076-0.349-2.076-1.047c0-1.163,3.277-2.327,7.319-6.981c4.478-5.12,5.132-8.726,6.333-8.726\nc0.765,0,0.983,0.465,0.983,1.629V32.94h10.049c2.185,0,3.167,0.116,3.167,1.746c0,1.28-0.982,1.744-3.275,1.744h-9.831v35.022\nc0,7.098,1.966,10.471,6.99,10.471c5.134,0,6.444-5.584,8.192-5.584c0.655,0,1.31,0.698,1.31,1.628\nc0,2.909-5.024,7.446-13.106,7.446c-9.829,0-12.67-4.537-12.67-14.543V36.43H315.265z\"/>\n<path class=\"letter-8\" d=\"M352.395,36.349c-2.402-0.931-5.461,0.117-5.461-1.397c0-1.28,1.528-1.164,4.479-1.862\nc6.772-1.514,10.485-3.608,11.469-3.608c0.873,0,1.201,0.583,1.201,1.746v41.436c0,3.839,0.109,5.47,2.622,6.634\nc2.838,1.396,5.241,0.699,5.241,2.56c0,0.582-0.655,1.048-1.748,1.048c-1.31,0-4.913-0.699-10.921-0.699s-9.722,0.699-11.032,0.699\nc-1.092,0-1.638-0.466-1.638-1.048c0-1.86,2.402-1.163,5.242-2.56c2.402-1.164,2.621-2.677,2.621-6.634V41.004\nC354.47,38.211,354.142,37.047,352.395,36.349z M358.185-0.314c3.057,0,5.569,2.677,5.569,6.052c0,3.259-2.403,5.936-5.569,5.936\nc-3.168,0-5.68-2.677-5.68-5.936C352.505,2.363,355.017-0.314,358.185-0.314z\"/>\n<path class=\"letter-9\" d=\"M406.231,31.561c6.881,0,12.779,2.72,17.585,7.803c5.023,5.438,7.864,12.532,7.864,19.153c0,7.33-2.731,14.423-7.646,19.861\nc-5.133,5.677-10.813,8.275-18.131,8.275c-15.072,0-26.321-11.467-26.321-27.545C379.582,43.383,391.378,31.561,406.231,31.561z\n  M405.358,84.171c10.267,0,15.727-8.631,15.727-25.417c0-16.197-6.007-24.946-15.727-24.946c-8.738,0-15.182,9.339-15.182,25.418\nC390.177,75.305,395.747,84.171,405.358,84.171z\"/>\n<path class=\"letter-10\" d=\"M449.253,46.458c0-4.611-0.437-6.976-2.621-8.276c-2.075-1.183-5.243-0.354-5.243-1.892c0-1.064,1.64-1.3,4.261-1.892\nc5.788-1.3,9.064-3.191,10.156-3.191c2.076,0,1.856,3.31,2.513,11.585c4.26-7.447,10.158-11.231,18.021-11.231\nc10.378,0,16.166,5.674,16.166,15.724v27.546c0,3.901,0.108,5.439,2.621,6.74c2.84,1.419,5.243,0.709,5.243,2.6\nc0,0.592-0.547,1.064-1.639,1.064c-1.421,0-5.133-0.709-11.03-0.709c-5.898,0-9.503,0.709-10.923,0.709\nc-1.093,0-1.747-0.473-1.747-1.3c0-1.655,2.511-1.064,5.242-2.364c2.512-1.183,2.621-2.839,2.621-6.74V47.994\nc0-8.394-3.386-12.532-10.266-12.532c-7.428,0-13.764,7.094-13.764,17.024v22.345c0,3.901,0.109,5.439,2.621,6.74\nc2.841,1.419,5.244,0.709,5.244,2.6c0,0.592-0.656,1.064-1.748,1.064c-1.421,0-5.025-0.709-10.922-0.709\nc-5.898,0-9.611,0.709-11.031,0.709c-1.093,0-1.64-0.473-1.64-1.3c0-1.655,2.513-1.064,5.243-2.364\nc2.513-1.183,2.621-2.839,2.621-6.74V46.458z\"/>\n<defs>\n    <filter id=\"mySVGfilter\" x=\"-50%\" y=\"-50%\" width=\"200%\" height=\"200%\">\n        <feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"5\"/>\n    </filter>\n</defs>\n</svg>`;\n\n    const introCenterTitle = document.createElement('div');\n    introCenterTitle.classList.add('center__title');\n    introCenter.appendChild(introCenterTitle);\n\n    const introBottom = document.createElement('div');\n    introBottom.classList.add('intro__bottom');\n    const introBottomLamps = document.createElement('div');\n    introBottomLamps.classList.add('bottom__lamp');\n    for (let i = 0; i < 3; i += 1) {\n      const introBottomLamp = document.createElement('div');\n      introBottomLamp.classList.add(`bottom__lamp--${i + 1}`);\n      introBottomLamps.appendChild(introBottomLamp);\n    }\n    introBottom.appendChild(introBottomLamps);\n\n    const introGear = document.createElement('div');\n    introGear.classList.add('intro__gear');\n    const introGear1 = document.createElement('div');\n    introGear1.classList.add('intro__gear1');\n    const introGear2 = document.createElement('div');\n    introGear2.classList.add('intro__gear2');\n    introGear.appendChild(introGear1);\n    introGear.appendChild(introGear2);\n\n    introContainer.appendChild(introTop);\n    introContainer.appendChild(introCenter);\n    introContainer.appendChild(introBottom);\n    introContainer.appendChild(introGear);\n    divIntro.appendChild(introContainer);\n    document.body.appendChild(divIntro);\n\n    const img = new Image();\n    img.src = './assets/img/intro/center.png';\n\n    img.addEventListener('load', () => {\n      introBottom.classList.add('show');\n      // set up and display main menu\n      const menu = new Menu(introTop);\n      menu.render();\n    });\n  }\n}\n","// import styles\r\nimport '../scss/style.scss';\r\nimport '@animxyz/core';\r\n\r\n// import js modules\r\nimport displayPlayerTable from './display/playerTable/displayPlayerTable';\r\nimport setHandControls from './utility/setHandControls';\r\nimport setAsideControls from './utility/setAsideControls';\r\n// import Menu from './components/mainMenu';\r\nimport GameField from './components/GameField';\r\nimport Player from './components/Player';\r\nimport Game from './components/Game';\r\nimport cardsJSON from './cards/cards.json';\r\nimport parseCards from './cards/parseCards';\r\nimport GameUI from './components/GameUI';\r\nimport Intro from './components/Intro';\r\nimport setChat from './utility/setChat';\r\nimport shuffle from './utility/shuffle';\r\n\r\n// display intro\r\nIntro.init();\r\n\r\n// display game UI\r\ndocument.body.prepend(displayPlayerTable.init());\r\n\r\n// add event listeners to hand controls\r\nsetHandControls();\r\n\r\n// add event listeners and animations to aside buttons\r\nsetAsideControls();\r\n\r\n// contains dom elements\r\nconst gameUI = new GameUI();\r\n\r\n// contains sorted card objects\r\nconst arrOfCards = parseCards(cardsJSON);\r\n\r\n// shuffle arr of cards objects\r\nshuffle(arrOfCards);\r\n\r\n// create gameField which contains all cards avaiable for players\r\nconst gameField = new GameField(arrOfCards);\r\n\r\n// contains players properties and cards\r\nconst player1 = new Player(gameUI, 'Player1', 1);\r\nconst player2 = new Player(gameUI, 'Player2', 2);\r\n\r\n// work with all main objects\r\nconst game = new Game(gameUI, player1, player2, gameField);\r\ngame.newTurn();\r\n\r\n// init chat\r\nsetChat();\r\n","export default function setAsideControls() {\n  const buttons = Array.from(document.querySelectorAll('.close-modal-btn'));\n\n  function animation(e) {\n    const button = e.target;\n    const parentBlock = e.target.parentElement.parentElement;\n    const childLines = Array.from(parentBlock.children);\n    const childBlocks = childLines.map((line) => Array.from(line.children)).flat();\n\n    button.removeEventListener('click', animation);\n    parentBlock.classList.remove('xyz-in');\n    parentBlock.classList.add('xyz-out');\n\n    childBlocks.forEach((child) => {\n      child.classList.remove('xyz-in');\n      child.classList.add('xyz-out');\n    });\n\n    setTimeout(() => {\n      parentBlock.classList.toggle(`${parentBlock.className.split(' ')[0]}--hidden`);\n      childBlocks.forEach((child) => {\n        child.classList.remove('xyz-out');\n        child.classList.add('xyz-in');\n        parentBlock.classList.remove('xyz-out');\n        parentBlock.classList.add('xyz-in');\n      });\n      button.addEventListener('click', animation);\n    }, 600);\n  }\n\n  buttons.forEach((button) => {\n    button.addEventListener('click', animation);\n  });\n}\n","// get JSON and return array of card objects\r\nexport default function parseCards(cardsJSON) {\r\n  const resultArr = [];\r\n\r\n  cardsJSON.forEach((setOfCards) => {\r\n    setOfCards.cards.forEach((card) => {\r\n      const cardObject = {};\r\n      Object.assign(cardObject, setOfCards, card);\r\n      delete cardObject.cards; // remove duplicated field\r\n      resultArr.push(cardObject);\r\n    });\r\n  });\r\n\r\n  return resultArr;\r\n}\r\n","export default function shuffle(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n}\r\n","export default function setChat() {\r\n  // eslint-disable-next-line no-undef\r\n  const socket = io();\r\n\r\n  const messageContainer = document.querySelector('.chat-block');\r\n  const messageForm = document.querySelector('.chat-log__form');\r\n  const messageInput = document.querySelector('.chat-log__input');\r\n  const players = document.querySelectorAll('.head-row__name');\r\n\r\n  const userName = prompt('What is your name?');\r\n\r\n  function appendMessage(message) {\r\n    const messageElement = document.createElement('div');\r\n    messageElement.innerText = message;\r\n    messageContainer.append(messageElement);\r\n  }\r\n\r\n  function autoScroll() {\r\n    messageContainer.scrollTop = messageContainer.scrollHeight;\r\n  }\r\n\r\n  appendMessage('You joined');\r\n  socket.emit('new-user', userName);\r\n\r\n  socket.on('chat-message', (data) => {\r\n    appendMessage(`${data.name}: ${data.message}`);\r\n    autoScroll();\r\n  });\r\n\r\n  socket.on('user-connected', (name) => {\r\n    appendMessage(`${name} connected`);\r\n  });\r\n\r\n  socket.on('players', (name) => {\r\n    const nameOfUsers = Object.values(name);\r\n    players.forEach((el, i) => {\r\n      el.textContent = nameOfUsers[i];\r\n    });\r\n  });\r\n\r\n  socket.on('user-disconnected', (name) => {\r\n    appendMessage(`${name} disconnected`);\r\n  });\r\n\r\n  messageForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    if (messageInput.value === '') return;\r\n    const message = messageInput.value;\r\n    appendMessage(`You: ${message}`);\r\n    socket.emit('send-chat-message', message);\r\n    autoScroll();\r\n    messageInput.value = '';\r\n  });\r\n}\r\n"],"sourceRoot":""}