{"version":3,"sources":["webpack://innovation/./src/js/app.js","webpack://innovation/./src/js/cards/getCard.js","webpack://innovation/./src/js/cards/parseCards.js","webpack://innovation/./src/js/components/Game.js","webpack://innovation/./src/js/components/GameField.js","webpack://innovation/./src/js/components/GameUI.js","webpack://innovation/./src/js/components/Player.js","webpack://innovation/./src/js/components/gameState.js","webpack://innovation/./src/js/components/gameStateService.js","webpack://innovation/./src/js/display/displayNewTurnModal.js","webpack://innovation/./src/js/display/displayNextTurnBtn.js","webpack://innovation/./src/js/display/playerTable/displayActiveZone.js","webpack://innovation/./src/js/display/playerTable/displayAside.js","webpack://innovation/./src/js/display/playerTable/displayHand.js","webpack://innovation/./src/js/display/playerTable/displayHeader.js","webpack://innovation/./src/js/display/playerTable/displayPlayerTable.js","webpack://innovation/./src/js/utility/initHotSeatGame.js","webpack://innovation/./src/js/utility/setAsideControls.js","webpack://innovation/./src/js/utility/setChat.js","webpack://innovation/./src/js/utility/setHandControls.js","webpack://innovation/./src/js/utility/shuffle.js","webpack://innovation/./node_modules/@animxyz/core/dist/animxyz.css?92e6","webpack://innovation/./src/scss/style.scss?98af","webpack://innovation/webpack/bootstrap","webpack://innovation/webpack/runtime/define property getters","webpack://innovation/webpack/runtime/hasOwnProperty shorthand","webpack://innovation/webpack/runtime/make namespace object","webpack://innovation/webpack/startup"],"names":["document","body","prepend","displayPlayerTable","setHandControls","setAsideControls","initHotSeatGame","getCard","frontSide","cardObj","divCard","createElement","classList","add","style","background","cardImg","appendChild","getCardHeader","getCardMain","getCardFooter","setObjByPosition","age","color","card","divHeader","posTopLeft","title","textContent","innovation","divMain","dogma","forEach","item","divDogma","setAttribute","dogmaType","icon","dogmaIcon","dogmaColor","innerHTML","dogmaEffect","divFooter","posBottomLeft","posBottomCenter","posBottomRight","agePos","querySelector","agePosition","resourses","res","pos","resoursePosition","resourseType","resourseColor","parseCards","cardsJSON","resultArr","setOfCards","cards","cardObject","Object","assign","push","Game","gameUI","gameField","players","player","game","currentPlayer","currentDeck","domElement","ageDecks","age1","cardsArray","turnPoints","setCurrentPlayer","displayNewTurnModal","name","setTimeout","removeActiveDeck","setActiveDeck","renderHand","renderActiveZone","updateInfoTable","disableHandEvents","displayNextTurnBtn","newTurn","bind","i","length","keys","ageDeckKey","currentAge","onclick","takeCard","updateCurrentDeckBlock","cloneCurrentDeck","remove","Array","from","querySelectorAll","setCurrentAge","hand","pop","renderLastTakenCard","header","actionDone","infoTable","innerText","actionPoints","prevDeckClone","cloneNode","id","append","GameField","arrOfCardObjects","age2","age3","age4","age5","age6","age7","age8","age9","age10","leadershipDeck","specialDeck","setDeckArrays","cardsObj","e","Error","GameUI","getAgeDecks","activeStacks","getActiveStacks","getInfoTable","ageDecksElements","getElementsByClassName","ageDeck","activeStacksElements","activeStack","currentPlayerNameBlock","currentPlayerActionPoints","Player","playerName","blue","shift","red","green","purple","yellow","tree","tower","crown","bulb","factory","clock","ownedLeadership","influence","stack","currentStack","highestCard","resourceName","lastTakenCard","cardElement","playCard","removeAttribute","stackName","splice","calculateResources","gameState","activePlayer","player0","activeDecks","player1","player2","player3","gameStateService","initPlayers","console","log","initAgeDecks","displayModal","modalBg","modalBlock","modalText","modalBtn","addEventListener","toggle","newTurnFunction","nextTurnBtn","excistedNextTurnBtn","displayActiveZone","wrapper","init","cardsBlock","cardsBlockOverlay","stacksNames","controlsBlock","displayAside","getInfoBlock","getCurrentDeckBlock","getExtraCardsBlock","getLogBlock","ageDecksBlock","getAgeDecksBlock","leadershipCardsBlock","getLeadershipCardsBlock","specialCardsBlock","getSpecialCardsBlock","infoBlock","currentPlayerBlock","currentPlayerText","currentPlayerName","actionPointsBlock","actionPointsText","actionPointsValue","currentDeckTitle","currentDeckCards","hoverBtn","extraCards","specialCards","specialCardsTitle","specialCardsCards","hoverBtnSpecial","leadershipCards","leadershipCardsTitle","leadershipCardsCards","hoverBtnLeadership","logBlock","spreadBtn","agesNumber","firstLine","secondLine","thirdLine","btnLine","deck","backgroundImage","button","numOfLeadershipCards","leadershipCard","numOfSpecialCards","specialCard","displayHand","arrowTop","disabled","arrowBottom","displayHeader","headRowNames","leadership","resourcesNames","container","player4","initPlayerStats","headRow","iconContainer","activeZoneRow","recourcesRow","changePlayerStats","playerId","aside","activeZone","wrapperMain","arrOfCards","shuffle","arguments","opacity","setChat","buttons","animation","target","parentBlock","parentElement","childLines","children","childBlocks","map","line","flat","removeEventListener","child","className","split","socket","io","messageContainer","messageForm","messageInput","userName","prompt","appendMessage","message","messageElement","autoScroll","scrollTop","scrollHeight","emit","on","data","nameOfUsers","values","el","preventDefault","value","disableBtn","btnElement","enableBtn","setGameControls","btnTop","btnBottom","html","documentElement","window","getComputedStyle","getPropertyValue","fontSize","parseFloat","cardsLineHeight","timeoutTime","onwheel","disableScroll","array","j","Math","floor","random"],"mappings":"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","file":"bundle.js","sourcesContent":["// import styles\r\nimport '../scss/style.scss';\r\nimport '@animxyz/core';\r\n\r\n// import js modules\r\nimport displayPlayerTable from './display/playerTable/displayPlayerTable';\r\nimport setHandControls from './utility/setHandControls';\r\nimport setAsideControls from './utility/setAsideControls';\r\n// import Intro from './components/Intro';\r\nimport initHotSeatGame from './utility/initHotSeatGame';\r\n\r\n// display intro & menu\r\n// Intro.init();\r\n\r\n// display game UI\r\ndocument.body.prepend(displayPlayerTable.init());\r\n\r\n// add event listeners to hand controls\r\nsetHandControls();\r\n\r\n// add event listeners and animations to aside buttons\r\nsetAsideControls();\r\n\r\ninitHotSeatGame('Player1', 'Player2');\r\n","// take card object and return builded card DOM element\r\nconst getCard = {\r\n  // get playing card\r\n  frontSide(cardObj) {\r\n    const divCard = document.createElement('div');\r\n    divCard.classList.add('card');\r\n    divCard.style.background = `url(\"${cardObj.cardImg}\")`;\r\n\r\n    divCard.appendChild(this.getCardHeader(cardObj));\r\n    divCard.appendChild(this.getCardMain(cardObj));\r\n    divCard.appendChild(this.getCardFooter());\r\n    this.setObjByPosition(divCard, cardObj, cardObj.age, cardObj.color);\r\n\r\n    return divCard;\r\n  },\r\n\r\n  // get card header\r\n  getCardHeader(card) {\r\n    const divHeader = document.createElement('div');\r\n    divHeader.classList.add('card__card-header', `card__color--${card.color}`);\r\n\r\n    const posTopLeft = document.createElement('div');\r\n    posTopLeft.classList.add('card__topLeft');\r\n\r\n    const title = document.createElement('div');\r\n    title.classList.add('card-header__title');\r\n    title.textContent = card.innovation;\r\n\r\n    divHeader.appendChild(posTopLeft);\r\n    divHeader.appendChild(title);\r\n\r\n    return divHeader;\r\n  },\r\n\r\n  // get card body\r\n  getCardMain(card) {\r\n    const divMain = document.createElement('div');\r\n    divMain.classList.add('card__card-main', `card__color--${card.color}-transparent`);\r\n\r\n    card.dogma.forEach((item) => {\r\n      const divDogma = document.createElement('div');\r\n      divDogma.classList.add('card__dogma');\r\n      divDogma.setAttribute('data-dogmatype', item.dogmaType);\r\n\r\n      const icon = document.createElement('i');\r\n      icon.classList.add(item.dogmaIcon[0], item.dogmaIcon[1], 'card__icon', `card__icon-color--${item.dogmaColor}`);\r\n      divDogma.appendChild(icon);\r\n\r\n      const dogma = document.createElement('span');\r\n      dogma.classList.add('dogma__effect');\r\n      dogma.innerHTML = item.dogmaEffect;\r\n      divDogma.appendChild(dogma);\r\n\r\n      divMain.appendChild(divDogma);\r\n    });\r\n\r\n    return divMain;\r\n  },\r\n\r\n  // get card footer\r\n  getCardFooter() {\r\n    const divFooter = document.createElement('div');\r\n    divFooter.classList.add('card__card-footer');\r\n\r\n    const posBottomLeft = document.createElement('div');\r\n    posBottomLeft.classList.add('card__bottomLeft');\r\n    divFooter.appendChild(posBottomLeft);\r\n\r\n    const posBottomCenter = document.createElement('div');\r\n    posBottomCenter.classList.add('card__bottomCenter');\r\n    divFooter.appendChild(posBottomCenter);\r\n\r\n    const posBottomRight = document.createElement('div');\r\n    posBottomRight.classList.add('card__bottomRight');\r\n    divFooter.appendChild(posBottomRight);\r\n\r\n    return divFooter;\r\n  },\r\n\r\n  // place age number and resourses by card position\r\n  setObjByPosition(divCard, card) {\r\n    const agePos = divCard.querySelector(`.card__${card.agePosition}`);\r\n    agePos.classList.add(`card__color--${card.color}`, 'card__age--border');\r\n    agePos.textContent = card.age;\r\n\r\n    card.resourses.forEach((res) => {\r\n      const pos = divCard.querySelector(`.card__${res.resoursePosition}`);\r\n      pos.classList.add(`${res.resourseType[0]}`, `${res.resourseType[1]}`,\r\n        `card__icon-color--${res.resourseColor}`, `card__icon-border--${card.color}`);\r\n    });\r\n  },\r\n};\r\n\r\nexport default getCard;\r\n","// get JSON and return array of card objects\r\nexport default function parseCards(cardsJSON) {\r\n  const resultArr = [];\r\n\r\n  cardsJSON.forEach((setOfCards) => {\r\n    setOfCards.cards.forEach((card) => {\r\n      const cardObject = {};\r\n      Object.assign(cardObject, setOfCards, card);\r\n      delete cardObject.cards; // remove duplicated field\r\n      resultArr.push(cardObject);\r\n    });\r\n  });\r\n\r\n  return resultArr;\r\n}\r\n","/*\r\n* all game action happens here\r\n* take gameUI obj which contains all dom elements\r\n* take gameField obj which contains all cards avaiable for all players (ages/leadership/special)\r\n* take players objects which contains all cards avaible for players (hand/table/lead/influence)\r\n* count avaible actions per turn, reduce on each action\r\n* when avaible ections ends - turn passed to next player\r\n*/\r\nimport header from '../display/playerTable/displayHeader';\r\nimport displayNewTurnModal from '../display/displayNewTurnModal';\r\nimport displayNextTurnBtn from '../display/displayNextTurnBtn';\r\n\r\nexport default class Game {\r\n  constructor(gameUI, gameField, players) {\r\n    // store passed objects\r\n    this.players = players;\r\n    this.gameField = gameField;\r\n    this.gameUI = gameUI;\r\n\r\n    // initialize game field in players objects\r\n    this.players.forEach((player) => {\r\n      player.game = this;\r\n    });\r\n\r\n    // set default values\r\n    this.currentPlayer = null;\r\n    this.currentDeck = {\r\n      domElement: gameUI.ageDecks.age1,\r\n      cardsArray: gameField.ageDecks.age1,\r\n    };\r\n    this.turnPoints = 0;\r\n  }\r\n\r\n  newTurn() {\r\n    this.setCurrentPlayer();\r\n    displayNewTurnModal(this.currentPlayer.name);\r\n    this.turnPoints = 2;\r\n    // timeout to display modal\r\n    setTimeout(() => {\r\n      this.removeActiveDeck();\r\n      this.setActiveDeck(this.currentPlayer);\r\n      this.currentPlayer.renderHand();\r\n      this.currentPlayer.renderActiveZone();\r\n      this.updateInfoTable();\r\n    }, 450);\r\n  }\r\n\r\n  // use this after each action\r\n  actionDone() {\r\n    this.turnPoints -= 1;\r\n    this.updateInfoTable();\r\n    this.removeActiveDeck();\r\n    if (this.turnPoints > 0) {\r\n      this.setActiveDeck(this.currentPlayer);\r\n    } else {\r\n      this.disableHandEvents();\r\n      displayNextTurnBtn(this.newTurn.bind(this));\r\n    }\r\n  }\r\n\r\n  // set current players depends on previous player\r\n  setCurrentPlayer() {\r\n    if (this.currentPlayer === null) {\r\n      this.currentPlayer = this.players[0];\r\n    } else {\r\n      for (let i = 0; i < this.players.length; i += 1) {\r\n        if (this.currentPlayer === this.players[i]) {\r\n          i += 1;\r\n          if (i === this.players.length) i = 0;\r\n          this.currentPlayer = this.players[i];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  // set active deck for current player\r\n  setActiveDeck(currentPlayer) {\r\n    Object.keys(this.gameField.ageDecks).forEach((ageDeckKey) => {\r\n      if (ageDeckKey === `age${currentPlayer.currentAge}`) {\r\n        // store active deck dom element\r\n        this.currentDeck.domElement = this.gameUI.ageDecks[`age${currentPlayer.currentAge}`];\r\n        // store active deck cards array\r\n        this.currentDeck.cardsArray = this.gameField.ageDecks[ageDeckKey];\r\n        //! Change current players currentAge if needed deck empty to go for the next deck\r\n        //! Need recalcualte current age after each action, done by players method setCurrentAge\r\n        if (this.currentDeck.cardsArray.length === 0) {\r\n          this.currentPlayer.currentAge += 1;\r\n        }\r\n      }\r\n    });\r\n    // set style and event listener of active deck when all calculations finished\r\n    this.currentDeck.domElement.classList.add('age-deck--active');\r\n    //! USED onclick because got bug with AddEvenListener - cant remove listener\r\n    this.currentDeck.domElement.onclick = this.takeCard.bind(this);\r\n\r\n    // update current active deck displayed in aside\r\n    this.updateCurrentDeckBlock();\r\n  }\r\n\r\n  // remove active deck class and eventlistener\r\n  //! should use before each setActiveDeck method\r\n  removeActiveDeck() {\r\n    const cloneCurrentDeck = document.querySelector('#cloneCurrentDeck');\r\n    if (cloneCurrentDeck !== null) cloneCurrentDeck.onclick = '';\r\n\r\n    this.currentDeck.domElement.classList.remove('age-deck--active');\r\n    this.currentDeck.domElement.onclick = '';\r\n  }\r\n\r\n  disableHandEvents() {\r\n    const cards = Array.from(document.querySelectorAll('.card'));\r\n    cards.forEach((card) => {\r\n      card.onclick = '';\r\n    });\r\n  }\r\n\r\n  // get card and render it in hand\r\n  takeCard() {\r\n    this.currentPlayer.setCurrentAge(); // recalculate current age of player\r\n    this.currentPlayer.hand.push(this.currentDeck.cardsArray.pop());\r\n    this.currentPlayer.renderLastTakenCard();\r\n    header.changePlayerStats(this.currentPlayer);\r\n    // starts next phase of turn\r\n    this.actionDone();\r\n  }\r\n\r\n  // update info table in aside, use after each action done in newTurn method\r\n  updateInfoTable() {\r\n    this.gameUI.infoTable.name.innerText = this.currentPlayer.name;\r\n    this.gameUI.infoTable.actionPoints.innerText = this.turnPoints;\r\n  }\r\n\r\n  // update current active deck displayed in aside, use after each time when setActiveDeck run\r\n  updateCurrentDeckBlock() {\r\n    // remove previous active deck if exists\r\n    const prevDeckClone = document.querySelector('#cloneCurrentDeck');\r\n    if (prevDeckClone !== null) prevDeckClone.remove();\r\n\r\n    // clone current active deck\r\n    const cloneCurrentDeck = this.currentDeck.domElement.cloneNode();\r\n    cloneCurrentDeck.innerText = this.currentDeck.domElement.innerText;\r\n    cloneCurrentDeck.id = 'cloneCurrentDeck';\r\n    cloneCurrentDeck.onclick = this.takeCard.bind(this);\r\n\r\n    // remove animation on each update of aside current deck\r\n    cloneCurrentDeck.classList.remove('xyz-in');\r\n\r\n    // display cloned deck in currentDeck block\r\n    this.gameUI.currentDeck.append(cloneCurrentDeck);\r\n  }\r\n}\r\n","/*\r\n* take cards objects and sort them to separate decks\r\n* store all cards avaible for all players (ages/leadership/special)\r\n* store cards as objects\r\n* this object passed as argument to Game constructor\r\n*/\r\nexport default class GameField {\r\n  constructor(arrOfCardObjects) {\r\n    // create empty decks for each age\r\n    this.ageDecks = {\r\n      age1: [],\r\n      age2: [],\r\n      age3: [],\r\n      age4: [],\r\n      age5: [],\r\n      age6: [],\r\n      age7: [],\r\n      age8: [],\r\n      age9: [],\r\n      age10: [],\r\n    };\r\n\r\n    // TODO leadership later\r\n    // create empty leadership deck\r\n    this.leadershipDeck = [];\r\n    // TODO special deck later\r\n    // create empty special deck\r\n    this.specialDeck = [];\r\n\r\n    // fill age decks with card objects\r\n    this.setDeckArrays(arrOfCardObjects);\r\n  }\r\n\r\n  // TODO add shuffle later\r\n  // fill deck arays depends on card age field\r\n  setDeckArrays(cardsObj) {\r\n    cardsObj.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          this.ageDecks.age1.push(e);\r\n          break;\r\n        case 2:\r\n          this.ageDecks.age2.push(e);\r\n          break;\r\n        case 3:\r\n          this.ageDecks.age3.push(e);\r\n          break;\r\n        case 4:\r\n          this.ageDecks.age4.push(e);\r\n          break;\r\n        case 5:\r\n          this.ageDecks.age5.push(e);\r\n          break;\r\n        case 6:\r\n          this.ageDecks.age6.push(e);\r\n          break;\r\n        case 7:\r\n          this.ageDecks.age7.push(e);\r\n          break;\r\n        case 8:\r\n          this.ageDecks.age8.push(e);\r\n          break;\r\n        case 9:\r\n          this.ageDecks.age9.push(e);\r\n          break;\r\n        case 10:\r\n          this.ageDecks.age10.push(e);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n  }\r\n}\r\n","/*\r\n* store all game UI dom elements\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class GameUI {\r\n  constructor() {\r\n    this.ageDecks = {};\r\n    this.getAgeDecks();\r\n\r\n    this.activeStacks = {};\r\n    this.getActiveStacks();\r\n\r\n    this.infoTable = {};\r\n    this.getInfoTable();\r\n\r\n    this.currentDeck = document.querySelector('.current-deck__cards');\r\n    this.hand = document.querySelector('.hand__cards');\r\n  }\r\n\r\n  getAgeDecks() {\r\n    const ageDecksElements = Array.from(document.getElementsByClassName('age-deck'));\r\n    ageDecksElements.forEach((ageDeck, i) => {\r\n      this.ageDecks[`age${i + 1}`] = ageDecksElements[i];\r\n    });\r\n  }\r\n\r\n  getActiveStacks() {\r\n    const activeStacksElements = Array.from(document.getElementsByClassName('active-zone__stack'));\r\n    activeStacksElements.forEach((activeStack) => {\r\n      this.activeStacks[activeStack.id] = activeStack;\r\n    });\r\n  }\r\n\r\n  getInfoTable() {\r\n    const currentPlayerNameBlock = document.querySelector('.info-table__player-name');\r\n    this.infoTable.name = currentPlayerNameBlock;\r\n    const currentPlayerActionPoints = document.querySelector('.info-table__action-points');\r\n    this.infoTable.actionPoints = currentPlayerActionPoints;\r\n  }\r\n}\r\n","import getCard from '../cards/getCard';\r\nimport header from '../display/playerTable/displayHeader';\r\n\r\n/*\r\n* store all player cards objects (hand/table/lead/influence)\r\n* this obj passed as argument to Game constructor\r\n*/\r\nexport default class Player {\r\n  constructor(gameUI, playerName, id) {\r\n    // store passed values\r\n    this.name = playerName;\r\n    this.id = id;\r\n    this.gameUI = gameUI;\r\n\r\n    // set default values\r\n    this.game = null; //! this field will be set at game object initialization\r\n    this.currentAge = 1;\r\n    this.hand = [];\r\n\r\n    //! Names of stacks are color field in card objects\r\n    this.activeStacks = {\r\n      blue: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      red: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      green: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      purple: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n      yellow: {\r\n        cards: [],\r\n        shift: null,\r\n      },\r\n    };\r\n\r\n    // Resources\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n\r\n    // player leadership and influence objects\r\n    // TODO LATER\r\n    this.ownedLeadership = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n    // TODO LATER\r\n    this.influence = {\r\n      domElement: null, // TODO remove\r\n      cardsArray: [],\r\n    };\r\n  }\r\n\r\n  // calculate current recourses\r\n  calculateResources() {\r\n    this.tree = 0;\r\n    this.tower = 0;\r\n    this.crown = 0;\r\n    this.bulb = 0;\r\n    this.factory = 0;\r\n    this.clock = 0;\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      const currentStack = this.activeStacks[stack];\r\n      if (currentStack.cards.length > 0) {\r\n        const highestCard = currentStack.cards[currentStack.cards.length - 1];\r\n        highestCard.resourses.forEach((e) => {\r\n          this[e.resourceName] += 1;\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  // calculate and set current age, iterates througth each stack\r\n  //! Runs from Game each time when card taken\r\n  setCurrentAge() {\r\n    Object.keys(this.activeStacks).forEach((stack) => {\r\n      this.activeStacks[stack].cards.forEach((card) => {\r\n        if (+card.age > this.currentAge) {\r\n          this.currentAge = +card.age;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // render last taken card in hand of current player\r\n  renderLastTakenCard() {\r\n    const lastTakenCard = this.hand[this.hand.length - 1];\r\n    const cardElement = getCard.frontSide(lastTakenCard);\r\n\r\n    // add animation when card render to hand\r\n    cardElement.setAttribute('xyz', 'fade right-3 flip-right rotate-left');\r\n    cardElement.classList.add('xyz-in');\r\n\r\n    cardElement.onclick = () => { this.playCard(lastTakenCard, cardElement); };\r\n    this.gameUI.hand.append(cardElement);\r\n\r\n    // remove animation when card rendered\r\n    setTimeout(() => {\r\n      cardElement.removeAttribute('xyz');\r\n      cardElement.classList.remove('xyz-in');\r\n    }, 450);\r\n  }\r\n\r\n  // render all cards in hand of current player\r\n  renderHand() {\r\n    this.gameUI.hand.innerHTML = ''; // clear previous rendered hand\r\n\r\n    this.hand.forEach((card) => {\r\n      const cardElement = getCard.frontSide(card);\r\n      cardElement.onclick = () => {\r\n        this.playCard(card, cardElement);\r\n      };\r\n      this.gameUI.hand.append(cardElement);\r\n    });\r\n  }\r\n\r\n  // render all cards in active zone of current player\r\n  renderActiveZone() {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      this.gameUI.activeStacks[stackName].innerHTML = ''; // clear previous rendered active zone\r\n      this.activeStacks[stackName].cards.forEach((card) => {\r\n        this.gameUI.activeStacks[stackName].append(getCard.frontSide(card));\r\n      });\r\n    });\r\n  }\r\n\r\n  // on click event for cards in hand. Play card in stack depends on category\r\n  // TODO: later this method should add dogma function to each played card\r\n  playCard(cardObj, cardElement) {\r\n    Object.keys(this.activeStacks).forEach((stackName) => {\r\n      if (stackName === cardObj.color) {\r\n        this.hand.forEach((e, i) => {\r\n          if (e === cardObj) {\r\n            this.hand.splice(i, 1);\r\n          }\r\n        });\r\n        this.activeStacks[stackName].cards.push(cardObj);\r\n        this.gameUI.activeStacks[stackName].append(cardElement);\r\n      }\r\n    });\r\n    this.calculateResources();\r\n    header.changePlayerStats(this);\r\n    this.game.actionDone();\r\n  }\r\n}\r\n","const gameState = {\r\n  ageDecks: {\r\n    age1: [],\r\n    age2: [],\r\n    age3: [],\r\n    age4: [],\r\n    age5: [],\r\n    age6: [],\r\n    age7: [],\r\n    age8: [],\r\n    age9: [],\r\n    age10: [],\r\n  },\r\n  leadershipDeck: [],\r\n  specialDeck: [],\r\n  players: [],\r\n  currentPlayer: null,\r\n  activePlayer: null,\r\n  player0: {\r\n    name: null,\r\n    id: 0,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    activeDecks: {\r\n      red: [],\r\n      green: [],\r\n      blue: [],\r\n      purple: [],\r\n      yellow: [],\r\n    },\r\n  },\r\n  player1: {\r\n    name: null,\r\n    id: 1,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    activeDecks: {\r\n      red: [],\r\n      green: [],\r\n      blue: [],\r\n      purple: [],\r\n      yellow: [],\r\n    },\r\n  },\r\n  player2: {\r\n    name: null,\r\n    id: 2,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    activeDecks: {\r\n      red: [],\r\n      green: [],\r\n      blue: [],\r\n      purple: [],\r\n      yellow: [],\r\n    },\r\n  },\r\n  player3: {\r\n    name: null,\r\n    id: 3,\r\n    actionPoints: 0,\r\n    hand: [],\r\n    activeDecks: {\r\n      red: [],\r\n      green: [],\r\n      blue: [],\r\n      purple: [],\r\n      yellow: [],\r\n    },\r\n  },\r\n};\r\nexport default gameState;\r\n","import gameState from './gameState';\r\n\r\nconst gameStateService = {\r\n  initPlayers(...args) {\r\n    for (let i = 0; i < args.length; i += 1) {\r\n      const player = `player${i}`;\r\n      gameState[player].name = args[i];\r\n      gameState.players.push(gameState[player]);\r\n    }\r\n    gameState.currentPlayer = gameState.players[0];\r\n    gameState.currentPlayer.actionPoints = 2;\r\n    gameState.activePlayer = gameState.players[0];\r\n    console.log(gameState.currentPlayer);\r\n  },\r\n  initAgeDecks(cardsObj) {\r\n    cardsObj.forEach((e) => {\r\n      switch (+e.age) {\r\n        case 1:\r\n          gameState.ageDecks.age1.push(e.innovation);\r\n          break;\r\n        case 2:\r\n          gameState.ageDecks.age2.push(e.innovation);\r\n          break;\r\n        case 3:\r\n          gameState.ageDecks.age3.push(e.innovation);\r\n          break;\r\n        case 4:\r\n          gameState.ageDecks.age4.push(e.innovation);\r\n          break;\r\n        case 5:\r\n          gameState.ageDecks.age5.push(e.innovation);\r\n          break;\r\n        case 6:\r\n          gameState.ageDecks.age6.push(e.innovation);\r\n          break;\r\n        case 7:\r\n          gameState.ageDecks.age7.push(e.innovation);\r\n          break;\r\n        case 8:\r\n          gameState.ageDecks.age8.push(e.innovation);\r\n          break;\r\n        case 9:\r\n          gameState.ageDecks.age9.push(e.innovation);\r\n          break;\r\n        case 10:\r\n          gameState.ageDecks.age10.push(e.innovation);\r\n          break;\r\n        default:\r\n          throw new Error(`Wrong number on age field in ${e}`);\r\n      }\r\n    });\r\n  },\r\n\r\n};\r\n\r\nexport default gameStateService;\r\n","export default function displayModal(playerName) {\r\n  const modalBg = document.createElement('div');\r\n  modalBg.classList.add('modal');\r\n  modalBg.classList.add('modal--hidden');\r\n\r\n  const modalBlock = document.createElement('div');\r\n  modalBlock.classList.add('modal__block');\r\n\r\n  const modalText = document.createElement('div');\r\n  modalText.classList.add('modal__text');\r\n  modalText.innerText = `Сейчас ход игрока ${playerName}`;\r\n\r\n  const modalBtn = document.createElement('button');\r\n  modalBtn.classList.add('modal__btn');\r\n  modalBtn.innerText = 'Начать ход!';\r\n  modalBtn.addEventListener('click', () => {\r\n    modalBg.style = '';\r\n    modalBg.classList.toggle('modal--hidden');\r\n    setTimeout(() => {\r\n      modalBg.remove();\r\n    }, 500);\r\n  });\r\n\r\n  modalBlock.append(modalText, modalBtn);\r\n  modalBg.append(modalBlock);\r\n\r\n  document.body.prepend(modalBg);\r\n  setTimeout(() => {\r\n    modalBg.classList.toggle('modal--hidden');\r\n  }, 0);\r\n}\r\n","export default function displayNextTurnBtn(newTurnFunction) {\r\n  const nextTurnBtn = document.createElement('div');\r\n  nextTurnBtn.classList.add('info-table__next-turn-btn');\r\n  nextTurnBtn.innerText = 'Закончить ход';\r\n  nextTurnBtn.addEventListener('click', () => {\r\n    newTurnFunction();\r\n    setTimeout(() => {\r\n      const excistedNextTurnBtn = document.querySelector('.info-table__next-turn-btn');\r\n      excistedNextTurnBtn.remove();\r\n    }, 500);\r\n  });\r\n  const infoTable = document.querySelector('.info-table');\r\n  infoTable.append(nextTurnBtn);\r\n}\r\n","const displayActiveZone = {\r\n  wrapper: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('active-zone');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('active-zone__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('active-zone__overlay');\r\n\r\n    // create players active stacks\r\n    // !Stack names are the color fields of cards object\r\n    const stacksNames = ['blue', 'red', 'green', 'purple', 'yellow'];\r\n    for (let i = 0; i < stacksNames.length; i += 1) {\r\n      const stack = document.createElement('div');\r\n      stack.classList.add('active-zone__stack');\r\n      stack.id = stacksNames[i]; // id stackName for each stack\r\n      this.cardsBlock.append(stack);\r\n    }\r\n\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('active-zone__controls');\r\n\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayActiveZone;\r\n","const displayAside = {\r\n  wrapper: null,\r\n  init() {\r\n    // create aside wrapper\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('aside');\r\n\r\n    // append createand blocks to aside wrapper\r\n    this.wrapper.append(this.getInfoBlock());\r\n    this.wrapper.append(this.getCurrentDeckBlock());\r\n    this.wrapper.append(this.getExtraCardsBlock());\r\n    this.wrapper.append(this.getLogBlock());\r\n\r\n    // create hidden modals blocks\r\n    this.ageDecksBlock = this.getAgeDecksBlock();\r\n    this.leadershipCardsBlock = this.getLeadershipCardsBlock();\r\n    this.specialCardsBlock = this.getSpecialCardsBlock();\r\n\r\n    // append hidden modal blocks to body\r\n    document.body.append(this.ageDecksBlock);\r\n    document.body.append(this.leadershipCardsBlock);\r\n    document.body.append(this.specialCardsBlock);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n  getInfoBlock() {\r\n    // create info block\r\n    const infoBlock = document.createElement('div');\r\n    infoBlock.classList.add('info-table');\r\n\r\n    // create current player block\r\n    const currentPlayerBlock = document.createElement('div');\r\n    currentPlayerBlock.classList.add('info-table__player-block');\r\n\r\n    const currentPlayerText = document.createElement('div');\r\n    currentPlayerText.innerText = 'Ход игрока: ';\r\n\r\n    const currentPlayerName = document.createElement('div');\r\n    currentPlayerName.classList.add('info-table__player-name');\r\n\r\n    currentPlayerBlock.append(currentPlayerText);\r\n    currentPlayerBlock.append(currentPlayerName);\r\n\r\n    // create action points block\r\n    const actionPointsBlock = document.createElement('div');\r\n    actionPointsBlock.classList.add('info-table__action-points-block');\r\n\r\n    const actionPointsText = document.createElement('div');\r\n    actionPointsText.innerText = 'Осталось ОД: ';\r\n\r\n    const actionPointsValue = document.createElement('div');\r\n    actionPointsValue.classList.add('info-table__action-points');\r\n\r\n    actionPointsBlock.append(actionPointsText);\r\n    actionPointsBlock.append(actionPointsValue);\r\n\r\n    // append created blocks to info block\r\n    infoBlock.append(currentPlayerBlock);\r\n    infoBlock.append(actionPointsBlock);\r\n\r\n    return infoBlock;\r\n  },\r\n\r\n  getCurrentDeckBlock() {\r\n    // create current deck block\r\n    const currentDeck = document.createElement('div');\r\n    currentDeck.classList.add('current-deck');\r\n\r\n    const currentDeckTitle = document.createElement('div');\r\n    currentDeckTitle.classList.add('current-deck__title');\r\n    currentDeckTitle.innerText = 'Взять карту';\r\n\r\n    const currentDeckCards = document.createElement('div');\r\n    currentDeckCards.classList.add('current-deck__cards');\r\n\r\n    // create hover button element\r\n    const hoverBtn = document.createElement('button');\r\n    hoverBtn.classList.add('hover-btn');\r\n    hoverBtn.innerText = 'Показать все';\r\n    hoverBtn.addEventListener('click', () => {\r\n      this.ageDecksBlock.classList.toggle('age-decks--hidden');\r\n    });\r\n\r\n    // append button to deck block\r\n    currentDeckCards.append(hoverBtn);\r\n\r\n    // append title and cards blocks to current deck block\r\n    currentDeck.append(currentDeckTitle);\r\n    currentDeck.append(currentDeckCards);\r\n\r\n    return currentDeck;\r\n  },\r\n\r\n  getExtraCardsBlock() {\r\n    // create extra cards block\r\n    const extraCards = document.createElement('div');\r\n    extraCards.classList.add('extra-cards');\r\n\r\n    // create special cards block\r\n    const specialCards = document.createElement('div');\r\n    specialCards.classList.add('extra-cards__special-block');\r\n\r\n    const specialCardsTitle = document.createElement('div');\r\n    specialCardsTitle.classList.add('extra-cards__special-title');\r\n    specialCardsTitle.innerText = 'Специальные';\r\n\r\n    const specialCardsCards = document.createElement('div');\r\n    specialCardsCards.classList.add('extra-cards__special-cards');\r\n\r\n    // create hover button for special cards block\r\n    const hoverBtnSpecial = document.createElement('button');\r\n    hoverBtnSpecial.classList.add('hover-btn');\r\n    hoverBtnSpecial.innerText = 'Показать все';\r\n    hoverBtnSpecial.addEventListener('click', () => {\r\n      this.specialCardsBlock.classList.toggle('special-cards--hidden');\r\n    });\r\n    specialCardsCards.append(hoverBtnSpecial);\r\n\r\n    // append title and cards to special cards block\r\n    specialCards.append(specialCardsTitle);\r\n    specialCards.append(specialCardsCards);\r\n\r\n    // create leadership cards block\r\n    const leadershipCards = document.createElement('div');\r\n    leadershipCards.classList.add('extra-cards__leadership-block');\r\n\r\n    const leadershipCardsTitle = document.createElement('div');\r\n    leadershipCardsTitle.classList.add('extra-cards__leadership-title');\r\n    leadershipCardsTitle.innerText = 'Лидерство';\r\n\r\n    const leadershipCardsCards = document.createElement('div');\r\n    leadershipCardsCards.classList.add('extra-cards__leadership-cards');\r\n\r\n    // create hover button for leadership cards block\r\n    const hoverBtnLeadership = document.createElement('button');\r\n    hoverBtnLeadership.classList.add('hover-btn');\r\n    hoverBtnLeadership.innerText = 'Показать все';\r\n    hoverBtnLeadership.addEventListener('click', () => {\r\n      this.leadershipCardsBlock.classList.toggle('leadership-cards--hidden');\r\n    });\r\n    leadershipCardsCards.append(hoverBtnLeadership);\r\n\r\n    // append title and cards to leadership cards block\r\n    leadershipCards.append(leadershipCardsTitle);\r\n    leadershipCards.append(leadershipCardsCards);\r\n\r\n    // apend special cards and leadership blocks to extra cards block\r\n    extraCards.append(specialCards);\r\n    extraCards.append(leadershipCards);\r\n\r\n    return extraCards;\r\n  },\r\n\r\n  getLogBlock() {\r\n    // create log block\r\n    const logBlock = document.createElement('div');\r\n    logBlock.classList.add('chat-log');\r\n\r\n    // chat tab\r\n    logBlock.innerHTML = `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"chat-block\" name=\"tab-group\" checked>\r\n      <label for=\"chat-block\" class=\"chat-log__tab-title\">Чат</label> \r\n      <section class=\"chat-log__tab-content chat-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // log tab\r\n    logBlock.innerHTML += `<div class=\"chat-log__tab\">\r\n      <input type=\"radio\" id=\"log-block\" name=\"tab-group\">\r\n      <label for=\"log-block\" class=\"chat-log__tab-title\">Лог</label> \r\n      <section class=\"chat-log__tab-content log-block\">\r\n      </section> \r\n    </div>`;\r\n\r\n    // input\r\n    logBlock.innerHTML += `<form class=\"chat-log__form\" id=\"input-form\">\r\n      <input class=\"chat-log__input\">\r\n      <button class=\"chat-log__btn\" type=\"submit\" form=\"input-form\">Отправить</button>\r\n    </form>`;\r\n\r\n    // spread button\r\n    const spreadBtn = document.createElement('div');\r\n    spreadBtn.classList.add('chat-log__spread');\r\n    logBlock.append(spreadBtn);\r\n\r\n    spreadBtn.addEventListener('click', () => {\r\n      logBlock.classList.toggle('chat-log--full-screen');\r\n      spreadBtn.classList.toggle('chat-log__spread--open');\r\n    });\r\n\r\n    return logBlock;\r\n  },\r\n\r\n  getAgeDecksBlock() {\r\n    // create age decks modal block\r\n    const agesNumber = 10;\r\n    const ageDecksBlock = document.createElement('div');\r\n    ageDecksBlock.classList.add('age-decks');\r\n    ageDecksBlock.classList.add('age-decks--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    ageDecksBlock.classList.add('xyz-in');\r\n    ageDecksBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('age-decks__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('age-decks__second-line');\r\n\r\n    const thirdLine = document.createElement('div');\r\n    thirdLine.classList.add('age-decks__third-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('age-decks__btn-line');\r\n\r\n    // create age decks\r\n    for (let i = 0; i < agesNumber; i += 1) {\r\n      const deck = document.createElement('div');\r\n      deck.classList.add('age-deck');\r\n      deck.id = `age${i + 1}`; // id age1-10 for each deck\r\n      deck.innerText = `${i + 1} Age`; // TODO remove later\r\n      deck.style.backgroundImage = 'url(./assets/img/cards-bg/age-01.jpg)'; //! use `` age-0${i+1} later\r\n\r\n      deck.addEventListener('click', () => this.ageDecksBlock.classList.toggle('age-decks--hidden'));\r\n\r\n      // Animation classes and attributes for cards here\r\n      deck.classList.add('xyz-in');\r\n      deck.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 4) {\r\n        firstLine.append(deck);\r\n      } else if (i < 7) {\r\n        secondLine.append(deck);\r\n      } else if (i < 10) {\r\n        thirdLine.append(deck);\r\n      }\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    ageDecksBlock.append(firstLine);\r\n    ageDecksBlock.append(secondLine);\r\n    ageDecksBlock.append(thirdLine);\r\n    ageDecksBlock.append(btnLine);\r\n\r\n    return ageDecksBlock;\r\n  },\r\n\r\n  getLeadershipCardsBlock() {\r\n    // create leadership decks modal block\r\n    const leadershipCardsBlock = document.createElement('div');\r\n    leadershipCardsBlock.classList.add('leadership-cards');\r\n    leadershipCardsBlock.classList.add('leadership-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    leadershipCardsBlock.classList.add('xyz-in');\r\n    leadershipCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('leadership-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('leadership-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('leadership-cards__btn-line');\r\n\r\n    // create leadership cards\r\n    const numOfLeadershipCards = 10;\r\n    for (let i = 0; i < numOfLeadershipCards; i += 1) {\r\n      const leadershipCard = document.createElement('div');\r\n      leadershipCard.classList.add('leadership-cards__card');\r\n      leadershipCard.innerText = `${i + 1}`;\r\n\r\n      // Animation classes and attributes for cards here\r\n      leadershipCard.classList.add('xyz-in');\r\n      leadershipCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 5) firstLine.append(leadershipCard);\r\n      else if (i < 10) secondLine.append(leadershipCard);\r\n\r\n      if (i === 9) {\r\n        // create close button\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    leadershipCardsBlock.append(firstLine);\r\n    leadershipCardsBlock.append(secondLine);\r\n    leadershipCardsBlock.append(btnLine);\r\n\r\n    return leadershipCardsBlock;\r\n  },\r\n\r\n  getSpecialCardsBlock() {\r\n    // create special cards modal block\r\n    const specialCardsBlock = document.createElement('div');\r\n    specialCardsBlock.classList.add('special-cards');\r\n    specialCardsBlock.classList.add('special-cards--hidden');\r\n\r\n    // Animation classes and attributes for modal block here\r\n    specialCardsBlock.classList.add('xyz-in');\r\n    specialCardsBlock.setAttribute('xyz', 'fade-100% duration-6');\r\n\r\n    // create blocks - lines of cards\r\n    const firstLine = document.createElement('div');\r\n    firstLine.classList.add('special-cards__first-line');\r\n\r\n    const secondLine = document.createElement('div');\r\n    secondLine.classList.add('special-cards__second-line');\r\n\r\n    const btnLine = document.createElement('div');\r\n    btnLine.classList.add('special-cards__btn-line');\r\n\r\n    // create special cards\r\n    const numOfSpecialCards = 5;\r\n    for (let i = 0; i < numOfSpecialCards; i += 1) {\r\n      const specialCard = document.createElement('div');\r\n      specialCard.classList.add('special-cards__card');\r\n\r\n      // Animation classes and attributes for cards here\r\n      specialCard.classList.add('xyz-in');\r\n      specialCard.setAttribute('xyz', 'flip-left-25% rotate-right-25% up-5 duration-6');\r\n\r\n      if (i < 3) firstLine.append(specialCard);\r\n      else if (i < 5) secondLine.append(specialCard);\r\n\r\n      // create close button\r\n      if (i === 4) {\r\n        const button = document.createElement('button');\r\n        button.classList.add('close-modal-btn');\r\n        button.innerText = 'Закрыть';\r\n        btnLine.append(button);\r\n      }\r\n    }\r\n\r\n    specialCardsBlock.append(firstLine);\r\n    specialCardsBlock.append(secondLine);\r\n    specialCardsBlock.append(btnLine);\r\n\r\n    return specialCardsBlock;\r\n  },\r\n};\r\n\r\nexport default displayAside;\r\n","const displayHand = {\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('hand');\r\n\r\n    this.cardsBlock = document.createElement('div');\r\n    this.cardsBlock.classList.add('hand__cards');\r\n\r\n    this.cardsBlockOverlay = document.createElement('div');\r\n    this.cardsBlockOverlay.classList.add('hand__overlay');\r\n\r\n    this.controlsBlock = document.createElement('div');\r\n    this.controlsBlock.classList.add('hand__controls');\r\n\r\n    // disabled by default\r\n    this.arrowTop = document.createElement('button');\r\n    this.arrowTop.classList.add('hand__btn--top', 'hand__btn');\r\n    this.arrowTop.classList.add('hand__btn--disabled');\r\n    this.arrowTop.disabled = true;\r\n    this.arrowTop.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    // disabled by default\r\n    this.arrowBottom = document.createElement('button');\r\n    this.arrowBottom.classList.add('hand__btn--bottom', 'hand__btn');\r\n    this.arrowBottom.classList.add('hand__btn--disabled');\r\n    this.arrowBottom.disabled = true;\r\n    this.arrowBottom.innerHTML = /* html */ `\r\n    <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \r\n      xmlns:a=\"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/\"\r\n      x=\"0px\" y=\"0px\" width=\"50px\" height=\"50px\" viewBox=\"0 0 230 213.7\" enable-background=\"new 0 0 230 213.7\"\r\n      xml:space=\"preserve\">\r\n\r\n      <polygon class='hand__controls-svg--triangle' id=\"XMLID_18_\" fill=\"none\" stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-miterlimit=\"10\" points=\"\r\n      73.5,62.5 148.5,105.8 73.5,149.1 \"/>\r\n\r\n      <circle class='hand__controls-svg--circle' id=\"XMLID_17_\" fill=\"none\"  stroke-width=\"7\" stroke-linecap=\"round\" stroke-linejoin=\"round\"  stroke-miterlimit=\"10\" cx=\"106.8\" cy=\"106.8\" r=\"103.3\"/>\r\n    </svg>\r\n    `;\r\n\r\n    this.controlsBlock.append(this.arrowTop);\r\n    this.controlsBlock.append(this.arrowBottom);\r\n\r\n    this.wrapper.append(this.cardsBlockOverlay);\r\n    this.wrapper.append(this.cardsBlock);\r\n    this.wrapper.append(this.controlsBlock);\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHand;\r\n","const displayHeader = {\r\n  wrapper: null,\r\n  headRowNames: [{ hand: ['fas', 'fa-hand-paper', 'yellow'] }, { influence: ['fas', 'fa-shield-alt', 'red'] }, { leadership: ['fas', 'fa-trophy', 'yellow'] }],\r\n  resourcesNames: [{ tree: ['fab', 'fa-pagelines', 'green'] }, { tower: ['fab', 'fa-fort-awesome', 'grey'] }, { crown: ['fas', 'fa-crown', 'yellow'] }, { bulb: ['fas', 'fa-lightbulb', 'purple'] }, { factory: ['fas', 'fa-industry', 'red'] }, { clock: ['far', 'fa-clock', 'blue'] }],\r\n  player1: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player2: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player3: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n  player4: {\r\n    container: null,\r\n    name: null,\r\n    hand: null,\r\n    influence: null,\r\n    leadership: null,\r\n    red: null,\r\n    green: null,\r\n    blue: null,\r\n    purple: null,\r\n    yellow: null,\r\n    tree: null,\r\n    tower: null,\r\n    crown: null,\r\n    bulb: null,\r\n    factory: null,\r\n    clock: null,\r\n  },\r\n\r\n  initPlayerStats(id) {\r\n    const player = `player${id}`;\r\n\r\n    this[player].container = document.createElement('div');\r\n    this[player].container.classList.add('player-container');\r\n\r\n    const headRow = document.createElement('div');\r\n    headRow.classList.add('head-row');\r\n    this[player].name = document.createElement('div');\r\n    this[player].name.classList.add('head-row__name');\r\n    this[player].name.textContent = `Player${id}`;\r\n    headRow.appendChild(this[player].name);\r\n\r\n    this.headRowNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      const container = document.createElement('div');\r\n      container.classList.add('cards-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'cards-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('cards-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      headRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(headRow);\r\n\r\n    const activeZoneRow = document.createElement('div');\r\n    activeZoneRow.classList.add('active-zone-row');\r\n\r\n    this[player].red = document.createElement('div');\r\n    this[player].red.classList.add('active-zone-row__red');\r\n    this[player].red.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].red);\r\n\r\n    this[player].green = document.createElement('div');\r\n    this[player].green.classList.add('active-zone-row__green');\r\n    this[player].green.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].green);\r\n\r\n    this[player].blue = document.createElement('div');\r\n    this[player].blue.classList.add('active-zone-row__blue');\r\n    this[player].blue.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].blue);\r\n\r\n    this[player].purple = document.createElement('div');\r\n    this[player].purple.classList.add('active-zone-row__purple');\r\n    this[player].purple.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].purple);\r\n\r\n    this[player].yellow = document.createElement('div');\r\n    this[player].yellow.classList.add('active-zone-row__yellow');\r\n    this[player].yellow.textContent = 0;\r\n    activeZoneRow.appendChild(this[player].yellow);\r\n\r\n    this[player].container.appendChild(activeZoneRow);\r\n\r\n    const recourcesRow = document.createElement('div');\r\n    recourcesRow.classList.add('recources-row');\r\n    this.resourcesNames.forEach((e) => {\r\n      const i = Object.keys(e)[0];\r\n      // console.log(e[i][0]);\r\n      const container = document.createElement('div');\r\n      container.classList.add('recource-container');\r\n      const iconContainer = document.createElement('div');\r\n      iconContainer.classList.add(`${e[i][0]}`, `${e[i][1]}`, 'recource-container__icon', `card__icon-color--${e[i][2]}`);\r\n      container.appendChild(iconContainer);\r\n      this[player][i] = document.createElement('div');\r\n      this[player][i].classList.add('recource-container__counter');\r\n      this[player][i].textContent = 0;\r\n      container.appendChild(this[player][i]);\r\n      recourcesRow.appendChild(container);\r\n    });\r\n\r\n    this[player].container.appendChild(recourcesRow);\r\n    this.wrapper.appendChild(this[player].container);\r\n  },\r\n\r\n  changePlayerStats(player) {\r\n    const playerId = `player${player.id}`;\r\n\r\n    this[playerId].hand.textContent = player.hand.length;\r\n    this[playerId].red.textContent = player.activeStacks.red.cards.length;\r\n    this[playerId].green.textContent = player.activeStacks.green.cards.length;\r\n    this[playerId].blue.textContent = player.activeStacks.blue.cards.length;\r\n    this[playerId].purple.textContent = player.activeStacks.purple.cards.length;\r\n    this[playerId].yellow.textContent = player.activeStacks.yellow.cards.length;\r\n    this[playerId].tree.textContent = player.tree;\r\n    this[playerId].tower.textContent = player.tower;\r\n    this[playerId].crown.textContent = player.crown;\r\n    this[playerId].bulb.textContent = player.bulb;\r\n    this[playerId].factory.textContent = player.factory;\r\n    this[playerId].clock.textContent = player.clock;\r\n  },\r\n\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('header');\r\n    this.initPlayerStats(1);\r\n    this.initPlayerStats(2);\r\n    /* this.initPlayerStats(this.testPlayer3);\r\n    this.initPlayerStats(this.testPlayer4); */\r\n    return this.wrapper;\r\n  },\r\n};\r\n\r\nexport default displayHeader;\r\n\r\n/* 'tower', 'crown', 'bulb', 'factory', 'clock' */\r\n","import displayHeader from './displayHeader';\r\nimport displayAside from './displayAside';\r\nimport displayActiveZone from './displayActiveZone';\r\nimport displayHand from './displayHand';\r\n\r\nconst displayPlayerTable = {\r\n  wrapper: null,\r\n  header: null,\r\n  aside: null,\r\n  activeZone: null,\r\n  hand: null,\r\n  init() {\r\n    this.wrapper = document.createElement('div');\r\n    this.wrapper.classList.add('wrapper');\r\n\r\n    this.wrapperMain = document.createElement('div');\r\n    this.wrapperMain.classList.add('wrapper__main');\r\n\r\n    this.header = displayHeader.init();\r\n    this.wrapperMain.appendChild(this.header);\r\n\r\n    this.activeZone = displayActiveZone.init();\r\n    this.wrapperMain.appendChild(this.activeZone);\r\n\r\n    this.hand = displayHand.init();\r\n    this.wrapperMain.appendChild(this.hand);\r\n\r\n    this.aside = displayAside.init();\r\n\r\n    this.wrapper.appendChild(this.wrapperMain);\r\n    this.wrapper.appendChild(this.aside);\r\n\r\n    return this.wrapper;\r\n  },\r\n\r\n};\r\n\r\nexport default displayPlayerTable;\r\n","import GameField from '../components/GameField';\r\nimport Player from '../components/Player';\r\nimport Game from '../components/Game';\r\nimport cardsJSON from '../cards/cards.json';\r\nimport parseCards from '../cards/parseCards';\r\nimport GameUI from '../components/GameUI';\r\nimport setChat from './setChat';\r\nimport shuffle from './shuffle';\r\n\r\nimport gameStateService from '../components/gameStateService';\r\n\r\nexport default function initHotSeatGame() {\r\n  // contains dom elements\r\n  const gameUI = new GameUI();\r\n\r\n  // contains sorted card objects\r\n  const arrOfCards = parseCards(cardsJSON);\r\n\r\n  // shuffle arr of cards objects\r\n  shuffle(arrOfCards);\r\n\r\n  // create gameField which contains all cards avaiable for players\r\n  const gameField = new GameField(arrOfCards);\r\n\r\n  // contains players properties and cards\r\n  const players = [];\r\n  for (let i = 0; i < arguments.length; i += 1) {\r\n    const player = new Player(gameUI, arguments[i], i + 1);\r\n    players.push(player);\r\n  }\r\n\r\n  // work with all main objects\r\n  const game = new Game(gameUI, gameField, players);\r\n  game.newTurn();\r\n  // display first modal without animation\r\n  document.querySelector('.modal').style.opacity = '1';\r\n\r\n  gameStateService.initPlayers('Player1', 'Player2');\r\n  gameStateService.initAgeDecks(arrOfCards);\r\n  // init chat\r\n  setChat();\r\n}\r\n","export default function setAsideControls() {\r\n  const buttons = Array.from(document.querySelectorAll('.close-modal-btn'));\r\n\r\n  function animation(e) {\r\n    const button = e.target;\r\n    const parentBlock = e.target.parentElement.parentElement;\r\n    const childLines = Array.from(parentBlock.children);\r\n    const childBlocks = childLines.map((line) => Array.from(line.children)).flat();\r\n\r\n    button.removeEventListener('click', animation);\r\n    parentBlock.classList.remove('xyz-in');\r\n    parentBlock.classList.add('xyz-out');\r\n\r\n    childBlocks.forEach((child) => {\r\n      child.classList.remove('xyz-in');\r\n      child.classList.add('xyz-out');\r\n    });\r\n\r\n    setTimeout(() => {\r\n      parentBlock.classList.toggle(`${parentBlock.className.split(' ')[0]}--hidden`);\r\n      childBlocks.forEach((child) => {\r\n        child.classList.remove('xyz-out');\r\n        child.classList.add('xyz-in');\r\n        parentBlock.classList.remove('xyz-out');\r\n        parentBlock.classList.add('xyz-in');\r\n      });\r\n      button.addEventListener('click', animation);\r\n    }, 600);\r\n  }\r\n\r\n  buttons.forEach((button) => {\r\n    button.addEventListener('click', animation);\r\n  });\r\n}\r\n","export default function setChat() {\r\n  // eslint-disable-next-line no-undef\r\n  const socket = io();\r\n\r\n  const messageContainer = document.querySelector('.chat-block');\r\n  const messageForm = document.querySelector('.chat-log__form');\r\n  const messageInput = document.querySelector('.chat-log__input');\r\n  const players = document.querySelectorAll('.head-row__name');\r\n\r\n  const userName = prompt('What is your name?');\r\n\r\n  function appendMessage(message) {\r\n    const messageElement = document.createElement('div');\r\n    messageElement.innerText = message;\r\n    messageContainer.append(messageElement);\r\n  }\r\n\r\n  function autoScroll() {\r\n    messageContainer.scrollTop = messageContainer.scrollHeight;\r\n  }\r\n\r\n  appendMessage('You joined');\r\n  socket.emit('new-user', userName);\r\n\r\n  socket.on('chat-message', (data) => {\r\n    appendMessage(`${data.name}: ${data.message}`);\r\n    autoScroll();\r\n  });\r\n\r\n  socket.on('user-connected', (name) => {\r\n    appendMessage(`${name} connected`);\r\n  });\r\n\r\n  socket.on('players', (name) => {\r\n    const nameOfUsers = Object.values(name);\r\n    players.forEach((el, i) => {\r\n      el.textContent = nameOfUsers[i];\r\n    });\r\n  });\r\n\r\n  socket.on('user-disconnected', (name) => {\r\n    appendMessage(`${name} disconnected`);\r\n  });\r\n\r\n  messageForm.addEventListener('submit', (e) => {\r\n    e.preventDefault();\r\n    if (messageInput.value === '') return;\r\n    const message = messageInput.value;\r\n    appendMessage(`You: ${message}`);\r\n    socket.emit('send-chat-message', message);\r\n    autoScroll();\r\n    messageInput.value = '';\r\n  });\r\n}\r\n","// function which disable passed dom element button\r\nfunction disableBtn(btnElement) {\r\n  btnElement.disabled = true;\r\n  btnElement.classList.add('hand__btn--disabled');\r\n}\r\n\r\n// function which enable passed dom element button\r\nfunction enableBtn(btnElement) {\r\n  btnElement.disabled = false;\r\n  btnElement.classList.remove('hand__btn--disabled');\r\n}\r\n\r\nexport default function setGameControls() {\r\n  // get needed dom elements\r\n  const btnTop = document.querySelector('.hand__btn--top');\r\n  const btnBottom = document.querySelector('.hand__btn--bottom');\r\n  const hand = document.querySelector('.hand__cards');\r\n\r\n  // const height of one line of cards (current = 200px card + 70px margins/decoration)\r\n  // dinamically calculated depends on html font-size property\r\n  const html = document.documentElement;\r\n  const style = window.getComputedStyle(html, null).getPropertyValue('font-size');\r\n  const fontSize = parseFloat(style);\r\n\r\n  const cardsLineHeight = fontSize * 27;\r\n  // const timeout used because time needed for scroll animation before values updated\r\n  const timeoutTime = 350;\r\n\r\n  // disable scrolling in hand block\r\n  hand.onwheel = function disableScroll() { return false; };\r\n\r\n  // event activated on each inserted card\r\n  hand.addEventListener('DOMNodeInserted', () => {\r\n    // scroll to inserted card (or do nothing)\r\n    hand.scrollTop = hand.scrollHeight - cardsLineHeight;\r\n    disableBtn(btnBottom);\r\n    // if scrolled to second+ line of cards\r\n    if (hand.scrollHeight > cardsLineHeight) {\r\n      enableBtn(btnTop);\r\n    }\r\n  });\r\n\r\n  // event activated on each removed card\r\n  hand.addEventListener('DOMNodeRemoved', () => {\r\n    setTimeout(() => {\r\n      // only one line of card left - disable both buttons\r\n      if (hand.scrollHeight === cardsLineHeight) {\r\n        disableBtn(btnBottom);\r\n        disableBtn(btnTop);\r\n      // if point of view is on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      } else if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at top button\r\n  btnTop.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnTop.disabled = true;\r\n\r\n    // scroll up one line\r\n    hand.scrollTop -= cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    // !important: dont use else here, need 2 separate if blocks\r\n    setTimeout(() => {\r\n      // if point of view at first line\r\n      if (hand.scrollTop === 0) {\r\n        disableBtn(btnTop);\r\n        enableBtn(btnBottom);\r\n      }\r\n      // if point of view not at first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnBottom);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnTop.disabled = false;\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n\r\n  // event on click at botom button\r\n  btnBottom.addEventListener('click', () => {\r\n    // block multiple clicks faster then timeoutTime value\r\n    btnBottom.disabled = true;\r\n\r\n    // scroll down on one line\r\n    hand.scrollTop += cardsLineHeight;\r\n\r\n    // disable/enable buttons depends on scroll position\r\n    setTimeout(() => {\r\n      // if point of view isnt on first line\r\n      if (hand.scrollTop !== 0) {\r\n        enableBtn(btnTop);\r\n        // remove disabled attribute added for blocking multiple clicks\r\n        btnBottom.disabled = false;\r\n      }\r\n      // if point of view on last line\r\n      //! cardsLineHeight * 2 because at different resolutions height in px may differ a bit\r\n      if (hand.scrollHeight - hand.scrollTop < cardsLineHeight * 2 && hand.scrollTop !== 0) {\r\n        disableBtn(btnBottom);\r\n      }\r\n    }, timeoutTime);\r\n  });\r\n}\r\n","export default function shuffle(array) {\r\n  for (let i = array.length - 1; i > 0; i -= 1) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [array[i], array[j]] = [array[j], array[i]];\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module\n__webpack_require__(\"./src/js/app.js\");\n// This entry module used 'exports' so it can't be inlined\n"],"sourceRoot":""}